var A2=Object.defineProperty;var k2=(n,e,t)=>e in n?A2(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var O2=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var Jm=(n,e,t)=>k2(n,typeof e!="symbol"?e+"":e,t);var $P=O2(Ee=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();var vf={exports:{}},to={},xf={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep;function N2(){if(ep)return Pe;ep=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),p=Symbol.iterator;function _(P){return P===null||typeof P!="object"?null:(P=p&&P[p]||P["@@iterator"],typeof P=="function"?P:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,M={};function w(P,O,ce){this.props=P,this.context=O,this.refs=M,this.updater=ce||v}w.prototype.isReactComponent={},w.prototype.setState=function(P,O){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,O,"setState")},w.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function C(){}C.prototype=w.prototype;function S(P,O,ce){this.props=P,this.context=O,this.refs=M,this.updater=ce||v}var L=S.prototype=new C;L.constructor=S,x(L,w.prototype),L.isPureReactComponent=!0;var I=Array.isArray,A=Object.prototype.hasOwnProperty,F={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function z(P,O,ce){var ge,ye={},we=null,Re=null;if(O!=null)for(ge in O.ref!==void 0&&(Re=O.ref),O.key!==void 0&&(we=""+O.key),O)A.call(O,ge)&&!U.hasOwnProperty(ge)&&(ye[ge]=O[ge]);var Ie=arguments.length-2;if(Ie===1)ye.children=ce;else if(1<Ie){for(var Oe=Array(Ie),Be=0;Be<Ie;Be++)Oe[Be]=arguments[Be+2];ye.children=Oe}if(P&&P.defaultProps)for(ge in Ie=P.defaultProps,Ie)ye[ge]===void 0&&(ye[ge]=Ie[ge]);return{$$typeof:n,type:P,key:we,ref:Re,props:ye,_owner:F.current}}function W(P,O){return{$$typeof:n,type:P.type,key:O,ref:P.ref,props:P.props,_owner:P._owner}}function K(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function te(P){var O={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ce){return O[ce]})}var ue=/\/+/g;function de(P,O){return typeof P=="object"&&P!==null&&P.key!=null?te(""+P.key):O.toString(36)}function ie(P,O,ce,ge,ye){var we=typeof P;(we==="undefined"||we==="boolean")&&(P=null);var Re=!1;if(P===null)Re=!0;else switch(we){case"string":case"number":Re=!0;break;case"object":switch(P.$$typeof){case n:case e:Re=!0}}if(Re)return Re=P,ye=ye(Re),P=ge===""?"."+de(Re,0):ge,I(ye)?(ce="",P!=null&&(ce=P.replace(ue,"$&/")+"/"),ie(ye,O,ce,"",function(Be){return Be})):ye!=null&&(K(ye)&&(ye=W(ye,ce+(!ye.key||Re&&Re.key===ye.key?"":(""+ye.key).replace(ue,"$&/")+"/")+P)),O.push(ye)),1;if(Re=0,ge=ge===""?".":ge+":",I(P))for(var Ie=0;Ie<P.length;Ie++){we=P[Ie];var Oe=ge+de(we,Ie);Re+=ie(we,O,ce,Oe,ye)}else if(Oe=_(P),typeof Oe=="function")for(P=Oe.call(P),Ie=0;!(we=P.next()).done;)we=we.value,Oe=ge+de(we,Ie++),Re+=ie(we,O,ce,Oe,ye);else if(we==="object")throw O=String(P),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return Re}function Ce(P,O,ce){if(P==null)return P;var ge=[],ye=0;return ie(P,ge,"","",function(we){return O.call(ce,we,ye++)}),ge}function ae(P){if(P._status===-1){var O=P._result;O=O(),O.then(function(ce){(P._status===0||P._status===-1)&&(P._status=1,P._result=ce)},function(ce){(P._status===0||P._status===-1)&&(P._status=2,P._result=ce)}),P._status===-1&&(P._status=0,P._result=O)}if(P._status===1)return P._result.default;throw P._result}var re={current:null},G={transition:null},Z={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:G,ReactCurrentOwner:F};function X(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:Ce,forEach:function(P,O,ce){Ce(P,function(){O.apply(this,arguments)},ce)},count:function(P){var O=0;return Ce(P,function(){O++}),O},toArray:function(P){return Ce(P,function(O){return O})||[]},only:function(P){if(!K(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Pe.Component=w,Pe.Fragment=t,Pe.Profiler=r,Pe.PureComponent=S,Pe.StrictMode=i,Pe.Suspense=c,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Pe.act=X,Pe.cloneElement=function(P,O,ce){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var ge=x({},P.props),ye=P.key,we=P.ref,Re=P._owner;if(O!=null){if(O.ref!==void 0&&(we=O.ref,Re=F.current),O.key!==void 0&&(ye=""+O.key),P.type&&P.type.defaultProps)var Ie=P.type.defaultProps;for(Oe in O)A.call(O,Oe)&&!U.hasOwnProperty(Oe)&&(ge[Oe]=O[Oe]===void 0&&Ie!==void 0?Ie[Oe]:O[Oe])}var Oe=arguments.length-2;if(Oe===1)ge.children=ce;else if(1<Oe){Ie=Array(Oe);for(var Be=0;Be<Oe;Be++)Ie[Be]=arguments[Be+2];ge.children=Ie}return{$$typeof:n,type:P.type,key:ye,ref:we,props:ge,_owner:Re}},Pe.createContext=function(P){return P={$$typeof:l,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:o,_context:P},P.Consumer=P},Pe.createElement=z,Pe.createFactory=function(P){var O=z.bind(null,P);return O.type=P,O},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(P){return{$$typeof:u,render:P}},Pe.isValidElement=K,Pe.lazy=function(P){return{$$typeof:g,_payload:{_status:-1,_result:P},_init:ae}},Pe.memo=function(P,O){return{$$typeof:d,type:P,compare:O===void 0?null:O}},Pe.startTransition=function(P){var O=G.transition;G.transition={};try{P()}finally{G.transition=O}},Pe.unstable_act=X,Pe.useCallback=function(P,O){return re.current.useCallback(P,O)},Pe.useContext=function(P){return re.current.useContext(P)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(P){return re.current.useDeferredValue(P)},Pe.useEffect=function(P,O){return re.current.useEffect(P,O)},Pe.useId=function(){return re.current.useId()},Pe.useImperativeHandle=function(P,O,ce){return re.current.useImperativeHandle(P,O,ce)},Pe.useInsertionEffect=function(P,O){return re.current.useInsertionEffect(P,O)},Pe.useLayoutEffect=function(P,O){return re.current.useLayoutEffect(P,O)},Pe.useMemo=function(P,O){return re.current.useMemo(P,O)},Pe.useReducer=function(P,O,ce){return re.current.useReducer(P,O,ce)},Pe.useRef=function(P){return re.current.useRef(P)},Pe.useState=function(P){return re.current.useState(P)},Pe.useSyncExternalStore=function(P,O,ce){return re.current.useSyncExternalStore(P,O,ce)},Pe.useTransition=function(){return re.current.useTransition()},Pe.version="18.3.1",Pe}var tp;function yd(){return tp||(tp=1,xf.exports=N2()),xf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var np;function D2(){if(np)return to;np=1;var n=yd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,r=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,c,d){var g,p={},_=null,v=null;d!==void 0&&(_=""+d),c.key!==void 0&&(_=""+c.key),c.ref!==void 0&&(v=c.ref);for(g in c)i.call(c,g)&&!o.hasOwnProperty(g)&&(p[g]=c[g]);if(u&&u.defaultProps)for(g in c=u.defaultProps,c)p[g]===void 0&&(p[g]=c[g]);return{$$typeof:e,type:u,key:_,ref:v,props:p,_owner:r.current}}return to.Fragment=t,to.jsx=l,to.jsxs=l,to}var ip;function F2(){return ip||(ip=1,vf.exports=D2()),vf.exports}var le=F2(),j=yd(),vu={},Ef={exports:{}},Yt={},wf={exports:{}},Mf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp;function b2(){return rp||(rp=1,function(n){function e(G,Z){var X=G.length;G.push(Z);e:for(;0<X;){var P=X-1>>>1,O=G[P];if(0<r(O,Z))G[P]=Z,G[X]=O,X=P;else break e}}function t(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var Z=G[0],X=G.pop();if(X!==Z){G[0]=X;e:for(var P=0,O=G.length,ce=O>>>1;P<ce;){var ge=2*(P+1)-1,ye=G[ge],we=ge+1,Re=G[we];if(0>r(ye,X))we<O&&0>r(Re,ye)?(G[P]=Re,G[we]=X,P=we):(G[P]=ye,G[ge]=X,P=ge);else if(we<O&&0>r(Re,X))G[P]=Re,G[we]=X,P=we;else break e}}return Z}function r(G,Z){var X=G.sortIndex-Z.sortIndex;return X!==0?X:G.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var c=[],d=[],g=1,p=null,_=3,v=!1,x=!1,M=!1,w=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(G){for(var Z=t(d);Z!==null;){if(Z.callback===null)i(d);else if(Z.startTime<=G)i(d),Z.sortIndex=Z.expirationTime,e(c,Z);else break;Z=t(d)}}function I(G){if(M=!1,L(G),!x)if(t(c)!==null)x=!0,ae(A);else{var Z=t(d);Z!==null&&re(I,Z.startTime-G)}}function A(G,Z){x=!1,M&&(M=!1,C(z),z=-1),v=!0;var X=_;try{for(L(Z),p=t(c);p!==null&&(!(p.expirationTime>Z)||G&&!te());){var P=p.callback;if(typeof P=="function"){p.callback=null,_=p.priorityLevel;var O=P(p.expirationTime<=Z);Z=n.unstable_now(),typeof O=="function"?p.callback=O:p===t(c)&&i(c),L(Z)}else i(c);p=t(c)}if(p!==null)var ce=!0;else{var ge=t(d);ge!==null&&re(I,ge.startTime-Z),ce=!1}return ce}finally{p=null,_=X,v=!1}}var F=!1,U=null,z=-1,W=5,K=-1;function te(){return!(n.unstable_now()-K<W)}function ue(){if(U!==null){var G=n.unstable_now();K=G;var Z=!0;try{Z=U(!0,G)}finally{Z?de():(F=!1,U=null)}}else F=!1}var de;if(typeof S=="function")de=function(){S(ue)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,Ce=ie.port2;ie.port1.onmessage=ue,de=function(){Ce.postMessage(null)}}else de=function(){w(ue,0)};function ae(G){U=G,F||(F=!0,de())}function re(G,Z){z=w(function(){G(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){x||v||(x=!0,ae(A))},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(G){switch(_){case 1:case 2:case 3:var Z=3;break;default:Z=_}var X=_;_=Z;try{return G()}finally{_=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,Z){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var X=_;_=G;try{return Z()}finally{_=X}},n.unstable_scheduleCallback=function(G,Z,X){var P=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?P+X:P):X=P,G){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=X+O,G={id:g++,callback:Z,priorityLevel:G,startTime:X,expirationTime:O,sortIndex:-1},X>P?(G.sortIndex=X,e(d,G),t(c)===null&&G===t(d)&&(M?(C(z),z=-1):M=!0,re(I,X-P))):(G.sortIndex=O,e(c,G),x||v||(x=!0,ae(A))),G},n.unstable_shouldYield=te,n.unstable_wrapCallback=function(G){var Z=_;return function(){var X=_;_=Z;try{return G.apply(this,arguments)}finally{_=X}}}}(Mf)),Mf}var sp;function z2(){return sp||(sp=1,wf.exports=b2()),wf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ap;function G2(){if(ap)return Yt;ap=1;var n=yd(),e=z2();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,h=1;h<arguments.length;h++)a+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,r={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(r[s]=a,s=0;s<a.length;s++)i.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},p={};function _(s){return c.call(p,s)?!0:c.call(g,s)?!1:d.test(s)?p[s]=!0:(g[s]=!0,!1)}function v(s,a,h,f){if(h!==null&&h.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:h!==null?!h.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function x(s,a,h,f){if(a===null||typeof a>"u"||v(s,a,h,f))return!0;if(f)return!1;if(h!==null)switch(h.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function M(s,a,h,f,m,y,E){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=h,this.propertyName=s,this.type=a,this.sanitizeURL=y,this.removeEmptyString=E}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){w[s]=new M(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];w[a]=new M(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){w[s]=new M(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){w[s]=new M(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){w[s]=new M(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){w[s]=new M(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){w[s]=new M(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){w[s]=new M(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){w[s]=new M(s,5,!1,s.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function S(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(C,S);w[a]=new M(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(C,S);w[a]=new M(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(C,S);w[a]=new M(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){w[s]=new M(s,1,!1,s.toLowerCase(),null,!1,!1)}),w.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){w[s]=new M(s,1,!1,s.toLowerCase(),null,!0,!0)});function L(s,a,h,f){var m=w.hasOwnProperty(a)?w[a]:null;(m!==null?m.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(x(a,h,m,f)&&(h=null),f||m===null?_(a)&&(h===null?s.removeAttribute(a):s.setAttribute(a,""+h)):m.mustUseProperty?s[m.propertyName]=h===null?m.type===3?!1:"":h:(a=m.attributeName,f=m.attributeNamespace,h===null?s.removeAttribute(a):(m=m.type,h=m===3||m===4&&h===!0?"":""+h,f?s.setAttributeNS(f,a,h):s.setAttribute(a,h))))}var I=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),F=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),te=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),Ce=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),G=Symbol.iterator;function Z(s){return s===null||typeof s!="object"?null:(s=G&&s[G]||s["@@iterator"],typeof s=="function"?s:null)}var X=Object.assign,P;function O(s){if(P===void 0)try{throw Error()}catch(h){var a=h.stack.trim().match(/\n( *(at )?)/);P=a&&a[1]||""}return`
`+P+s}var ce=!1;function ge(s,a){if(!s||ce)return"";ce=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(b){var f=b}Reflect.construct(s,[],a)}else{try{a.call()}catch(b){f=b}s.call(a.prototype)}else{try{throw Error()}catch(b){f=b}s()}}catch(b){if(b&&f&&typeof b.stack=="string"){for(var m=b.stack.split(`
`),y=f.stack.split(`
`),E=m.length-1,R=y.length-1;1<=E&&0<=R&&m[E]!==y[R];)R--;for(;1<=E&&0<=R;E--,R--)if(m[E]!==y[R]){if(E!==1||R!==1)do if(E--,R--,0>R||m[E]!==y[R]){var T=`
`+m[E].replace(" at new "," at ");return s.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",s.displayName)),T}while(1<=E&&0<=R);break}}}finally{ce=!1,Error.prepareStackTrace=h}return(s=s?s.displayName||s.name:"")?O(s):""}function ye(s){switch(s.tag){case 5:return O(s.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return s=ge(s.type,!1),s;case 11:return s=ge(s.type.render,!1),s;case 1:return s=ge(s.type,!0),s;default:return""}}function we(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case U:return"Fragment";case F:return"Portal";case W:return"Profiler";case z:return"StrictMode";case de:return"Suspense";case ie:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case te:return(s.displayName||"Context")+".Consumer";case K:return(s._context.displayName||"Context")+".Provider";case ue:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ce:return a=s.displayName||null,a!==null?a:we(s.type)||"Memo";case ae:a=s._payload,s=s._init;try{return we(s(a))}catch{}}return null}function Re(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(a);case 8:return a===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ie(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Oe(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Be(s){var a=Oe(s)?"checked":"value",h=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),f=""+s[a];if(!s.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var m=h.get,y=h.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(E){f=""+E,y.call(this,E)}}),Object.defineProperty(s,a,{enumerable:h.enumerable}),{getValue:function(){return f},setValue:function(E){f=""+E},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ti(s){s._valueTracker||(s._valueTracker=Be(s))}function ns(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var h=a.getValue(),f="";return s&&(f=Oe(s)?s.checked?"true":"false":s.value),s=f,s!==h?(a.setValue(s),!0):!1}function vr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ni(s,a){var h=a.checked;return X({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??s._wrapperState.initialChecked})}function is(s,a){var h=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;h=Ie(a.value!=null?a.value:h),s._wrapperState={initialChecked:f,initialValue:h,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ul(s,a){a=a.checked,a!=null&&L(s,"checked",a,!1)}function pa(s,a){ul(s,a);var h=Ie(a.value),f=a.type;if(h!=null)f==="number"?(h===0&&s.value===""||s.value!=h)&&(s.value=""+h):s.value!==""+h&&(s.value=""+h);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?rs(s,a.type,h):a.hasOwnProperty("defaultValue")&&rs(s,a.type,Ie(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function hl(s,a,h){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,h||a===s.value||(s.value=a),s.defaultValue=a}h=s.name,h!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,h!==""&&(s.name=h)}function rs(s,a,h){(a!=="number"||vr(s.ownerDocument)!==s)&&(h==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+h&&(s.defaultValue=""+h))}var ii=Array.isArray;function Ti(s,a,h,f){if(s=s.options,a){a={};for(var m=0;m<h.length;m++)a["$"+h[m]]=!0;for(h=0;h<s.length;h++)m=a.hasOwnProperty("$"+s[h].value),s[h].selected!==m&&(s[h].selected=m),m&&f&&(s[h].defaultSelected=!0)}else{for(h=""+Ie(h),a=null,m=0;m<s.length;m++){if(s[m].value===h){s[m].selected=!0,f&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function Pi(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return X({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Li(s,a){var h=a.value;if(h==null){if(h=a.children,a=a.defaultValue,h!=null){if(a!=null)throw Error(t(92));if(ii(h)){if(1<h.length)throw Error(t(93));h=h[0]}a=h}a==null&&(a=""),h=a}s._wrapperState={initialValue:Ie(h)}}function ss(s,a){var h=Ie(a.value),f=Ie(a.defaultValue);h!=null&&(h=""+h,h!==s.value&&(s.value=h),a.defaultValue==null&&s.defaultValue!==h&&(s.defaultValue=h)),f!=null&&(s.defaultValue=""+f)}function as(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function xr(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ai(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?xr(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var os,_a=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,h,f,m){MSApp.execUnsafeLocalFunction(function(){return s(a,h,f,m)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(os=os||document.createElement("div"),os.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=os.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function ki(s,a){if(a){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=a;return}}s.textContent=a}var ri={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fh=["Webkit","ms","Moz","O"];Object.keys(ri).forEach(function(s){Fh.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),ri[a]=ri[s]})});function cl(s,a,h){return a==null||typeof a=="boolean"||a===""?"":h||typeof a!="number"||a===0||ri.hasOwnProperty(s)&&ri[s]?(""+a).trim():a+"px"}function ya(s,a){s=s.style;for(var h in a)if(a.hasOwnProperty(h)){var f=h.indexOf("--")===0,m=cl(h,a[h],f);h==="float"&&(h="cssFloat"),f?s.setProperty(h,m):s[h]=m}}var fl=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Er(s,a){if(a){if(fl[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function ls(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var va=null;function wr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var si=null,cn=null,fn=null;function xa(s){if(s=ja(s)){if(typeof si!="function")throw Error(t(280));var a=s.stateNode;a&&(a=Nl(a),si(s.stateNode,s.type,a))}}function Ea(s){cn?fn?fn.push(s):fn=[s]:cn=s}function At(){if(cn){var s=cn,a=fn;if(fn=cn=null,xa(s),a)for(s=0;s<a.length;s++)xa(a[s])}}function zn(s,a){return s(a)}function kt(){}var Bt=!1;function Ot(s,a,h){if(Bt)return s(a,h);Bt=!0;try{return zn(s,a,h)}finally{Bt=!1,(cn!==null||fn!==null)&&(kt(),At())}}function Nt(s,a){var h=s.stateNode;if(h===null)return null;var f=Nl(h);if(f===null)return null;h=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(t(231,a,typeof h));return h}var rn=!1;if(u)try{var We={};Object.defineProperty(We,"passive",{get:function(){rn=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{rn=!1}function pt(s,a,h,f,m,y,E,R,T){var b=Array.prototype.slice.call(arguments,3);try{a.apply(h,b)}catch(V){this.onError(V)}}var Dt=!1,us=null,dl=!1,bh=null,G1={onError:function(s){Dt=!0,us=s}};function j1(s,a,h,f,m,y,E,R,T){Dt=!1,us=null,pt.apply(G1,arguments)}function W1(s,a,h,f,m,y,E,R,T){if(j1.apply(this,arguments),Dt){if(Dt){var b=us;Dt=!1,us=null}else throw Error(t(198));dl||(dl=!0,bh=b)}}function Mr(s){var a=s,h=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,a.flags&4098&&(h=a.return),s=a.return;while(s)}return a.tag===3?h:null}function wg(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Mg(s){if(Mr(s)!==s)throw Error(t(188))}function B1(s){var a=s.alternate;if(!a){if(a=Mr(s),a===null)throw Error(t(188));return a!==s?null:s}for(var h=s,f=a;;){var m=h.return;if(m===null)break;var y=m.alternate;if(y===null){if(f=m.return,f!==null){h=f;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===h)return Mg(m),s;if(y===f)return Mg(m),a;y=y.sibling}throw Error(t(188))}if(h.return!==f.return)h=m,f=y;else{for(var E=!1,R=m.child;R;){if(R===h){E=!0,h=m,f=y;break}if(R===f){E=!0,f=m,h=y;break}R=R.sibling}if(!E){for(R=y.child;R;){if(R===h){E=!0,h=y,f=m;break}if(R===f){E=!0,f=y,h=m;break}R=R.sibling}if(!E)throw Error(t(189))}}if(h.alternate!==f)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?s:a}function Cg(s){return s=B1(s),s!==null?Sg(s):null}function Sg(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Sg(s);if(a!==null)return a;s=s.sibling}return null}var Rg=e.unstable_scheduleCallback,Ig=e.unstable_cancelCallback,U1=e.unstable_shouldYield,$1=e.unstable_requestPaint,tt=e.unstable_now,V1=e.unstable_getCurrentPriorityLevel,zh=e.unstable_ImmediatePriority,Tg=e.unstable_UserBlockingPriority,gl=e.unstable_NormalPriority,X1=e.unstable_LowPriority,Pg=e.unstable_IdlePriority,ml=null,Gn=null;function H1(s){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(ml,s,void 0,(s.current.flags&128)===128)}catch{}}var Cn=Math.clz32?Math.clz32:K1,Y1=Math.log,q1=Math.LN2;function K1(s){return s>>>=0,s===0?32:31-(Y1(s)/q1|0)|0}var pl=64,_l=4194304;function wa(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function yl(s,a){var h=s.pendingLanes;if(h===0)return 0;var f=0,m=s.suspendedLanes,y=s.pingedLanes,E=h&268435455;if(E!==0){var R=E&~m;R!==0?f=wa(R):(y&=E,y!==0&&(f=wa(y)))}else E=h&~m,E!==0?f=wa(E):y!==0&&(f=wa(y));if(f===0)return 0;if(a!==0&&a!==f&&!(a&m)&&(m=f&-f,y=a&-a,m>=y||m===16&&(y&4194240)!==0))return a;if(f&4&&(f|=h&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=f;0<a;)h=31-Cn(a),m=1<<h,f|=s[h],a&=~m;return f}function Z1(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q1(s,a){for(var h=s.suspendedLanes,f=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes;0<y;){var E=31-Cn(y),R=1<<E,T=m[E];T===-1?(!(R&h)||R&f)&&(m[E]=Z1(R,a)):T<=a&&(s.expiredLanes|=R),y&=~R}}function Gh(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Lg(){var s=pl;return pl<<=1,!(pl&4194240)&&(pl=64),s}function jh(s){for(var a=[],h=0;31>h;h++)a.push(s);return a}function Ma(s,a,h){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Cn(a),s[a]=h}function J1(s,a){var h=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<h;){var m=31-Cn(h),y=1<<m;a[m]=0,f[m]=-1,s[m]=-1,h&=~y}}function Wh(s,a){var h=s.entangledLanes|=a;for(s=s.entanglements;h;){var f=31-Cn(h),m=1<<f;m&a|s[f]&a&&(s[f]|=a),h&=~m}}var Ge=0;function Ag(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var kg,Bh,Og,Ng,Dg,Uh=!1,vl=[],Oi=null,Ni=null,Di=null,Ca=new Map,Sa=new Map,Fi=[],ev="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fg(s,a){switch(s){case"focusin":case"focusout":Oi=null;break;case"dragenter":case"dragleave":Ni=null;break;case"mouseover":case"mouseout":Di=null;break;case"pointerover":case"pointerout":Ca.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sa.delete(a.pointerId)}}function Ra(s,a,h,f,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:h,eventSystemFlags:f,nativeEvent:y,targetContainers:[m]},a!==null&&(a=ja(a),a!==null&&Bh(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function tv(s,a,h,f,m){switch(a){case"focusin":return Oi=Ra(Oi,s,a,h,f,m),!0;case"dragenter":return Ni=Ra(Ni,s,a,h,f,m),!0;case"mouseover":return Di=Ra(Di,s,a,h,f,m),!0;case"pointerover":var y=m.pointerId;return Ca.set(y,Ra(Ca.get(y)||null,s,a,h,f,m)),!0;case"gotpointercapture":return y=m.pointerId,Sa.set(y,Ra(Sa.get(y)||null,s,a,h,f,m)),!0}return!1}function bg(s){var a=Cr(s.target);if(a!==null){var h=Mr(a);if(h!==null){if(a=h.tag,a===13){if(a=wg(h),a!==null){s.blockedOn=a,Dg(s.priority,function(){Og(h)});return}}else if(a===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function xl(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var h=Vh(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(h===null){h=s.nativeEvent;var f=new h.constructor(h.type,h);va=f,h.target.dispatchEvent(f),va=null}else return a=ja(h),a!==null&&Bh(a),s.blockedOn=h,!1;a.shift()}return!0}function zg(s,a,h){xl(s)&&h.delete(a)}function nv(){Uh=!1,Oi!==null&&xl(Oi)&&(Oi=null),Ni!==null&&xl(Ni)&&(Ni=null),Di!==null&&xl(Di)&&(Di=null),Ca.forEach(zg),Sa.forEach(zg)}function Ia(s,a){s.blockedOn===a&&(s.blockedOn=null,Uh||(Uh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nv)))}function Ta(s){function a(m){return Ia(m,s)}if(0<vl.length){Ia(vl[0],s);for(var h=1;h<vl.length;h++){var f=vl[h];f.blockedOn===s&&(f.blockedOn=null)}}for(Oi!==null&&Ia(Oi,s),Ni!==null&&Ia(Ni,s),Di!==null&&Ia(Di,s),Ca.forEach(a),Sa.forEach(a),h=0;h<Fi.length;h++)f=Fi[h],f.blockedOn===s&&(f.blockedOn=null);for(;0<Fi.length&&(h=Fi[0],h.blockedOn===null);)bg(h),h.blockedOn===null&&Fi.shift()}var hs=I.ReactCurrentBatchConfig,El=!0;function iv(s,a,h,f){var m=Ge,y=hs.transition;hs.transition=null;try{Ge=1,$h(s,a,h,f)}finally{Ge=m,hs.transition=y}}function rv(s,a,h,f){var m=Ge,y=hs.transition;hs.transition=null;try{Ge=4,$h(s,a,h,f)}finally{Ge=m,hs.transition=y}}function $h(s,a,h,f){if(El){var m=Vh(s,a,h,f);if(m===null)lc(s,a,f,wl,h),Fg(s,f);else if(tv(m,s,a,h,f))f.stopPropagation();else if(Fg(s,f),a&4&&-1<ev.indexOf(s)){for(;m!==null;){var y=ja(m);if(y!==null&&kg(y),y=Vh(s,a,h,f),y===null&&lc(s,a,f,wl,h),y===m)break;m=y}m!==null&&f.stopPropagation()}else lc(s,a,f,null,h)}}var wl=null;function Vh(s,a,h,f){if(wl=null,s=wr(f),s=Cr(s),s!==null)if(a=Mr(s),a===null)s=null;else if(h=a.tag,h===13){if(s=wg(a),s!==null)return s;s=null}else if(h===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return wl=s,null}function Gg(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(V1()){case zh:return 1;case Tg:return 4;case gl:case X1:return 16;case Pg:return 536870912;default:return 16}default:return 16}}var bi=null,Xh=null,Ml=null;function jg(){if(Ml)return Ml;var s,a=Xh,h=a.length,f,m="value"in bi?bi.value:bi.textContent,y=m.length;for(s=0;s<h&&a[s]===m[s];s++);var E=h-s;for(f=1;f<=E&&a[h-f]===m[y-f];f++);return Ml=m.slice(s,1<f?1-f:void 0)}function Cl(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Sl(){return!0}function Wg(){return!1}function sn(s){function a(h,f,m,y,E){this._reactName=h,this._targetInst=m,this.type=f,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(h=s[R],this[R]=h?h(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Sl:Wg,this.isPropagationStopped=Wg,this}return X(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Sl)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Sl)},persist:function(){},isPersistent:Sl}),a}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hh=sn(cs),Pa=X({},cs,{view:0,detail:0}),sv=sn(Pa),Yh,qh,La,Rl=X({},Pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==La&&(La&&s.type==="mousemove"?(Yh=s.screenX-La.screenX,qh=s.screenY-La.screenY):qh=Yh=0,La=s),Yh)},movementY:function(s){return"movementY"in s?s.movementY:qh}}),Bg=sn(Rl),av=X({},Rl,{dataTransfer:0}),ov=sn(av),lv=X({},Pa,{relatedTarget:0}),Kh=sn(lv),uv=X({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),hv=sn(uv),cv=X({},cs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),fv=sn(cv),dv=X({},cs,{data:0}),Ug=sn(dv),gv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _v(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=pv[s])?!!a[s]:!1}function Zh(){return _v}var yv=X({},Pa,{key:function(s){if(s.key){var a=gv[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Cl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?mv[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zh,charCode:function(s){return s.type==="keypress"?Cl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Cl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),vv=sn(yv),xv=X({},Rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$g=sn(xv),Ev=X({},Pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zh}),wv=sn(Ev),Mv=X({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cv=sn(Mv),Sv=X({},Rl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Rv=sn(Sv),Iv=[9,13,27,32],Qh=u&&"CompositionEvent"in window,Aa=null;u&&"documentMode"in document&&(Aa=document.documentMode);var Tv=u&&"TextEvent"in window&&!Aa,Vg=u&&(!Qh||Aa&&8<Aa&&11>=Aa),Xg=" ",Hg=!1;function Yg(s,a){switch(s){case"keyup":return Iv.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qg(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var fs=!1;function Pv(s,a){switch(s){case"compositionend":return qg(a);case"keypress":return a.which!==32?null:(Hg=!0,Xg);case"textInput":return s=a.data,s===Xg&&Hg?null:s;default:return null}}function Lv(s,a){if(fs)return s==="compositionend"||!Qh&&Yg(s,a)?(s=jg(),Ml=Xh=bi=null,fs=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Vg&&a.locale!=="ko"?null:a.data;default:return null}}var Av={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kg(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Av[s.type]:a==="textarea"}function Zg(s,a,h,f){Ea(f),a=Al(a,"onChange"),0<a.length&&(h=new Hh("onChange","change",null,h,f),s.push({event:h,listeners:a}))}var ka=null,Oa=null;function kv(s){m0(s,0)}function Il(s){var a=_s(s);if(ns(a))return s}function Ov(s,a){if(s==="change")return a}var Qg=!1;if(u){var Jh;if(u){var ec="oninput"in document;if(!ec){var Jg=document.createElement("div");Jg.setAttribute("oninput","return;"),ec=typeof Jg.oninput=="function"}Jh=ec}else Jh=!1;Qg=Jh&&(!document.documentMode||9<document.documentMode)}function e0(){ka&&(ka.detachEvent("onpropertychange",t0),Oa=ka=null)}function t0(s){if(s.propertyName==="value"&&Il(Oa)){var a=[];Zg(a,Oa,s,wr(s)),Ot(kv,a)}}function Nv(s,a,h){s==="focusin"?(e0(),ka=a,Oa=h,ka.attachEvent("onpropertychange",t0)):s==="focusout"&&e0()}function Dv(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Il(Oa)}function Fv(s,a){if(s==="click")return Il(a)}function bv(s,a){if(s==="input"||s==="change")return Il(a)}function zv(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Sn=typeof Object.is=="function"?Object.is:zv;function Na(s,a){if(Sn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var h=Object.keys(s),f=Object.keys(a);if(h.length!==f.length)return!1;for(f=0;f<h.length;f++){var m=h[f];if(!c.call(a,m)||!Sn(s[m],a[m]))return!1}return!0}function n0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function i0(s,a){var h=n0(s);s=0;for(var f;h;){if(h.nodeType===3){if(f=s+h.textContent.length,s<=a&&f>=a)return{node:h,offset:a-s};s=f}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=n0(h)}}function r0(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?r0(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function s0(){for(var s=window,a=vr();a instanceof s.HTMLIFrameElement;){try{var h=typeof a.contentWindow.location.href=="string"}catch{h=!1}if(h)s=a.contentWindow;else break;a=vr(s.document)}return a}function tc(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function Gv(s){var a=s0(),h=s.focusedElem,f=s.selectionRange;if(a!==h&&h&&h.ownerDocument&&r0(h.ownerDocument.documentElement,h)){if(f!==null&&tc(h)){if(a=f.start,s=f.end,s===void 0&&(s=a),"selectionStart"in h)h.selectionStart=a,h.selectionEnd=Math.min(s,h.value.length);else if(s=(a=h.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var m=h.textContent.length,y=Math.min(f.start,m);f=f.end===void 0?y:Math.min(f.end,m),!s.extend&&y>f&&(m=f,f=y,y=m),m=i0(h,y);var E=i0(h,f);m&&E&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==E.node||s.focusOffset!==E.offset)&&(a=a.createRange(),a.setStart(m.node,m.offset),s.removeAllRanges(),y>f?(s.addRange(a),s.extend(E.node,E.offset)):(a.setEnd(E.node,E.offset),s.addRange(a)))}}for(a=[],s=h;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<a.length;h++)s=a[h],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var jv=u&&"documentMode"in document&&11>=document.documentMode,ds=null,nc=null,Da=null,ic=!1;function a0(s,a,h){var f=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;ic||ds==null||ds!==vr(f)||(f=ds,"selectionStart"in f&&tc(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Da&&Na(Da,f)||(Da=f,f=Al(nc,"onSelect"),0<f.length&&(a=new Hh("onSelect","select",null,a,h),s.push({event:a,listeners:f}),a.target=ds)))}function Tl(s,a){var h={};return h[s.toLowerCase()]=a.toLowerCase(),h["Webkit"+s]="webkit"+a,h["Moz"+s]="moz"+a,h}var gs={animationend:Tl("Animation","AnimationEnd"),animationiteration:Tl("Animation","AnimationIteration"),animationstart:Tl("Animation","AnimationStart"),transitionend:Tl("Transition","TransitionEnd")},rc={},o0={};u&&(o0=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function Pl(s){if(rc[s])return rc[s];if(!gs[s])return s;var a=gs[s],h;for(h in a)if(a.hasOwnProperty(h)&&h in o0)return rc[s]=a[h];return s}var l0=Pl("animationend"),u0=Pl("animationiteration"),h0=Pl("animationstart"),c0=Pl("transitionend"),f0=new Map,d0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zi(s,a){f0.set(s,a),o(a,[s])}for(var sc=0;sc<d0.length;sc++){var ac=d0[sc],Wv=ac.toLowerCase(),Bv=ac[0].toUpperCase()+ac.slice(1);zi(Wv,"on"+Bv)}zi(l0,"onAnimationEnd"),zi(u0,"onAnimationIteration"),zi(h0,"onAnimationStart"),zi("dblclick","onDoubleClick"),zi("focusin","onFocus"),zi("focusout","onBlur"),zi(c0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fa));function g0(s,a,h){var f=s.type||"unknown-event";s.currentTarget=h,W1(f,a,void 0,s),s.currentTarget=null}function m0(s,a){a=(a&4)!==0;for(var h=0;h<s.length;h++){var f=s[h],m=f.event;f=f.listeners;e:{var y=void 0;if(a)for(var E=f.length-1;0<=E;E--){var R=f[E],T=R.instance,b=R.currentTarget;if(R=R.listener,T!==y&&m.isPropagationStopped())break e;g0(m,R,b),y=T}else for(E=0;E<f.length;E++){if(R=f[E],T=R.instance,b=R.currentTarget,R=R.listener,T!==y&&m.isPropagationStopped())break e;g0(m,R,b),y=T}}}if(dl)throw s=bh,dl=!1,bh=null,s}function $e(s,a){var h=a[gc];h===void 0&&(h=a[gc]=new Set);var f=s+"__bubble";h.has(f)||(p0(a,s,2,!1),h.add(f))}function oc(s,a,h){var f=0;a&&(f|=4),p0(h,s,f,a)}var Ll="_reactListening"+Math.random().toString(36).slice(2);function ba(s){if(!s[Ll]){s[Ll]=!0,i.forEach(function(h){h!=="selectionchange"&&(Uv.has(h)||oc(h,!1,s),oc(h,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Ll]||(a[Ll]=!0,oc("selectionchange",!1,a))}}function p0(s,a,h,f){switch(Gg(a)){case 1:var m=iv;break;case 4:m=rv;break;default:m=$h}h=m.bind(null,a,h,s),m=void 0,!rn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),f?m!==void 0?s.addEventListener(a,h,{capture:!0,passive:m}):s.addEventListener(a,h,!0):m!==void 0?s.addEventListener(a,h,{passive:m}):s.addEventListener(a,h,!1)}function lc(s,a,h,f,m){var y=f;if(!(a&1)&&!(a&2)&&f!==null)e:for(;;){if(f===null)return;var E=f.tag;if(E===3||E===4){var R=f.stateNode.containerInfo;if(R===m||R.nodeType===8&&R.parentNode===m)break;if(E===4)for(E=f.return;E!==null;){var T=E.tag;if((T===3||T===4)&&(T=E.stateNode.containerInfo,T===m||T.nodeType===8&&T.parentNode===m))return;E=E.return}for(;R!==null;){if(E=Cr(R),E===null)return;if(T=E.tag,T===5||T===6){f=y=E;continue e}R=R.parentNode}}f=f.return}Ot(function(){var b=y,V=wr(h),Y=[];e:{var $=f0.get(s);if($!==void 0){var ee=Hh,se=s;switch(s){case"keypress":if(Cl(h)===0)break e;case"keydown":case"keyup":ee=vv;break;case"focusin":se="focus",ee=Kh;break;case"focusout":se="blur",ee=Kh;break;case"beforeblur":case"afterblur":ee=Kh;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Bg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=ov;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=wv;break;case l0:case u0:case h0:ee=hv;break;case c0:ee=Cv;break;case"scroll":ee=sv;break;case"wheel":ee=Rv;break;case"copy":case"cut":case"paste":ee=fv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=$g}var oe=(a&4)!==0,nt=!oe&&s==="scroll",N=oe?$!==null?$+"Capture":null:$;oe=[];for(var k=b,D;k!==null;){D=k;var q=D.stateNode;if(D.tag===5&&q!==null&&(D=q,N!==null&&(q=Nt(k,N),q!=null&&oe.push(za(k,q,D)))),nt)break;k=k.return}0<oe.length&&($=new ee($,se,null,h,V),Y.push({event:$,listeners:oe}))}}if(!(a&7)){e:{if($=s==="mouseover"||s==="pointerover",ee=s==="mouseout"||s==="pointerout",$&&h!==va&&(se=h.relatedTarget||h.fromElement)&&(Cr(se)||se[ai]))break e;if((ee||$)&&($=V.window===V?V:($=V.ownerDocument)?$.defaultView||$.parentWindow:window,ee?(se=h.relatedTarget||h.toElement,ee=b,se=se?Cr(se):null,se!==null&&(nt=Mr(se),se!==nt||se.tag!==5&&se.tag!==6)&&(se=null)):(ee=null,se=b),ee!==se)){if(oe=Bg,q="onMouseLeave",N="onMouseEnter",k="mouse",(s==="pointerout"||s==="pointerover")&&(oe=$g,q="onPointerLeave",N="onPointerEnter",k="pointer"),nt=ee==null?$:_s(ee),D=se==null?$:_s(se),$=new oe(q,k+"leave",ee,h,V),$.target=nt,$.relatedTarget=D,q=null,Cr(V)===b&&(oe=new oe(N,k+"enter",se,h,V),oe.target=D,oe.relatedTarget=nt,q=oe),nt=q,ee&&se)t:{for(oe=ee,N=se,k=0,D=oe;D;D=ms(D))k++;for(D=0,q=N;q;q=ms(q))D++;for(;0<k-D;)oe=ms(oe),k--;for(;0<D-k;)N=ms(N),D--;for(;k--;){if(oe===N||N!==null&&oe===N.alternate)break t;oe=ms(oe),N=ms(N)}oe=null}else oe=null;ee!==null&&_0(Y,$,ee,oe,!1),se!==null&&nt!==null&&_0(Y,nt,se,oe,!0)}}e:{if($=b?_s(b):window,ee=$.nodeName&&$.nodeName.toLowerCase(),ee==="select"||ee==="input"&&$.type==="file")var he=Ov;else if(Kg($))if(Qg)he=bv;else{he=Dv;var pe=Nv}else(ee=$.nodeName)&&ee.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(he=Fv);if(he&&(he=he(s,b))){Zg(Y,he,h,V);break e}pe&&pe(s,$,b),s==="focusout"&&(pe=$._wrapperState)&&pe.controlled&&$.type==="number"&&rs($,"number",$.value)}switch(pe=b?_s(b):window,s){case"focusin":(Kg(pe)||pe.contentEditable==="true")&&(ds=pe,nc=b,Da=null);break;case"focusout":Da=nc=ds=null;break;case"mousedown":ic=!0;break;case"contextmenu":case"mouseup":case"dragend":ic=!1,a0(Y,h,V);break;case"selectionchange":if(jv)break;case"keydown":case"keyup":a0(Y,h,V)}var _e;if(Qh)e:{switch(s){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else fs?Yg(s,h)&&(ve="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(ve="onCompositionStart");ve&&(Vg&&h.locale!=="ko"&&(fs||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&fs&&(_e=jg()):(bi=V,Xh="value"in bi?bi.value:bi.textContent,fs=!0)),pe=Al(b,ve),0<pe.length&&(ve=new Ug(ve,s,null,h,V),Y.push({event:ve,listeners:pe}),_e?ve.data=_e:(_e=qg(h),_e!==null&&(ve.data=_e)))),(_e=Tv?Pv(s,h):Lv(s,h))&&(b=Al(b,"onBeforeInput"),0<b.length&&(V=new Ug("onBeforeInput","beforeinput",null,h,V),Y.push({event:V,listeners:b}),V.data=_e))}m0(Y,a)})}function za(s,a,h){return{instance:s,listener:a,currentTarget:h}}function Al(s,a){for(var h=a+"Capture",f=[];s!==null;){var m=s,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=Nt(s,h),y!=null&&f.unshift(za(s,y,m)),y=Nt(s,a),y!=null&&f.push(za(s,y,m))),s=s.return}return f}function ms(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function _0(s,a,h,f,m){for(var y=a._reactName,E=[];h!==null&&h!==f;){var R=h,T=R.alternate,b=R.stateNode;if(T!==null&&T===f)break;R.tag===5&&b!==null&&(R=b,m?(T=Nt(h,y),T!=null&&E.unshift(za(h,T,R))):m||(T=Nt(h,y),T!=null&&E.push(za(h,T,R)))),h=h.return}E.length!==0&&s.push({event:a,listeners:E})}var $v=/\r\n?/g,Vv=/\u0000|\uFFFD/g;function y0(s){return(typeof s=="string"?s:""+s).replace($v,`
`).replace(Vv,"")}function kl(s,a,h){if(a=y0(a),y0(s)!==a&&h)throw Error(t(425))}function Ol(){}var uc=null,hc=null;function cc(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var fc=typeof setTimeout=="function"?setTimeout:void 0,Xv=typeof clearTimeout=="function"?clearTimeout:void 0,v0=typeof Promise=="function"?Promise:void 0,Hv=typeof queueMicrotask=="function"?queueMicrotask:typeof v0<"u"?function(s){return v0.resolve(null).then(s).catch(Yv)}:fc;function Yv(s){setTimeout(function(){throw s})}function dc(s,a){var h=a,f=0;do{var m=h.nextSibling;if(s.removeChild(h),m&&m.nodeType===8)if(h=m.data,h==="/$"){if(f===0){s.removeChild(m),Ta(a);return}f--}else h!=="$"&&h!=="$?"&&h!=="$!"||f++;h=m}while(h);Ta(a)}function Gi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function x0(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"){if(a===0)return s;a--}else h==="/$"&&a++}s=s.previousSibling}return null}var ps=Math.random().toString(36).slice(2),jn="__reactFiber$"+ps,Ga="__reactProps$"+ps,ai="__reactContainer$"+ps,gc="__reactEvents$"+ps,qv="__reactListeners$"+ps,Kv="__reactHandles$"+ps;function Cr(s){var a=s[jn];if(a)return a;for(var h=s.parentNode;h;){if(a=h[ai]||h[jn]){if(h=a.alternate,a.child!==null||h!==null&&h.child!==null)for(s=x0(s);s!==null;){if(h=s[jn])return h;s=x0(s)}return a}s=h,h=s.parentNode}return null}function ja(s){return s=s[jn]||s[ai],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function _s(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Nl(s){return s[Ga]||null}var mc=[],ys=-1;function ji(s){return{current:s}}function Ve(s){0>ys||(s.current=mc[ys],mc[ys]=null,ys--)}function Ue(s,a){ys++,mc[ys]=s.current,s.current=a}var Wi={},Ct=ji(Wi),Ut=ji(!1),Sr=Wi;function vs(s,a){var h=s.type.contextTypes;if(!h)return Wi;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in h)m[y]=a[y];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=m),m}function $t(s){return s=s.childContextTypes,s!=null}function Dl(){Ve(Ut),Ve(Ct)}function E0(s,a,h){if(Ct.current!==Wi)throw Error(t(168));Ue(Ct,a),Ue(Ut,h)}function w0(s,a,h){var f=s.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return h;f=f.getChildContext();for(var m in f)if(!(m in a))throw Error(t(108,Re(s)||"Unknown",m));return X({},h,f)}function Fl(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Wi,Sr=Ct.current,Ue(Ct,s),Ue(Ut,Ut.current),!0}function M0(s,a,h){var f=s.stateNode;if(!f)throw Error(t(169));h?(s=w0(s,a,Sr),f.__reactInternalMemoizedMergedChildContext=s,Ve(Ut),Ve(Ct),Ue(Ct,s)):Ve(Ut),Ue(Ut,h)}var oi=null,bl=!1,pc=!1;function C0(s){oi===null?oi=[s]:oi.push(s)}function Zv(s){bl=!0,C0(s)}function Bi(){if(!pc&&oi!==null){pc=!0;var s=0,a=Ge;try{var h=oi;for(Ge=1;s<h.length;s++){var f=h[s];do f=f(!0);while(f!==null)}oi=null,bl=!1}catch(m){throw oi!==null&&(oi=oi.slice(s+1)),Rg(zh,Bi),m}finally{Ge=a,pc=!1}}return null}var xs=[],Es=0,zl=null,Gl=0,dn=[],gn=0,Rr=null,li=1,ui="";function Ir(s,a){xs[Es++]=Gl,xs[Es++]=zl,zl=s,Gl=a}function S0(s,a,h){dn[gn++]=li,dn[gn++]=ui,dn[gn++]=Rr,Rr=s;var f=li;s=ui;var m=32-Cn(f)-1;f&=~(1<<m),h+=1;var y=32-Cn(a)+m;if(30<y){var E=m-m%5;y=(f&(1<<E)-1).toString(32),f>>=E,m-=E,li=1<<32-Cn(a)+m|h<<m|f,ui=y+s}else li=1<<y|h<<m|f,ui=s}function _c(s){s.return!==null&&(Ir(s,1),S0(s,1,0))}function yc(s){for(;s===zl;)zl=xs[--Es],xs[Es]=null,Gl=xs[--Es],xs[Es]=null;for(;s===Rr;)Rr=dn[--gn],dn[gn]=null,ui=dn[--gn],dn[gn]=null,li=dn[--gn],dn[gn]=null}var an=null,on=null,Xe=!1,Rn=null;function R0(s,a){var h=yn(5,null,null,0);h.elementType="DELETED",h.stateNode=a,h.return=s,a=s.deletions,a===null?(s.deletions=[h],s.flags|=16):a.push(h)}function I0(s,a){switch(s.tag){case 5:var h=s.type;return a=a.nodeType!==1||h.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,an=s,on=Gi(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,an=s,on=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(h=Rr!==null?{id:li,overflow:ui}:null,s.memoizedState={dehydrated:a,treeContext:h,retryLane:1073741824},h=yn(18,null,null,0),h.stateNode=a,h.return=s,s.child=h,an=s,on=null,!0):!1;default:return!1}}function vc(s){return(s.mode&1)!==0&&(s.flags&128)===0}function xc(s){if(Xe){var a=on;if(a){var h=a;if(!I0(s,a)){if(vc(s))throw Error(t(418));a=Gi(h.nextSibling);var f=an;a&&I0(s,a)?R0(f,h):(s.flags=s.flags&-4097|2,Xe=!1,an=s)}}else{if(vc(s))throw Error(t(418));s.flags=s.flags&-4097|2,Xe=!1,an=s}}}function T0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;an=s}function jl(s){if(s!==an)return!1;if(!Xe)return T0(s),Xe=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!cc(s.type,s.memoizedProps)),a&&(a=on)){if(vc(s))throw P0(),Error(t(418));for(;a;)R0(s,a),a=Gi(a.nextSibling)}if(T0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"){if(a===0){on=Gi(s.nextSibling);break e}a--}else h!=="$"&&h!=="$!"&&h!=="$?"||a++}s=s.nextSibling}on=null}}else on=an?Gi(s.stateNode.nextSibling):null;return!0}function P0(){for(var s=on;s;)s=Gi(s.nextSibling)}function ws(){on=an=null,Xe=!1}function Ec(s){Rn===null?Rn=[s]:Rn.push(s)}var Qv=I.ReactCurrentBatchConfig;function Wa(s,a,h){if(s=h.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var f=h.stateNode}if(!f)throw Error(t(147,s));var m=f,y=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===y?a.ref:(a=function(E){var R=m.refs;E===null?delete R[y]:R[y]=E},a._stringRef=y,a)}if(typeof s!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,s))}return s}function Wl(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function L0(s){var a=s._init;return a(s._payload)}function A0(s){function a(N,k){if(s){var D=N.deletions;D===null?(N.deletions=[k],N.flags|=16):D.push(k)}}function h(N,k){if(!s)return null;for(;k!==null;)a(N,k),k=k.sibling;return null}function f(N,k){for(N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function m(N,k){return N=Ki(N,k),N.index=0,N.sibling=null,N}function y(N,k,D){return N.index=D,s?(D=N.alternate,D!==null?(D=D.index,D<k?(N.flags|=2,k):D):(N.flags|=2,k)):(N.flags|=1048576,k)}function E(N){return s&&N.alternate===null&&(N.flags|=2),N}function R(N,k,D,q){return k===null||k.tag!==6?(k=df(D,N.mode,q),k.return=N,k):(k=m(k,D),k.return=N,k)}function T(N,k,D,q){var he=D.type;return he===U?V(N,k,D.props.children,q,D.key):k!==null&&(k.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===ae&&L0(he)===k.type)?(q=m(k,D.props),q.ref=Wa(N,k,D),q.return=N,q):(q=cu(D.type,D.key,D.props,null,N.mode,q),q.ref=Wa(N,k,D),q.return=N,q)}function b(N,k,D,q){return k===null||k.tag!==4||k.stateNode.containerInfo!==D.containerInfo||k.stateNode.implementation!==D.implementation?(k=gf(D,N.mode,q),k.return=N,k):(k=m(k,D.children||[]),k.return=N,k)}function V(N,k,D,q,he){return k===null||k.tag!==7?(k=Dr(D,N.mode,q,he),k.return=N,k):(k=m(k,D),k.return=N,k)}function Y(N,k,D){if(typeof k=="string"&&k!==""||typeof k=="number")return k=df(""+k,N.mode,D),k.return=N,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case A:return D=cu(k.type,k.key,k.props,null,N.mode,D),D.ref=Wa(N,null,k),D.return=N,D;case F:return k=gf(k,N.mode,D),k.return=N,k;case ae:var q=k._init;return Y(N,q(k._payload),D)}if(ii(k)||Z(k))return k=Dr(k,N.mode,D,null),k.return=N,k;Wl(N,k)}return null}function $(N,k,D,q){var he=k!==null?k.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return he!==null?null:R(N,k,""+D,q);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case A:return D.key===he?T(N,k,D,q):null;case F:return D.key===he?b(N,k,D,q):null;case ae:return he=D._init,$(N,k,he(D._payload),q)}if(ii(D)||Z(D))return he!==null?null:V(N,k,D,q,null);Wl(N,D)}return null}function ee(N,k,D,q,he){if(typeof q=="string"&&q!==""||typeof q=="number")return N=N.get(D)||null,R(k,N,""+q,he);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return N=N.get(q.key===null?D:q.key)||null,T(k,N,q,he);case F:return N=N.get(q.key===null?D:q.key)||null,b(k,N,q,he);case ae:var pe=q._init;return ee(N,k,D,pe(q._payload),he)}if(ii(q)||Z(q))return N=N.get(D)||null,V(k,N,q,he,null);Wl(k,q)}return null}function se(N,k,D,q){for(var he=null,pe=null,_e=k,ve=k=0,ft=null;_e!==null&&ve<D.length;ve++){_e.index>ve?(ft=_e,_e=null):ft=_e.sibling;var Ne=$(N,_e,D[ve],q);if(Ne===null){_e===null&&(_e=ft);break}s&&_e&&Ne.alternate===null&&a(N,_e),k=y(Ne,k,ve),pe===null?he=Ne:pe.sibling=Ne,pe=Ne,_e=ft}if(ve===D.length)return h(N,_e),Xe&&Ir(N,ve),he;if(_e===null){for(;ve<D.length;ve++)_e=Y(N,D[ve],q),_e!==null&&(k=y(_e,k,ve),pe===null?he=_e:pe.sibling=_e,pe=_e);return Xe&&Ir(N,ve),he}for(_e=f(N,_e);ve<D.length;ve++)ft=ee(_e,N,ve,D[ve],q),ft!==null&&(s&&ft.alternate!==null&&_e.delete(ft.key===null?ve:ft.key),k=y(ft,k,ve),pe===null?he=ft:pe.sibling=ft,pe=ft);return s&&_e.forEach(function(Zi){return a(N,Zi)}),Xe&&Ir(N,ve),he}function oe(N,k,D,q){var he=Z(D);if(typeof he!="function")throw Error(t(150));if(D=he.call(D),D==null)throw Error(t(151));for(var pe=he=null,_e=k,ve=k=0,ft=null,Ne=D.next();_e!==null&&!Ne.done;ve++,Ne=D.next()){_e.index>ve?(ft=_e,_e=null):ft=_e.sibling;var Zi=$(N,_e,Ne.value,q);if(Zi===null){_e===null&&(_e=ft);break}s&&_e&&Zi.alternate===null&&a(N,_e),k=y(Zi,k,ve),pe===null?he=Zi:pe.sibling=Zi,pe=Zi,_e=ft}if(Ne.done)return h(N,_e),Xe&&Ir(N,ve),he;if(_e===null){for(;!Ne.done;ve++,Ne=D.next())Ne=Y(N,Ne.value,q),Ne!==null&&(k=y(Ne,k,ve),pe===null?he=Ne:pe.sibling=Ne,pe=Ne);return Xe&&Ir(N,ve),he}for(_e=f(N,_e);!Ne.done;ve++,Ne=D.next())Ne=ee(_e,N,ve,Ne.value,q),Ne!==null&&(s&&Ne.alternate!==null&&_e.delete(Ne.key===null?ve:Ne.key),k=y(Ne,k,ve),pe===null?he=Ne:pe.sibling=Ne,pe=Ne);return s&&_e.forEach(function(L2){return a(N,L2)}),Xe&&Ir(N,ve),he}function nt(N,k,D,q){if(typeof D=="object"&&D!==null&&D.type===U&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case A:e:{for(var he=D.key,pe=k;pe!==null;){if(pe.key===he){if(he=D.type,he===U){if(pe.tag===7){h(N,pe.sibling),k=m(pe,D.props.children),k.return=N,N=k;break e}}else if(pe.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===ae&&L0(he)===pe.type){h(N,pe.sibling),k=m(pe,D.props),k.ref=Wa(N,pe,D),k.return=N,N=k;break e}h(N,pe);break}else a(N,pe);pe=pe.sibling}D.type===U?(k=Dr(D.props.children,N.mode,q,D.key),k.return=N,N=k):(q=cu(D.type,D.key,D.props,null,N.mode,q),q.ref=Wa(N,k,D),q.return=N,N=q)}return E(N);case F:e:{for(pe=D.key;k!==null;){if(k.key===pe)if(k.tag===4&&k.stateNode.containerInfo===D.containerInfo&&k.stateNode.implementation===D.implementation){h(N,k.sibling),k=m(k,D.children||[]),k.return=N,N=k;break e}else{h(N,k);break}else a(N,k);k=k.sibling}k=gf(D,N.mode,q),k.return=N,N=k}return E(N);case ae:return pe=D._init,nt(N,k,pe(D._payload),q)}if(ii(D))return se(N,k,D,q);if(Z(D))return oe(N,k,D,q);Wl(N,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,k!==null&&k.tag===6?(h(N,k.sibling),k=m(k,D),k.return=N,N=k):(h(N,k),k=df(D,N.mode,q),k.return=N,N=k),E(N)):h(N,k)}return nt}var Ms=A0(!0),k0=A0(!1),Bl=ji(null),Ul=null,Cs=null,wc=null;function Mc(){wc=Cs=Ul=null}function Cc(s){var a=Bl.current;Ve(Bl),s._currentValue=a}function Sc(s,a,h){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===h)break;s=s.return}}function Ss(s,a){Ul=s,wc=Cs=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&a&&(Vt=!0),s.firstContext=null)}function mn(s){var a=s._currentValue;if(wc!==s)if(s={context:s,memoizedValue:a,next:null},Cs===null){if(Ul===null)throw Error(t(308));Cs=s,Ul.dependencies={lanes:0,firstContext:s}}else Cs=Cs.next=s;return a}var Tr=null;function Rc(s){Tr===null?Tr=[s]:Tr.push(s)}function O0(s,a,h,f){var m=a.interleaved;return m===null?(h.next=h,Rc(a)):(h.next=m.next,m.next=h),a.interleaved=h,hi(s,f)}function hi(s,a){s.lanes|=a;var h=s.alternate;for(h!==null&&(h.lanes|=a),h=s,s=s.return;s!==null;)s.childLanes|=a,h=s.alternate,h!==null&&(h.childLanes|=a),h=s,s=s.return;return h.tag===3?h.stateNode:null}var Ui=!1;function Ic(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function N0(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ci(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function $i(s,a,h){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,Ae&2){var m=f.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),f.pending=a,hi(s,h)}return m=f.interleaved,m===null?(a.next=a,Rc(f)):(a.next=m.next,m.next=a),f.interleaved=a,hi(s,h)}function $l(s,a,h){if(a=a.updateQueue,a!==null&&(a=a.shared,(h&4194240)!==0)){var f=a.lanes;f&=s.pendingLanes,h|=f,a.lanes=h,Wh(s,h)}}function D0(s,a){var h=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,h===f)){var m=null,y=null;if(h=h.firstBaseUpdate,h!==null){do{var E={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};y===null?m=y=E:y=y.next=E,h=h.next}while(h!==null);y===null?m=y=a:y=y.next=a}else m=y=a;h={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:f.shared,effects:f.effects},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=a:s.next=a,h.lastBaseUpdate=a}function Vl(s,a,h,f){var m=s.updateQueue;Ui=!1;var y=m.firstBaseUpdate,E=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var T=R,b=T.next;T.next=null,E===null?y=b:E.next=b,E=T;var V=s.alternate;V!==null&&(V=V.updateQueue,R=V.lastBaseUpdate,R!==E&&(R===null?V.firstBaseUpdate=b:R.next=b,V.lastBaseUpdate=T))}if(y!==null){var Y=m.baseState;E=0,V=b=T=null,R=y;do{var $=R.lane,ee=R.eventTime;if((f&$)===$){V!==null&&(V=V.next={eventTime:ee,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var se=s,oe=R;switch($=a,ee=h,oe.tag){case 1:if(se=oe.payload,typeof se=="function"){Y=se.call(ee,Y,$);break e}Y=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=oe.payload,$=typeof se=="function"?se.call(ee,Y,$):se,$==null)break e;Y=X({},Y,$);break e;case 2:Ui=!0}}R.callback!==null&&R.lane!==0&&(s.flags|=64,$=m.effects,$===null?m.effects=[R]:$.push(R))}else ee={eventTime:ee,lane:$,tag:R.tag,payload:R.payload,callback:R.callback,next:null},V===null?(b=V=ee,T=Y):V=V.next=ee,E|=$;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;$=R,R=$.next,$.next=null,m.lastBaseUpdate=$,m.shared.pending=null}}while(!0);if(V===null&&(T=Y),m.baseState=T,m.firstBaseUpdate=b,m.lastBaseUpdate=V,a=m.shared.interleaved,a!==null){m=a;do E|=m.lane,m=m.next;while(m!==a)}else y===null&&(m.shared.lanes=0);Ar|=E,s.lanes=E,s.memoizedState=Y}}function F0(s,a,h){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var f=s[a],m=f.callback;if(m!==null){if(f.callback=null,f=h,typeof m!="function")throw Error(t(191,m));m.call(f)}}}var Ba={},Wn=ji(Ba),Ua=ji(Ba),$a=ji(Ba);function Pr(s){if(s===Ba)throw Error(t(174));return s}function Tc(s,a){switch(Ue($a,a),Ue(Ua,s),Ue(Wn,Ba),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Ai(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Ai(a,s)}Ve(Wn),Ue(Wn,a)}function Rs(){Ve(Wn),Ve(Ua),Ve($a)}function b0(s){Pr($a.current);var a=Pr(Wn.current),h=Ai(a,s.type);a!==h&&(Ue(Ua,s),Ue(Wn,h))}function Pc(s){Ua.current===s&&(Ve(Wn),Ve(Ua))}var Ye=ji(0);function Xl(s){for(var a=s;a!==null;){if(a.tag===13){var h=a.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Lc=[];function Ac(){for(var s=0;s<Lc.length;s++)Lc[s]._workInProgressVersionPrimary=null;Lc.length=0}var Hl=I.ReactCurrentDispatcher,kc=I.ReactCurrentBatchConfig,Lr=0,qe=null,st=null,ht=null,Yl=!1,Va=!1,Xa=0,Jv=0;function St(){throw Error(t(321))}function Oc(s,a){if(a===null)return!1;for(var h=0;h<a.length&&h<s.length;h++)if(!Sn(s[h],a[h]))return!1;return!0}function Nc(s,a,h,f,m,y){if(Lr=y,qe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Hl.current=s===null||s.memoizedState===null?i2:r2,s=h(f,m),Va){y=0;do{if(Va=!1,Xa=0,25<=y)throw Error(t(301));y+=1,ht=st=null,a.updateQueue=null,Hl.current=s2,s=h(f,m)}while(Va)}if(Hl.current=Zl,a=st!==null&&st.next!==null,Lr=0,ht=st=qe=null,Yl=!1,a)throw Error(t(300));return s}function Dc(){var s=Xa!==0;return Xa=0,s}function Bn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?qe.memoizedState=ht=s:ht=ht.next=s,ht}function pn(){if(st===null){var s=qe.alternate;s=s!==null?s.memoizedState:null}else s=st.next;var a=ht===null?qe.memoizedState:ht.next;if(a!==null)ht=a,st=s;else{if(s===null)throw Error(t(310));st=s,s={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},ht===null?qe.memoizedState=ht=s:ht=ht.next=s}return ht}function Ha(s,a){return typeof a=="function"?a(s):a}function Fc(s){var a=pn(),h=a.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=s;var f=st,m=f.baseQueue,y=h.pending;if(y!==null){if(m!==null){var E=m.next;m.next=y.next,y.next=E}f.baseQueue=m=y,h.pending=null}if(m!==null){y=m.next,f=f.baseState;var R=E=null,T=null,b=y;do{var V=b.lane;if((Lr&V)===V)T!==null&&(T=T.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),f=b.hasEagerState?b.eagerState:s(f,b.action);else{var Y={lane:V,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};T===null?(R=T=Y,E=f):T=T.next=Y,qe.lanes|=V,Ar|=V}b=b.next}while(b!==null&&b!==y);T===null?E=f:T.next=R,Sn(f,a.memoizedState)||(Vt=!0),a.memoizedState=f,a.baseState=E,a.baseQueue=T,h.lastRenderedState=f}if(s=h.interleaved,s!==null){m=s;do y=m.lane,qe.lanes|=y,Ar|=y,m=m.next;while(m!==s)}else m===null&&(h.lanes=0);return[a.memoizedState,h.dispatch]}function bc(s){var a=pn(),h=a.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=s;var f=h.dispatch,m=h.pending,y=a.memoizedState;if(m!==null){h.pending=null;var E=m=m.next;do y=s(y,E.action),E=E.next;while(E!==m);Sn(y,a.memoizedState)||(Vt=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),h.lastRenderedState=y}return[y,f]}function z0(){}function G0(s,a){var h=qe,f=pn(),m=a(),y=!Sn(f.memoizedState,m);if(y&&(f.memoizedState=m,Vt=!0),f=f.queue,zc(B0.bind(null,h,f,s),[s]),f.getSnapshot!==a||y||ht!==null&&ht.memoizedState.tag&1){if(h.flags|=2048,Ya(9,W0.bind(null,h,f,m,a),void 0,null),ct===null)throw Error(t(349));Lr&30||j0(h,a,m)}return m}function j0(s,a,h){s.flags|=16384,s={getSnapshot:a,value:h},a=qe.updateQueue,a===null?(a={lastEffect:null,stores:null},qe.updateQueue=a,a.stores=[s]):(h=a.stores,h===null?a.stores=[s]:h.push(s))}function W0(s,a,h,f){a.value=h,a.getSnapshot=f,U0(a)&&$0(s)}function B0(s,a,h){return h(function(){U0(a)&&$0(s)})}function U0(s){var a=s.getSnapshot;s=s.value;try{var h=a();return!Sn(s,h)}catch{return!0}}function $0(s){var a=hi(s,1);a!==null&&Ln(a,s,1,-1)}function V0(s){var a=Bn();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:s},a.queue=s,s=s.dispatch=n2.bind(null,qe,s),[a.memoizedState,s]}function Ya(s,a,h,f){return s={tag:s,create:a,destroy:h,deps:f,next:null},a=qe.updateQueue,a===null?(a={lastEffect:null,stores:null},qe.updateQueue=a,a.lastEffect=s.next=s):(h=a.lastEffect,h===null?a.lastEffect=s.next=s:(f=h.next,h.next=s,s.next=f,a.lastEffect=s)),s}function X0(){return pn().memoizedState}function ql(s,a,h,f){var m=Bn();qe.flags|=s,m.memoizedState=Ya(1|a,h,void 0,f===void 0?null:f)}function Kl(s,a,h,f){var m=pn();f=f===void 0?null:f;var y=void 0;if(st!==null){var E=st.memoizedState;if(y=E.destroy,f!==null&&Oc(f,E.deps)){m.memoizedState=Ya(a,h,y,f);return}}qe.flags|=s,m.memoizedState=Ya(1|a,h,y,f)}function H0(s,a){return ql(8390656,8,s,a)}function zc(s,a){return Kl(2048,8,s,a)}function Y0(s,a){return Kl(4,2,s,a)}function q0(s,a){return Kl(4,4,s,a)}function K0(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Z0(s,a,h){return h=h!=null?h.concat([s]):null,Kl(4,4,K0.bind(null,a,s),h)}function Gc(){}function Q0(s,a){var h=pn();a=a===void 0?null:a;var f=h.memoizedState;return f!==null&&a!==null&&Oc(a,f[1])?f[0]:(h.memoizedState=[s,a],s)}function J0(s,a){var h=pn();a=a===void 0?null:a;var f=h.memoizedState;return f!==null&&a!==null&&Oc(a,f[1])?f[0]:(s=s(),h.memoizedState=[s,a],s)}function em(s,a,h){return Lr&21?(Sn(h,a)||(h=Lg(),qe.lanes|=h,Ar|=h,s.baseState=!0),a):(s.baseState&&(s.baseState=!1,Vt=!0),s.memoizedState=h)}function e2(s,a){var h=Ge;Ge=h!==0&&4>h?h:4,s(!0);var f=kc.transition;kc.transition={};try{s(!1),a()}finally{Ge=h,kc.transition=f}}function tm(){return pn().memoizedState}function t2(s,a,h){var f=Yi(s);if(h={lane:f,action:h,hasEagerState:!1,eagerState:null,next:null},nm(s))im(a,h);else if(h=O0(s,a,h,f),h!==null){var m=bt();Ln(h,s,f,m),rm(h,a,f)}}function n2(s,a,h){var f=Yi(s),m={lane:f,action:h,hasEagerState:!1,eagerState:null,next:null};if(nm(s))im(a,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var E=a.lastRenderedState,R=y(E,h);if(m.hasEagerState=!0,m.eagerState=R,Sn(R,E)){var T=a.interleaved;T===null?(m.next=m,Rc(a)):(m.next=T.next,T.next=m),a.interleaved=m;return}}catch{}finally{}h=O0(s,a,m,f),h!==null&&(m=bt(),Ln(h,s,f,m),rm(h,a,f))}}function nm(s){var a=s.alternate;return s===qe||a!==null&&a===qe}function im(s,a){Va=Yl=!0;var h=s.pending;h===null?a.next=a:(a.next=h.next,h.next=a),s.pending=a}function rm(s,a,h){if(h&4194240){var f=a.lanes;f&=s.pendingLanes,h|=f,a.lanes=h,Wh(s,h)}}var Zl={readContext:mn,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},i2={readContext:mn,useCallback:function(s,a){return Bn().memoizedState=[s,a===void 0?null:a],s},useContext:mn,useEffect:H0,useImperativeHandle:function(s,a,h){return h=h!=null?h.concat([s]):null,ql(4194308,4,K0.bind(null,a,s),h)},useLayoutEffect:function(s,a){return ql(4194308,4,s,a)},useInsertionEffect:function(s,a){return ql(4,2,s,a)},useMemo:function(s,a){var h=Bn();return a=a===void 0?null:a,s=s(),h.memoizedState=[s,a],s},useReducer:function(s,a,h){var f=Bn();return a=h!==void 0?h(a):a,f.memoizedState=f.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},f.queue=s,s=s.dispatch=t2.bind(null,qe,s),[f.memoizedState,s]},useRef:function(s){var a=Bn();return s={current:s},a.memoizedState=s},useState:V0,useDebugValue:Gc,useDeferredValue:function(s){return Bn().memoizedState=s},useTransition:function(){var s=V0(!1),a=s[0];return s=e2.bind(null,s[1]),Bn().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,h){var f=qe,m=Bn();if(Xe){if(h===void 0)throw Error(t(407));h=h()}else{if(h=a(),ct===null)throw Error(t(349));Lr&30||j0(f,a,h)}m.memoizedState=h;var y={value:h,getSnapshot:a};return m.queue=y,H0(B0.bind(null,f,y,s),[s]),f.flags|=2048,Ya(9,W0.bind(null,f,y,h,a),void 0,null),h},useId:function(){var s=Bn(),a=ct.identifierPrefix;if(Xe){var h=ui,f=li;h=(f&~(1<<32-Cn(f)-1)).toString(32)+h,a=":"+a+"R"+h,h=Xa++,0<h&&(a+="H"+h.toString(32)),a+=":"}else h=Jv++,a=":"+a+"r"+h.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},r2={readContext:mn,useCallback:Q0,useContext:mn,useEffect:zc,useImperativeHandle:Z0,useInsertionEffect:Y0,useLayoutEffect:q0,useMemo:J0,useReducer:Fc,useRef:X0,useState:function(){return Fc(Ha)},useDebugValue:Gc,useDeferredValue:function(s){var a=pn();return em(a,st.memoizedState,s)},useTransition:function(){var s=Fc(Ha)[0],a=pn().memoizedState;return[s,a]},useMutableSource:z0,useSyncExternalStore:G0,useId:tm,unstable_isNewReconciler:!1},s2={readContext:mn,useCallback:Q0,useContext:mn,useEffect:zc,useImperativeHandle:Z0,useInsertionEffect:Y0,useLayoutEffect:q0,useMemo:J0,useReducer:bc,useRef:X0,useState:function(){return bc(Ha)},useDebugValue:Gc,useDeferredValue:function(s){var a=pn();return st===null?a.memoizedState=s:em(a,st.memoizedState,s)},useTransition:function(){var s=bc(Ha)[0],a=pn().memoizedState;return[s,a]},useMutableSource:z0,useSyncExternalStore:G0,useId:tm,unstable_isNewReconciler:!1};function In(s,a){if(s&&s.defaultProps){a=X({},a),s=s.defaultProps;for(var h in s)a[h]===void 0&&(a[h]=s[h]);return a}return a}function jc(s,a,h,f){a=s.memoizedState,h=h(f,a),h=h==null?a:X({},a,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var Ql={isMounted:function(s){return(s=s._reactInternals)?Mr(s)===s:!1},enqueueSetState:function(s,a,h){s=s._reactInternals;var f=bt(),m=Yi(s),y=ci(f,m);y.payload=a,h!=null&&(y.callback=h),a=$i(s,y,m),a!==null&&(Ln(a,s,m,f),$l(a,s,m))},enqueueReplaceState:function(s,a,h){s=s._reactInternals;var f=bt(),m=Yi(s),y=ci(f,m);y.tag=1,y.payload=a,h!=null&&(y.callback=h),a=$i(s,y,m),a!==null&&(Ln(a,s,m,f),$l(a,s,m))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var h=bt(),f=Yi(s),m=ci(h,f);m.tag=2,a!=null&&(m.callback=a),a=$i(s,m,f),a!==null&&(Ln(a,s,f,h),$l(a,s,f))}};function sm(s,a,h,f,m,y,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,y,E):a.prototype&&a.prototype.isPureReactComponent?!Na(h,f)||!Na(m,y):!0}function am(s,a,h){var f=!1,m=Wi,y=a.contextType;return typeof y=="object"&&y!==null?y=mn(y):(m=$t(a)?Sr:Ct.current,f=a.contextTypes,y=(f=f!=null)?vs(s,m):Wi),a=new a(h,y),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ql,s.stateNode=a,a._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=y),a}function om(s,a,h,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(h,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(h,f),a.state!==s&&Ql.enqueueReplaceState(a,a.state,null)}function Wc(s,a,h,f){var m=s.stateNode;m.props=h,m.state=s.memoizedState,m.refs={},Ic(s);var y=a.contextType;typeof y=="object"&&y!==null?m.context=mn(y):(y=$t(a)?Sr:Ct.current,m.context=vs(s,y)),m.state=s.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(jc(s,a,y,h),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(a=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),a!==m.state&&Ql.enqueueReplaceState(m,m.state,null),Vl(s,h,m,f),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function Is(s,a){try{var h="",f=a;do h+=ye(f),f=f.return;while(f);var m=h}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:a,stack:m,digest:null}}function Bc(s,a,h){return{value:s,source:null,stack:h??null,digest:a??null}}function Uc(s,a){try{console.error(a.value)}catch(h){setTimeout(function(){throw h})}}var a2=typeof WeakMap=="function"?WeakMap:Map;function lm(s,a,h){h=ci(-1,h),h.tag=3,h.payload={element:null};var f=a.value;return h.callback=function(){su||(su=!0,sf=f),Uc(s,a)},h}function um(s,a,h){h=ci(-1,h),h.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=a.value;h.payload=function(){return f(m)},h.callback=function(){Uc(s,a)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(h.callback=function(){Uc(s,a),typeof f!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var E=a.stack;this.componentDidCatch(a.value,{componentStack:E!==null?E:""})}),h}function hm(s,a,h){var f=s.pingCache;if(f===null){f=s.pingCache=new a2;var m=new Set;f.set(a,m)}else m=f.get(a),m===void 0&&(m=new Set,f.set(a,m));m.has(h)||(m.add(h),s=x2.bind(null,s,a,h),a.then(s,s))}function cm(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function fm(s,a,h,f,m){return s.mode&1?(s.flags|=65536,s.lanes=m,s):(s===a?s.flags|=65536:(s.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(a=ci(-1,1),a.tag=2,$i(h,a,1))),h.lanes|=1),s)}var o2=I.ReactCurrentOwner,Vt=!1;function Ft(s,a,h,f){a.child=s===null?k0(a,null,h,f):Ms(a,s.child,h,f)}function dm(s,a,h,f,m){h=h.render;var y=a.ref;return Ss(a,m),f=Nc(s,a,h,f,y,m),h=Dc(),s!==null&&!Vt?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~m,fi(s,a,m)):(Xe&&h&&_c(a),a.flags|=1,Ft(s,a,f,m),a.child)}function gm(s,a,h,f,m){if(s===null){var y=h.type;return typeof y=="function"&&!ff(y)&&y.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(a.tag=15,a.type=y,mm(s,a,y,f,m)):(s=cu(h.type,null,f,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!(s.lanes&m)){var E=y.memoizedProps;if(h=h.compare,h=h!==null?h:Na,h(E,f)&&s.ref===a.ref)return fi(s,a,m)}return a.flags|=1,s=Ki(y,f),s.ref=a.ref,s.return=a,a.child=s}function mm(s,a,h,f,m){if(s!==null){var y=s.memoizedProps;if(Na(y,f)&&s.ref===a.ref)if(Vt=!1,a.pendingProps=f=y,(s.lanes&m)!==0)s.flags&131072&&(Vt=!0);else return a.lanes=s.lanes,fi(s,a,m)}return $c(s,a,h,f,m)}function pm(s,a,h){var f=a.pendingProps,m=f.children,y=s!==null?s.memoizedState:null;if(f.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(Ps,ln),ln|=h;else{if(!(h&1073741824))return s=y!==null?y.baseLanes|h:h,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Ue(Ps,ln),ln|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=y!==null?y.baseLanes:h,Ue(Ps,ln),ln|=f}else y!==null?(f=y.baseLanes|h,a.memoizedState=null):f=h,Ue(Ps,ln),ln|=f;return Ft(s,a,m,h),a.child}function _m(s,a){var h=a.ref;(s===null&&h!==null||s!==null&&s.ref!==h)&&(a.flags|=512,a.flags|=2097152)}function $c(s,a,h,f,m){var y=$t(h)?Sr:Ct.current;return y=vs(a,y),Ss(a,m),h=Nc(s,a,h,f,y,m),f=Dc(),s!==null&&!Vt?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~m,fi(s,a,m)):(Xe&&f&&_c(a),a.flags|=1,Ft(s,a,h,m),a.child)}function ym(s,a,h,f,m){if($t(h)){var y=!0;Fl(a)}else y=!1;if(Ss(a,m),a.stateNode===null)eu(s,a),am(a,h,f),Wc(a,h,f,m),f=!0;else if(s===null){var E=a.stateNode,R=a.memoizedProps;E.props=R;var T=E.context,b=h.contextType;typeof b=="object"&&b!==null?b=mn(b):(b=$t(h)?Sr:Ct.current,b=vs(a,b));var V=h.getDerivedStateFromProps,Y=typeof V=="function"||typeof E.getSnapshotBeforeUpdate=="function";Y||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==f||T!==b)&&om(a,E,f,b),Ui=!1;var $=a.memoizedState;E.state=$,Vl(a,f,E,m),T=a.memoizedState,R!==f||$!==T||Ut.current||Ui?(typeof V=="function"&&(jc(a,h,V,f),T=a.memoizedState),(R=Ui||sm(a,h,R,f,$,T,b))?(Y||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(a.flags|=4194308)):(typeof E.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=T),E.props=f,E.state=T,E.context=b,f=R):(typeof E.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{E=a.stateNode,N0(s,a),R=a.memoizedProps,b=a.type===a.elementType?R:In(a.type,R),E.props=b,Y=a.pendingProps,$=E.context,T=h.contextType,typeof T=="object"&&T!==null?T=mn(T):(T=$t(h)?Sr:Ct.current,T=vs(a,T));var ee=h.getDerivedStateFromProps;(V=typeof ee=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==Y||$!==T)&&om(a,E,f,T),Ui=!1,$=a.memoizedState,E.state=$,Vl(a,f,E,m);var se=a.memoizedState;R!==Y||$!==se||Ut.current||Ui?(typeof ee=="function"&&(jc(a,h,ee,f),se=a.memoizedState),(b=Ui||sm(a,h,b,f,$,se,T)||!1)?(V||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(f,se,T),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(f,se,T)),typeof E.componentDidUpdate=="function"&&(a.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof E.componentDidUpdate!="function"||R===s.memoizedProps&&$===s.memoizedState||(a.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&$===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=se),E.props=f,E.state=se,E.context=T,f=b):(typeof E.componentDidUpdate!="function"||R===s.memoizedProps&&$===s.memoizedState||(a.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&$===s.memoizedState||(a.flags|=1024),f=!1)}return Vc(s,a,h,f,y,m)}function Vc(s,a,h,f,m,y){_m(s,a);var E=(a.flags&128)!==0;if(!f&&!E)return m&&M0(a,h,!1),fi(s,a,y);f=a.stateNode,o2.current=a;var R=E&&typeof h.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,s!==null&&E?(a.child=Ms(a,s.child,null,y),a.child=Ms(a,null,R,y)):Ft(s,a,R,y),a.memoizedState=f.state,m&&M0(a,h,!0),a.child}function vm(s){var a=s.stateNode;a.pendingContext?E0(s,a.pendingContext,a.pendingContext!==a.context):a.context&&E0(s,a.context,!1),Tc(s,a.containerInfo)}function xm(s,a,h,f,m){return ws(),Ec(m),a.flags|=256,Ft(s,a,h,f),a.child}var Xc={dehydrated:null,treeContext:null,retryLane:0};function Hc(s){return{baseLanes:s,cachePool:null,transitions:null}}function Em(s,a,h){var f=a.pendingProps,m=Ye.current,y=!1,E=(a.flags&128)!==0,R;if((R=E)||(R=s!==null&&s.memoizedState===null?!1:(m&2)!==0),R?(y=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),Ue(Ye,m&1),s===null)return xc(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(a.mode&1?s.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(E=f.children,s=f.fallback,y?(f=a.mode,y=a.child,E={mode:"hidden",children:E},!(f&1)&&y!==null?(y.childLanes=0,y.pendingProps=E):y=fu(E,f,0,null),s=Dr(s,f,h,null),y.return=a,s.return=a,y.sibling=s,a.child=y,a.child.memoizedState=Hc(h),a.memoizedState=Xc,s):Yc(a,E));if(m=s.memoizedState,m!==null&&(R=m.dehydrated,R!==null))return l2(s,a,E,f,R,m,h);if(y){y=f.fallback,E=a.mode,m=s.child,R=m.sibling;var T={mode:"hidden",children:f.children};return!(E&1)&&a.child!==m?(f=a.child,f.childLanes=0,f.pendingProps=T,a.deletions=null):(f=Ki(m,T),f.subtreeFlags=m.subtreeFlags&14680064),R!==null?y=Ki(R,y):(y=Dr(y,E,h,null),y.flags|=2),y.return=a,f.return=a,f.sibling=y,a.child=f,f=y,y=a.child,E=s.child.memoizedState,E=E===null?Hc(h):{baseLanes:E.baseLanes|h,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=s.childLanes&~h,a.memoizedState=Xc,f}return y=s.child,s=y.sibling,f=Ki(y,{mode:"visible",children:f.children}),!(a.mode&1)&&(f.lanes=h),f.return=a,f.sibling=null,s!==null&&(h=a.deletions,h===null?(a.deletions=[s],a.flags|=16):h.push(s)),a.child=f,a.memoizedState=null,f}function Yc(s,a){return a=fu({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Jl(s,a,h,f){return f!==null&&Ec(f),Ms(a,s.child,null,h),s=Yc(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function l2(s,a,h,f,m,y,E){if(h)return a.flags&256?(a.flags&=-257,f=Bc(Error(t(422))),Jl(s,a,E,f)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(y=f.fallback,m=a.mode,f=fu({mode:"visible",children:f.children},m,0,null),y=Dr(y,m,E,null),y.flags|=2,f.return=a,y.return=a,f.sibling=y,a.child=f,a.mode&1&&Ms(a,s.child,null,E),a.child.memoizedState=Hc(E),a.memoizedState=Xc,y);if(!(a.mode&1))return Jl(s,a,E,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var R=f.dgst;return f=R,y=Error(t(419)),f=Bc(y,f,void 0),Jl(s,a,E,f)}if(R=(E&s.childLanes)!==0,Vt||R){if(f=ct,f!==null){switch(E&-E){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(f.suspendedLanes|E)?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,hi(s,m),Ln(f,s,m,-1))}return cf(),f=Bc(Error(t(421))),Jl(s,a,E,f)}return m.data==="$?"?(a.flags|=128,a.child=s.child,a=E2.bind(null,s),m._reactRetry=a,null):(s=y.treeContext,on=Gi(m.nextSibling),an=a,Xe=!0,Rn=null,s!==null&&(dn[gn++]=li,dn[gn++]=ui,dn[gn++]=Rr,li=s.id,ui=s.overflow,Rr=a),a=Yc(a,f.children),a.flags|=4096,a)}function wm(s,a,h){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),Sc(s.return,a,h)}function qc(s,a,h,f,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:h,tailMode:m}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=h,y.tailMode=m)}function Mm(s,a,h){var f=a.pendingProps,m=f.revealOrder,y=f.tail;if(Ft(s,a,f.children,h),f=Ye.current,f&2)f=f&1|2,a.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&wm(s,h,a);else if(s.tag===19)wm(s,h,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(Ue(Ye,f),!(a.mode&1))a.memoizedState=null;else switch(m){case"forwards":for(h=a.child,m=null;h!==null;)s=h.alternate,s!==null&&Xl(s)===null&&(m=h),h=h.sibling;h=m,h===null?(m=a.child,a.child=null):(m=h.sibling,h.sibling=null),qc(a,!1,m,h,y);break;case"backwards":for(h=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&Xl(s)===null){a.child=m;break}s=m.sibling,m.sibling=h,h=m,m=s}qc(a,!0,h,null,y);break;case"together":qc(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function eu(s,a){!(a.mode&1)&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function fi(s,a,h){if(s!==null&&(a.dependencies=s.dependencies),Ar|=a.lanes,!(h&a.childLanes))return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,h=Ki(s,s.pendingProps),a.child=h,h.return=a;s.sibling!==null;)s=s.sibling,h=h.sibling=Ki(s,s.pendingProps),h.return=a;h.sibling=null}return a.child}function u2(s,a,h){switch(a.tag){case 3:vm(a),ws();break;case 5:b0(a);break;case 1:$t(a.type)&&Fl(a);break;case 4:Tc(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,m=a.memoizedProps.value;Ue(Bl,f._currentValue),f._currentValue=m;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(Ue(Ye,Ye.current&1),a.flags|=128,null):h&a.child.childLanes?Em(s,a,h):(Ue(Ye,Ye.current&1),s=fi(s,a,h),s!==null?s.sibling:null);Ue(Ye,Ye.current&1);break;case 19:if(f=(h&a.childLanes)!==0,s.flags&128){if(f)return Mm(s,a,h);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ue(Ye,Ye.current),f)break;return null;case 22:case 23:return a.lanes=0,pm(s,a,h)}return fi(s,a,h)}var Cm,Kc,Sm,Rm;Cm=function(s,a){for(var h=a.child;h!==null;){if(h.tag===5||h.tag===6)s.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break;for(;h.sibling===null;){if(h.return===null||h.return===a)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Kc=function(){},Sm=function(s,a,h,f){var m=s.memoizedProps;if(m!==f){s=a.stateNode,Pr(Wn.current);var y=null;switch(h){case"input":m=ni(s,m),f=ni(s,f),y=[];break;case"select":m=X({},m,{value:void 0}),f=X({},f,{value:void 0}),y=[];break;case"textarea":m=Pi(s,m),f=Pi(s,f),y=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=Ol)}Er(h,f);var E;h=null;for(b in m)if(!f.hasOwnProperty(b)&&m.hasOwnProperty(b)&&m[b]!=null)if(b==="style"){var R=m[b];for(E in R)R.hasOwnProperty(E)&&(h||(h={}),h[E]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(r.hasOwnProperty(b)?y||(y=[]):(y=y||[]).push(b,null));for(b in f){var T=f[b];if(R=m!=null?m[b]:void 0,f.hasOwnProperty(b)&&T!==R&&(T!=null||R!=null))if(b==="style")if(R){for(E in R)!R.hasOwnProperty(E)||T&&T.hasOwnProperty(E)||(h||(h={}),h[E]="");for(E in T)T.hasOwnProperty(E)&&R[E]!==T[E]&&(h||(h={}),h[E]=T[E])}else h||(y||(y=[]),y.push(b,h)),h=T;else b==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,R=R?R.__html:void 0,T!=null&&R!==T&&(y=y||[]).push(b,T)):b==="children"?typeof T!="string"&&typeof T!="number"||(y=y||[]).push(b,""+T):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(r.hasOwnProperty(b)?(T!=null&&b==="onScroll"&&$e("scroll",s),y||R===T||(y=[])):(y=y||[]).push(b,T))}h&&(y=y||[]).push("style",h);var b=y;(a.updateQueue=b)&&(a.flags|=4)}},Rm=function(s,a,h,f){h!==f&&(a.flags|=4)};function qa(s,a){if(!Xe)switch(s.tailMode){case"hidden":a=s.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var f=null;h!==null;)h.alternate!==null&&(f=h),h=h.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Rt(s){var a=s.alternate!==null&&s.alternate.child===s.child,h=0,f=0;if(a)for(var m=s.child;m!==null;)h|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)h|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=f,s.childLanes=h,a}function h2(s,a,h){var f=a.pendingProps;switch(yc(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(a),null;case 1:return $t(a.type)&&Dl(),Rt(a),null;case 3:return f=a.stateNode,Rs(),Ve(Ut),Ve(Ct),Ac(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(jl(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Rn!==null&&(lf(Rn),Rn=null))),Kc(s,a),Rt(a),null;case 5:Pc(a);var m=Pr($a.current);if(h=a.type,s!==null&&a.stateNode!=null)Sm(s,a,h,f,m),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(t(166));return Rt(a),null}if(s=Pr(Wn.current),jl(a)){f=a.stateNode,h=a.type;var y=a.memoizedProps;switch(f[jn]=a,f[Ga]=y,s=(a.mode&1)!==0,h){case"dialog":$e("cancel",f),$e("close",f);break;case"iframe":case"object":case"embed":$e("load",f);break;case"video":case"audio":for(m=0;m<Fa.length;m++)$e(Fa[m],f);break;case"source":$e("error",f);break;case"img":case"image":case"link":$e("error",f),$e("load",f);break;case"details":$e("toggle",f);break;case"input":is(f,y),$e("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!y.multiple},$e("invalid",f);break;case"textarea":Li(f,y),$e("invalid",f)}Er(h,y),m=null;for(var E in y)if(y.hasOwnProperty(E)){var R=y[E];E==="children"?typeof R=="string"?f.textContent!==R&&(y.suppressHydrationWarning!==!0&&kl(f.textContent,R,s),m=["children",R]):typeof R=="number"&&f.textContent!==""+R&&(y.suppressHydrationWarning!==!0&&kl(f.textContent,R,s),m=["children",""+R]):r.hasOwnProperty(E)&&R!=null&&E==="onScroll"&&$e("scroll",f)}switch(h){case"input":ti(f),hl(f,y,!0);break;case"textarea":ti(f),as(f);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(f.onclick=Ol)}f=m,a.updateQueue=f,f!==null&&(a.flags|=4)}else{E=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=xr(h)),s==="http://www.w3.org/1999/xhtml"?h==="script"?(s=E.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=E.createElement(h,{is:f.is}):(s=E.createElement(h),h==="select"&&(E=s,f.multiple?E.multiple=!0:f.size&&(E.size=f.size))):s=E.createElementNS(s,h),s[jn]=a,s[Ga]=f,Cm(s,a,!1,!1),a.stateNode=s;e:{switch(E=ls(h,f),h){case"dialog":$e("cancel",s),$e("close",s),m=f;break;case"iframe":case"object":case"embed":$e("load",s),m=f;break;case"video":case"audio":for(m=0;m<Fa.length;m++)$e(Fa[m],s);m=f;break;case"source":$e("error",s),m=f;break;case"img":case"image":case"link":$e("error",s),$e("load",s),m=f;break;case"details":$e("toggle",s),m=f;break;case"input":is(s,f),m=ni(s,f),$e("invalid",s);break;case"option":m=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},m=X({},f,{value:void 0}),$e("invalid",s);break;case"textarea":Li(s,f),m=Pi(s,f),$e("invalid",s);break;default:m=f}Er(h,m),R=m;for(y in R)if(R.hasOwnProperty(y)){var T=R[y];y==="style"?ya(s,T):y==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,T!=null&&_a(s,T)):y==="children"?typeof T=="string"?(h!=="textarea"||T!=="")&&ki(s,T):typeof T=="number"&&ki(s,""+T):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(r.hasOwnProperty(y)?T!=null&&y==="onScroll"&&$e("scroll",s):T!=null&&L(s,y,T,E))}switch(h){case"input":ti(s),hl(s,f,!1);break;case"textarea":ti(s),as(s);break;case"option":f.value!=null&&s.setAttribute("value",""+Ie(f.value));break;case"select":s.multiple=!!f.multiple,y=f.value,y!=null?Ti(s,!!f.multiple,y,!1):f.defaultValue!=null&&Ti(s,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=Ol)}switch(h){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Rt(a),null;case 6:if(s&&a.stateNode!=null)Rm(s,a,s.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(t(166));if(h=Pr($a.current),Pr(Wn.current),jl(a)){if(f=a.stateNode,h=a.memoizedProps,f[jn]=a,(y=f.nodeValue!==h)&&(s=an,s!==null))switch(s.tag){case 3:kl(f.nodeValue,h,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&kl(f.nodeValue,h,(s.mode&1)!==0)}y&&(a.flags|=4)}else f=(h.nodeType===9?h:h.ownerDocument).createTextNode(f),f[jn]=a,a.stateNode=f}return Rt(a),null;case 13:if(Ve(Ye),f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Xe&&on!==null&&a.mode&1&&!(a.flags&128))P0(),ws(),a.flags|=98560,y=!1;else if(y=jl(a),f!==null&&f.dehydrated!==null){if(s===null){if(!y)throw Error(t(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[jn]=a}else ws(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Rt(a),y=!1}else Rn!==null&&(lf(Rn),Rn=null),y=!0;if(!y)return a.flags&65536?a:null}return a.flags&128?(a.lanes=h,a):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(a.child.flags|=8192,a.mode&1&&(s===null||Ye.current&1?at===0&&(at=3):cf())),a.updateQueue!==null&&(a.flags|=4),Rt(a),null);case 4:return Rs(),Kc(s,a),s===null&&ba(a.stateNode.containerInfo),Rt(a),null;case 10:return Cc(a.type._context),Rt(a),null;case 17:return $t(a.type)&&Dl(),Rt(a),null;case 19:if(Ve(Ye),y=a.memoizedState,y===null)return Rt(a),null;if(f=(a.flags&128)!==0,E=y.rendering,E===null)if(f)qa(y,!1);else{if(at!==0||s!==null&&s.flags&128)for(s=a.child;s!==null;){if(E=Xl(s),E!==null){for(a.flags|=128,qa(y,!1),f=E.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=h,h=a.child;h!==null;)y=h,s=f,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,s=E.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),h=h.sibling;return Ue(Ye,Ye.current&1|2),a.child}s=s.sibling}y.tail!==null&&tt()>Ls&&(a.flags|=128,f=!0,qa(y,!1),a.lanes=4194304)}else{if(!f)if(s=Xl(E),s!==null){if(a.flags|=128,f=!0,h=s.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),qa(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!Xe)return Rt(a),null}else 2*tt()-y.renderingStartTime>Ls&&h!==1073741824&&(a.flags|=128,f=!0,qa(y,!1),a.lanes=4194304);y.isBackwards?(E.sibling=a.child,a.child=E):(h=y.last,h!==null?h.sibling=E:a.child=E,y.last=E)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=tt(),a.sibling=null,h=Ye.current,Ue(Ye,f?h&1|2:h&1),a):(Rt(a),null);case 22:case 23:return hf(),f=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(a.flags|=8192),f&&a.mode&1?ln&1073741824&&(Rt(a),a.subtreeFlags&6&&(a.flags|=8192)):Rt(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function c2(s,a){switch(yc(a),a.tag){case 1:return $t(a.type)&&Dl(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Rs(),Ve(Ut),Ve(Ct),Ac(),s=a.flags,s&65536&&!(s&128)?(a.flags=s&-65537|128,a):null;case 5:return Pc(a),null;case 13:if(Ve(Ye),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));ws()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Ve(Ye),null;case 4:return Rs(),null;case 10:return Cc(a.type._context),null;case 22:case 23:return hf(),null;case 24:return null;default:return null}}var tu=!1,It=!1,f2=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Ts(s,a){var h=s.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(f){Qe(s,a,f)}else h.current=null}function Zc(s,a,h){try{h()}catch(f){Qe(s,a,f)}}var Im=!1;function d2(s,a){if(uc=El,s=s0(),tc(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var f=h.getSelection&&h.getSelection();if(f&&f.rangeCount!==0){h=f.anchorNode;var m=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{h.nodeType,y.nodeType}catch{h=null;break e}var E=0,R=-1,T=-1,b=0,V=0,Y=s,$=null;t:for(;;){for(var ee;Y!==h||m!==0&&Y.nodeType!==3||(R=E+m),Y!==y||f!==0&&Y.nodeType!==3||(T=E+f),Y.nodeType===3&&(E+=Y.nodeValue.length),(ee=Y.firstChild)!==null;)$=Y,Y=ee;for(;;){if(Y===s)break t;if($===h&&++b===m&&(R=E),$===y&&++V===f&&(T=E),(ee=Y.nextSibling)!==null)break;Y=$,$=Y.parentNode}Y=ee}h=R===-1||T===-1?null:{start:R,end:T}}else h=null}h=h||{start:0,end:0}}else h=null;for(hc={focusedElem:s,selectionRange:h},El=!1,ne=a;ne!==null;)if(a=ne,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,ne=s;else for(;ne!==null;){a=ne;try{var se=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(se!==null){var oe=se.memoizedProps,nt=se.memoizedState,N=a.stateNode,k=N.getSnapshotBeforeUpdate(a.elementType===a.type?oe:In(a.type,oe),nt);N.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var D=a.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(q){Qe(a,a.return,q)}if(s=a.sibling,s!==null){s.return=a.return,ne=s;break}ne=a.return}return se=Im,Im=!1,se}function Ka(s,a,h){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&s)===s){var y=m.destroy;m.destroy=void 0,y!==void 0&&Zc(a,h,y)}m=m.next}while(m!==f)}}function nu(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var h=a=a.next;do{if((h.tag&s)===s){var f=h.create;h.destroy=f()}h=h.next}while(h!==a)}}function Qc(s){var a=s.ref;if(a!==null){var h=s.stateNode;switch(s.tag){case 5:s=h;break;default:s=h}typeof a=="function"?a(s):a.current=s}}function Tm(s){var a=s.alternate;a!==null&&(s.alternate=null,Tm(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[jn],delete a[Ga],delete a[gc],delete a[qv],delete a[Kv])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Pm(s){return s.tag===5||s.tag===3||s.tag===4}function Lm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Pm(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Jc(s,a,h){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?h.nodeType===8?h.parentNode.insertBefore(s,a):h.insertBefore(s,a):(h.nodeType===8?(a=h.parentNode,a.insertBefore(s,h)):(a=h,a.appendChild(s)),h=h._reactRootContainer,h!=null||a.onclick!==null||(a.onclick=Ol));else if(f!==4&&(s=s.child,s!==null))for(Jc(s,a,h),s=s.sibling;s!==null;)Jc(s,a,h),s=s.sibling}function ef(s,a,h){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?h.insertBefore(s,a):h.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(ef(s,a,h),s=s.sibling;s!==null;)ef(s,a,h),s=s.sibling}var _t=null,Tn=!1;function Vi(s,a,h){for(h=h.child;h!==null;)Am(s,a,h),h=h.sibling}function Am(s,a,h){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(ml,h)}catch{}switch(h.tag){case 5:It||Ts(h,a);case 6:var f=_t,m=Tn;_t=null,Vi(s,a,h),_t=f,Tn=m,_t!==null&&(Tn?(s=_t,h=h.stateNode,s.nodeType===8?s.parentNode.removeChild(h):s.removeChild(h)):_t.removeChild(h.stateNode));break;case 18:_t!==null&&(Tn?(s=_t,h=h.stateNode,s.nodeType===8?dc(s.parentNode,h):s.nodeType===1&&dc(s,h),Ta(s)):dc(_t,h.stateNode));break;case 4:f=_t,m=Tn,_t=h.stateNode.containerInfo,Tn=!0,Vi(s,a,h),_t=f,Tn=m;break;case 0:case 11:case 14:case 15:if(!It&&(f=h.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var y=m,E=y.destroy;y=y.tag,E!==void 0&&(y&2||y&4)&&Zc(h,a,E),m=m.next}while(m!==f)}Vi(s,a,h);break;case 1:if(!It&&(Ts(h,a),f=h.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=h.memoizedProps,f.state=h.memoizedState,f.componentWillUnmount()}catch(R){Qe(h,a,R)}Vi(s,a,h);break;case 21:Vi(s,a,h);break;case 22:h.mode&1?(It=(f=It)||h.memoizedState!==null,Vi(s,a,h),It=f):Vi(s,a,h);break;default:Vi(s,a,h)}}function km(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var h=s.stateNode;h===null&&(h=s.stateNode=new f2),a.forEach(function(f){var m=w2.bind(null,s,f);h.has(f)||(h.add(f),f.then(m,m))})}}function Pn(s,a){var h=a.deletions;if(h!==null)for(var f=0;f<h.length;f++){var m=h[f];try{var y=s,E=a,R=E;e:for(;R!==null;){switch(R.tag){case 5:_t=R.stateNode,Tn=!1;break e;case 3:_t=R.stateNode.containerInfo,Tn=!0;break e;case 4:_t=R.stateNode.containerInfo,Tn=!0;break e}R=R.return}if(_t===null)throw Error(t(160));Am(y,E,m),_t=null,Tn=!1;var T=m.alternate;T!==null&&(T.return=null),m.return=null}catch(b){Qe(m,a,b)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Om(a,s),a=a.sibling}function Om(s,a){var h=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Pn(a,s),Un(s),f&4){try{Ka(3,s,s.return),nu(3,s)}catch(oe){Qe(s,s.return,oe)}try{Ka(5,s,s.return)}catch(oe){Qe(s,s.return,oe)}}break;case 1:Pn(a,s),Un(s),f&512&&h!==null&&Ts(h,h.return);break;case 5:if(Pn(a,s),Un(s),f&512&&h!==null&&Ts(h,h.return),s.flags&32){var m=s.stateNode;try{ki(m,"")}catch(oe){Qe(s,s.return,oe)}}if(f&4&&(m=s.stateNode,m!=null)){var y=s.memoizedProps,E=h!==null?h.memoizedProps:y,R=s.type,T=s.updateQueue;if(s.updateQueue=null,T!==null)try{R==="input"&&y.type==="radio"&&y.name!=null&&ul(m,y),ls(R,E);var b=ls(R,y);for(E=0;E<T.length;E+=2){var V=T[E],Y=T[E+1];V==="style"?ya(m,Y):V==="dangerouslySetInnerHTML"?_a(m,Y):V==="children"?ki(m,Y):L(m,V,Y,b)}switch(R){case"input":pa(m,y);break;case"textarea":ss(m,y);break;case"select":var $=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var ee=y.value;ee!=null?Ti(m,!!y.multiple,ee,!1):$!==!!y.multiple&&(y.defaultValue!=null?Ti(m,!!y.multiple,y.defaultValue,!0):Ti(m,!!y.multiple,y.multiple?[]:"",!1))}m[Ga]=y}catch(oe){Qe(s,s.return,oe)}}break;case 6:if(Pn(a,s),Un(s),f&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,y=s.memoizedProps;try{m.nodeValue=y}catch(oe){Qe(s,s.return,oe)}}break;case 3:if(Pn(a,s),Un(s),f&4&&h!==null&&h.memoizedState.isDehydrated)try{Ta(a.containerInfo)}catch(oe){Qe(s,s.return,oe)}break;case 4:Pn(a,s),Un(s);break;case 13:Pn(a,s),Un(s),m=s.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(rf=tt())),f&4&&km(s);break;case 22:if(V=h!==null&&h.memoizedState!==null,s.mode&1?(It=(b=It)||V,Pn(a,s),It=b):Pn(a,s),Un(s),f&8192){if(b=s.memoizedState!==null,(s.stateNode.isHidden=b)&&!V&&s.mode&1)for(ne=s,V=s.child;V!==null;){for(Y=ne=V;ne!==null;){switch($=ne,ee=$.child,$.tag){case 0:case 11:case 14:case 15:Ka(4,$,$.return);break;case 1:Ts($,$.return);var se=$.stateNode;if(typeof se.componentWillUnmount=="function"){f=$,h=$.return;try{a=f,se.props=a.memoizedProps,se.state=a.memoizedState,se.componentWillUnmount()}catch(oe){Qe(f,h,oe)}}break;case 5:Ts($,$.return);break;case 22:if($.memoizedState!==null){Fm(Y);continue}}ee!==null?(ee.return=$,ne=ee):Fm(Y)}V=V.sibling}e:for(V=null,Y=s;;){if(Y.tag===5){if(V===null){V=Y;try{m=Y.stateNode,b?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(R=Y.stateNode,T=Y.memoizedProps.style,E=T!=null&&T.hasOwnProperty("display")?T.display:null,R.style.display=cl("display",E))}catch(oe){Qe(s,s.return,oe)}}}else if(Y.tag===6){if(V===null)try{Y.stateNode.nodeValue=b?"":Y.memoizedProps}catch(oe){Qe(s,s.return,oe)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===s)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===s)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===s)break e;V===Y&&(V=null),Y=Y.return}V===Y&&(V=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:Pn(a,s),Un(s),f&4&&km(s);break;case 21:break;default:Pn(a,s),Un(s)}}function Un(s){var a=s.flags;if(a&2){try{e:{for(var h=s.return;h!==null;){if(Pm(h)){var f=h;break e}h=h.return}throw Error(t(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(ki(m,""),f.flags&=-33);var y=Lm(s);ef(s,y,m);break;case 3:case 4:var E=f.stateNode.containerInfo,R=Lm(s);Jc(s,R,E);break;default:throw Error(t(161))}}catch(T){Qe(s,s.return,T)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function g2(s,a,h){ne=s,Nm(s)}function Nm(s,a,h){for(var f=(s.mode&1)!==0;ne!==null;){var m=ne,y=m.child;if(m.tag===22&&f){var E=m.memoizedState!==null||tu;if(!E){var R=m.alternate,T=R!==null&&R.memoizedState!==null||It;R=tu;var b=It;if(tu=E,(It=T)&&!b)for(ne=m;ne!==null;)E=ne,T=E.child,E.tag===22&&E.memoizedState!==null?bm(m):T!==null?(T.return=E,ne=T):bm(m);for(;y!==null;)ne=y,Nm(y),y=y.sibling;ne=m,tu=R,It=b}Dm(s)}else m.subtreeFlags&8772&&y!==null?(y.return=m,ne=y):Dm(s)}}function Dm(s){for(;ne!==null;){var a=ne;if(a.flags&8772){var h=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:It||nu(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!It)if(h===null)f.componentDidMount();else{var m=a.elementType===a.type?h.memoizedProps:In(a.type,h.memoizedProps);f.componentDidUpdate(m,h.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var y=a.updateQueue;y!==null&&F0(a,y,f);break;case 3:var E=a.updateQueue;if(E!==null){if(h=null,a.child!==null)switch(a.child.tag){case 5:h=a.child.stateNode;break;case 1:h=a.child.stateNode}F0(a,E,h)}break;case 5:var R=a.stateNode;if(h===null&&a.flags&4){h=R;var T=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":T.autoFocus&&h.focus();break;case"img":T.src&&(h.src=T.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var b=a.alternate;if(b!==null){var V=b.memoizedState;if(V!==null){var Y=V.dehydrated;Y!==null&&Ta(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}It||a.flags&512&&Qc(a)}catch($){Qe(a,a.return,$)}}if(a===s){ne=null;break}if(h=a.sibling,h!==null){h.return=a.return,ne=h;break}ne=a.return}}function Fm(s){for(;ne!==null;){var a=ne;if(a===s){ne=null;break}var h=a.sibling;if(h!==null){h.return=a.return,ne=h;break}ne=a.return}}function bm(s){for(;ne!==null;){var a=ne;try{switch(a.tag){case 0:case 11:case 15:var h=a.return;try{nu(4,a)}catch(T){Qe(a,h,T)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var m=a.return;try{f.componentDidMount()}catch(T){Qe(a,m,T)}}var y=a.return;try{Qc(a)}catch(T){Qe(a,y,T)}break;case 5:var E=a.return;try{Qc(a)}catch(T){Qe(a,E,T)}}}catch(T){Qe(a,a.return,T)}if(a===s){ne=null;break}var R=a.sibling;if(R!==null){R.return=a.return,ne=R;break}ne=a.return}}var m2=Math.ceil,iu=I.ReactCurrentDispatcher,tf=I.ReactCurrentOwner,_n=I.ReactCurrentBatchConfig,Ae=0,ct=null,rt=null,yt=0,ln=0,Ps=ji(0),at=0,Za=null,Ar=0,ru=0,nf=0,Qa=null,Xt=null,rf=0,Ls=1/0,di=null,su=!1,sf=null,Xi=null,au=!1,Hi=null,ou=0,Ja=0,af=null,lu=-1,uu=0;function bt(){return Ae&6?tt():lu!==-1?lu:lu=tt()}function Yi(s){return s.mode&1?Ae&2&&yt!==0?yt&-yt:Qv.transition!==null?(uu===0&&(uu=Lg()),uu):(s=Ge,s!==0||(s=window.event,s=s===void 0?16:Gg(s.type)),s):1}function Ln(s,a,h,f){if(50<Ja)throw Ja=0,af=null,Error(t(185));Ma(s,h,f),(!(Ae&2)||s!==ct)&&(s===ct&&(!(Ae&2)&&(ru|=h),at===4&&qi(s,yt)),Ht(s,f),h===1&&Ae===0&&!(a.mode&1)&&(Ls=tt()+500,bl&&Bi()))}function Ht(s,a){var h=s.callbackNode;Q1(s,a);var f=yl(s,s===ct?yt:0);if(f===0)h!==null&&Ig(h),s.callbackNode=null,s.callbackPriority=0;else if(a=f&-f,s.callbackPriority!==a){if(h!=null&&Ig(h),a===1)s.tag===0?Zv(Gm.bind(null,s)):C0(Gm.bind(null,s)),Hv(function(){!(Ae&6)&&Bi()}),h=null;else{switch(Ag(f)){case 1:h=zh;break;case 4:h=Tg;break;case 16:h=gl;break;case 536870912:h=Pg;break;default:h=gl}h=Hm(h,zm.bind(null,s))}s.callbackPriority=a,s.callbackNode=h}}function zm(s,a){if(lu=-1,uu=0,Ae&6)throw Error(t(327));var h=s.callbackNode;if(As()&&s.callbackNode!==h)return null;var f=yl(s,s===ct?yt:0);if(f===0)return null;if(f&30||f&s.expiredLanes||a)a=hu(s,f);else{a=f;var m=Ae;Ae|=2;var y=Wm();(ct!==s||yt!==a)&&(di=null,Ls=tt()+500,Or(s,a));do try{y2();break}catch(R){jm(s,R)}while(!0);Mc(),iu.current=y,Ae=m,rt!==null?a=0:(ct=null,yt=0,a=at)}if(a!==0){if(a===2&&(m=Gh(s),m!==0&&(f=m,a=of(s,m))),a===1)throw h=Za,Or(s,0),qi(s,f),Ht(s,tt()),h;if(a===6)qi(s,f);else{if(m=s.current.alternate,!(f&30)&&!p2(m)&&(a=hu(s,f),a===2&&(y=Gh(s),y!==0&&(f=y,a=of(s,y))),a===1))throw h=Za,Or(s,0),qi(s,f),Ht(s,tt()),h;switch(s.finishedWork=m,s.finishedLanes=f,a){case 0:case 1:throw Error(t(345));case 2:Nr(s,Xt,di);break;case 3:if(qi(s,f),(f&130023424)===f&&(a=rf+500-tt(),10<a)){if(yl(s,0)!==0)break;if(m=s.suspendedLanes,(m&f)!==f){bt(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=fc(Nr.bind(null,s,Xt,di),a);break}Nr(s,Xt,di);break;case 4:if(qi(s,f),(f&4194240)===f)break;for(a=s.eventTimes,m=-1;0<f;){var E=31-Cn(f);y=1<<E,E=a[E],E>m&&(m=E),f&=~y}if(f=m,f=tt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*m2(f/1960))-f,10<f){s.timeoutHandle=fc(Nr.bind(null,s,Xt,di),f);break}Nr(s,Xt,di);break;case 5:Nr(s,Xt,di);break;default:throw Error(t(329))}}}return Ht(s,tt()),s.callbackNode===h?zm.bind(null,s):null}function of(s,a){var h=Qa;return s.current.memoizedState.isDehydrated&&(Or(s,a).flags|=256),s=hu(s,a),s!==2&&(a=Xt,Xt=h,a!==null&&lf(a)),s}function lf(s){Xt===null?Xt=s:Xt.push.apply(Xt,s)}function p2(s){for(var a=s;;){if(a.flags&16384){var h=a.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var f=0;f<h.length;f++){var m=h[f],y=m.getSnapshot;m=m.value;try{if(!Sn(y(),m))return!1}catch{return!1}}}if(h=a.child,a.subtreeFlags&16384&&h!==null)h.return=a,a=h;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function qi(s,a){for(a&=~nf,a&=~ru,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var h=31-Cn(a),f=1<<h;s[h]=-1,a&=~f}}function Gm(s){if(Ae&6)throw Error(t(327));As();var a=yl(s,0);if(!(a&1))return Ht(s,tt()),null;var h=hu(s,a);if(s.tag!==0&&h===2){var f=Gh(s);f!==0&&(a=f,h=of(s,f))}if(h===1)throw h=Za,Or(s,0),qi(s,a),Ht(s,tt()),h;if(h===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Nr(s,Xt,di),Ht(s,tt()),null}function uf(s,a){var h=Ae;Ae|=1;try{return s(a)}finally{Ae=h,Ae===0&&(Ls=tt()+500,bl&&Bi())}}function kr(s){Hi!==null&&Hi.tag===0&&!(Ae&6)&&As();var a=Ae;Ae|=1;var h=_n.transition,f=Ge;try{if(_n.transition=null,Ge=1,s)return s()}finally{Ge=f,_n.transition=h,Ae=a,!(Ae&6)&&Bi()}}function hf(){ln=Ps.current,Ve(Ps)}function Or(s,a){s.finishedWork=null,s.finishedLanes=0;var h=s.timeoutHandle;if(h!==-1&&(s.timeoutHandle=-1,Xv(h)),rt!==null)for(h=rt.return;h!==null;){var f=h;switch(yc(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Dl();break;case 3:Rs(),Ve(Ut),Ve(Ct),Ac();break;case 5:Pc(f);break;case 4:Rs();break;case 13:Ve(Ye);break;case 19:Ve(Ye);break;case 10:Cc(f.type._context);break;case 22:case 23:hf()}h=h.return}if(ct=s,rt=s=Ki(s.current,null),yt=ln=a,at=0,Za=null,nf=ru=Ar=0,Xt=Qa=null,Tr!==null){for(a=0;a<Tr.length;a++)if(h=Tr[a],f=h.interleaved,f!==null){h.interleaved=null;var m=f.next,y=h.pending;if(y!==null){var E=y.next;y.next=m,f.next=E}h.pending=f}Tr=null}return s}function jm(s,a){do{var h=rt;try{if(Mc(),Hl.current=Zl,Yl){for(var f=qe.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}Yl=!1}if(Lr=0,ht=st=qe=null,Va=!1,Xa=0,tf.current=null,h===null||h.return===null){at=1,Za=a,rt=null;break}e:{var y=s,E=h.return,R=h,T=a;if(a=yt,R.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){var b=T,V=R,Y=V.tag;if(!(V.mode&1)&&(Y===0||Y===11||Y===15)){var $=V.alternate;$?(V.updateQueue=$.updateQueue,V.memoizedState=$.memoizedState,V.lanes=$.lanes):(V.updateQueue=null,V.memoizedState=null)}var ee=cm(E);if(ee!==null){ee.flags&=-257,fm(ee,E,R,y,a),ee.mode&1&&hm(y,b,a),a=ee,T=b;var se=a.updateQueue;if(se===null){var oe=new Set;oe.add(T),a.updateQueue=oe}else se.add(T);break e}else{if(!(a&1)){hm(y,b,a),cf();break e}T=Error(t(426))}}else if(Xe&&R.mode&1){var nt=cm(E);if(nt!==null){!(nt.flags&65536)&&(nt.flags|=256),fm(nt,E,R,y,a),Ec(Is(T,R));break e}}y=T=Is(T,R),at!==4&&(at=2),Qa===null?Qa=[y]:Qa.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,a&=-a,y.lanes|=a;var N=lm(y,T,a);D0(y,N);break e;case 1:R=T;var k=y.type,D=y.stateNode;if(!(y.flags&128)&&(typeof k.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(Xi===null||!Xi.has(D)))){y.flags|=65536,a&=-a,y.lanes|=a;var q=um(y,R,a);D0(y,q);break e}}y=y.return}while(y!==null)}Um(h)}catch(he){a=he,rt===h&&h!==null&&(rt=h=h.return);continue}break}while(!0)}function Wm(){var s=iu.current;return iu.current=Zl,s===null?Zl:s}function cf(){(at===0||at===3||at===2)&&(at=4),ct===null||!(Ar&268435455)&&!(ru&268435455)||qi(ct,yt)}function hu(s,a){var h=Ae;Ae|=2;var f=Wm();(ct!==s||yt!==a)&&(di=null,Or(s,a));do try{_2();break}catch(m){jm(s,m)}while(!0);if(Mc(),Ae=h,iu.current=f,rt!==null)throw Error(t(261));return ct=null,yt=0,at}function _2(){for(;rt!==null;)Bm(rt)}function y2(){for(;rt!==null&&!U1();)Bm(rt)}function Bm(s){var a=Xm(s.alternate,s,ln);s.memoizedProps=s.pendingProps,a===null?Um(s):rt=a,tf.current=null}function Um(s){var a=s;do{var h=a.alternate;if(s=a.return,a.flags&32768){if(h=c2(h,a),h!==null){h.flags&=32767,rt=h;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{at=6,rt=null;return}}else if(h=h2(h,a,ln),h!==null){rt=h;return}if(a=a.sibling,a!==null){rt=a;return}rt=a=s}while(a!==null);at===0&&(at=5)}function Nr(s,a,h){var f=Ge,m=_n.transition;try{_n.transition=null,Ge=1,v2(s,a,h,f)}finally{_n.transition=m,Ge=f}return null}function v2(s,a,h,f){do As();while(Hi!==null);if(Ae&6)throw Error(t(327));h=s.finishedWork;var m=s.finishedLanes;if(h===null)return null;if(s.finishedWork=null,s.finishedLanes=0,h===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var y=h.lanes|h.childLanes;if(J1(s,y),s===ct&&(rt=ct=null,yt=0),!(h.subtreeFlags&2064)&&!(h.flags&2064)||au||(au=!0,Hm(gl,function(){return As(),null})),y=(h.flags&15990)!==0,h.subtreeFlags&15990||y){y=_n.transition,_n.transition=null;var E=Ge;Ge=1;var R=Ae;Ae|=4,tf.current=null,d2(s,h),Om(h,s),Gv(hc),El=!!uc,hc=uc=null,s.current=h,g2(h),$1(),Ae=R,Ge=E,_n.transition=y}else s.current=h;if(au&&(au=!1,Hi=s,ou=m),y=s.pendingLanes,y===0&&(Xi=null),H1(h.stateNode),Ht(s,tt()),a!==null)for(f=s.onRecoverableError,h=0;h<a.length;h++)m=a[h],f(m.value,{componentStack:m.stack,digest:m.digest});if(su)throw su=!1,s=sf,sf=null,s;return ou&1&&s.tag!==0&&As(),y=s.pendingLanes,y&1?s===af?Ja++:(Ja=0,af=s):Ja=0,Bi(),null}function As(){if(Hi!==null){var s=Ag(ou),a=_n.transition,h=Ge;try{if(_n.transition=null,Ge=16>s?16:s,Hi===null)var f=!1;else{if(s=Hi,Hi=null,ou=0,Ae&6)throw Error(t(331));var m=Ae;for(Ae|=4,ne=s.current;ne!==null;){var y=ne,E=y.child;if(ne.flags&16){var R=y.deletions;if(R!==null){for(var T=0;T<R.length;T++){var b=R[T];for(ne=b;ne!==null;){var V=ne;switch(V.tag){case 0:case 11:case 15:Ka(8,V,y)}var Y=V.child;if(Y!==null)Y.return=V,ne=Y;else for(;ne!==null;){V=ne;var $=V.sibling,ee=V.return;if(Tm(V),V===b){ne=null;break}if($!==null){$.return=ee,ne=$;break}ne=ee}}}var se=y.alternate;if(se!==null){var oe=se.child;if(oe!==null){se.child=null;do{var nt=oe.sibling;oe.sibling=null,oe=nt}while(oe!==null)}}ne=y}}if(y.subtreeFlags&2064&&E!==null)E.return=y,ne=E;else e:for(;ne!==null;){if(y=ne,y.flags&2048)switch(y.tag){case 0:case 11:case 15:Ka(9,y,y.return)}var N=y.sibling;if(N!==null){N.return=y.return,ne=N;break e}ne=y.return}}var k=s.current;for(ne=k;ne!==null;){E=ne;var D=E.child;if(E.subtreeFlags&2064&&D!==null)D.return=E,ne=D;else e:for(E=k;ne!==null;){if(R=ne,R.flags&2048)try{switch(R.tag){case 0:case 11:case 15:nu(9,R)}}catch(he){Qe(R,R.return,he)}if(R===E){ne=null;break e}var q=R.sibling;if(q!==null){q.return=R.return,ne=q;break e}ne=R.return}}if(Ae=m,Bi(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(ml,s)}catch{}f=!0}return f}finally{Ge=h,_n.transition=a}}return!1}function $m(s,a,h){a=Is(h,a),a=lm(s,a,1),s=$i(s,a,1),a=bt(),s!==null&&(Ma(s,1,a),Ht(s,a))}function Qe(s,a,h){if(s.tag===3)$m(s,s,h);else for(;a!==null;){if(a.tag===3){$m(a,s,h);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Xi===null||!Xi.has(f))){s=Is(h,s),s=um(a,s,1),a=$i(a,s,1),s=bt(),a!==null&&(Ma(a,1,s),Ht(a,s));break}}a=a.return}}function x2(s,a,h){var f=s.pingCache;f!==null&&f.delete(a),a=bt(),s.pingedLanes|=s.suspendedLanes&h,ct===s&&(yt&h)===h&&(at===4||at===3&&(yt&130023424)===yt&&500>tt()-rf?Or(s,0):nf|=h),Ht(s,a)}function Vm(s,a){a===0&&(s.mode&1?(a=_l,_l<<=1,!(_l&130023424)&&(_l=4194304)):a=1);var h=bt();s=hi(s,a),s!==null&&(Ma(s,a,h),Ht(s,h))}function E2(s){var a=s.memoizedState,h=0;a!==null&&(h=a.retryLane),Vm(s,h)}function w2(s,a){var h=0;switch(s.tag){case 13:var f=s.stateNode,m=s.memoizedState;m!==null&&(h=m.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(a),Vm(s,h)}var Xm;Xm=function(s,a,h){if(s!==null)if(s.memoizedProps!==a.pendingProps||Ut.current)Vt=!0;else{if(!(s.lanes&h)&&!(a.flags&128))return Vt=!1,u2(s,a,h);Vt=!!(s.flags&131072)}else Vt=!1,Xe&&a.flags&1048576&&S0(a,Gl,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;eu(s,a),s=a.pendingProps;var m=vs(a,Ct.current);Ss(a,h),m=Nc(null,a,f,s,m,h);var y=Dc();return a.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,$t(f)?(y=!0,Fl(a)):y=!1,a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Ic(a),m.updater=Ql,a.stateNode=m,m._reactInternals=a,Wc(a,f,s,h),a=Vc(null,a,f,!0,y,h)):(a.tag=0,Xe&&y&&_c(a),Ft(null,a,m,h),a=a.child),a;case 16:f=a.elementType;e:{switch(eu(s,a),s=a.pendingProps,m=f._init,f=m(f._payload),a.type=f,m=a.tag=C2(f),s=In(f,s),m){case 0:a=$c(null,a,f,s,h);break e;case 1:a=ym(null,a,f,s,h);break e;case 11:a=dm(null,a,f,s,h);break e;case 14:a=gm(null,a,f,In(f.type,s),h);break e}throw Error(t(306,f,""))}return a;case 0:return f=a.type,m=a.pendingProps,m=a.elementType===f?m:In(f,m),$c(s,a,f,m,h);case 1:return f=a.type,m=a.pendingProps,m=a.elementType===f?m:In(f,m),ym(s,a,f,m,h);case 3:e:{if(vm(a),s===null)throw Error(t(387));f=a.pendingProps,y=a.memoizedState,m=y.element,N0(s,a),Vl(a,f,null,h);var E=a.memoizedState;if(f=E.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){m=Is(Error(t(423)),a),a=xm(s,a,f,h,m);break e}else if(f!==m){m=Is(Error(t(424)),a),a=xm(s,a,f,h,m);break e}else for(on=Gi(a.stateNode.containerInfo.firstChild),an=a,Xe=!0,Rn=null,h=k0(a,null,f,h),a.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(ws(),f===m){a=fi(s,a,h);break e}Ft(s,a,f,h)}a=a.child}return a;case 5:return b0(a),s===null&&xc(a),f=a.type,m=a.pendingProps,y=s!==null?s.memoizedProps:null,E=m.children,cc(f,m)?E=null:y!==null&&cc(f,y)&&(a.flags|=32),_m(s,a),Ft(s,a,E,h),a.child;case 6:return s===null&&xc(a),null;case 13:return Em(s,a,h);case 4:return Tc(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=Ms(a,null,f,h):Ft(s,a,f,h),a.child;case 11:return f=a.type,m=a.pendingProps,m=a.elementType===f?m:In(f,m),dm(s,a,f,m,h);case 7:return Ft(s,a,a.pendingProps,h),a.child;case 8:return Ft(s,a,a.pendingProps.children,h),a.child;case 12:return Ft(s,a,a.pendingProps.children,h),a.child;case 10:e:{if(f=a.type._context,m=a.pendingProps,y=a.memoizedProps,E=m.value,Ue(Bl,f._currentValue),f._currentValue=E,y!==null)if(Sn(y.value,E)){if(y.children===m.children&&!Ut.current){a=fi(s,a,h);break e}}else for(y=a.child,y!==null&&(y.return=a);y!==null;){var R=y.dependencies;if(R!==null){E=y.child;for(var T=R.firstContext;T!==null;){if(T.context===f){if(y.tag===1){T=ci(-1,h&-h),T.tag=2;var b=y.updateQueue;if(b!==null){b=b.shared;var V=b.pending;V===null?T.next=T:(T.next=V.next,V.next=T),b.pending=T}}y.lanes|=h,T=y.alternate,T!==null&&(T.lanes|=h),Sc(y.return,h,a),R.lanes|=h;break}T=T.next}}else if(y.tag===10)E=y.type===a.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(t(341));E.lanes|=h,R=E.alternate,R!==null&&(R.lanes|=h),Sc(E,h,a),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===a){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}Ft(s,a,m.children,h),a=a.child}return a;case 9:return m=a.type,f=a.pendingProps.children,Ss(a,h),m=mn(m),f=f(m),a.flags|=1,Ft(s,a,f,h),a.child;case 14:return f=a.type,m=In(f,a.pendingProps),m=In(f.type,m),gm(s,a,f,m,h);case 15:return mm(s,a,a.type,a.pendingProps,h);case 17:return f=a.type,m=a.pendingProps,m=a.elementType===f?m:In(f,m),eu(s,a),a.tag=1,$t(f)?(s=!0,Fl(a)):s=!1,Ss(a,h),am(a,f,m),Wc(a,f,m,h),Vc(null,a,f,!0,s,h);case 19:return Mm(s,a,h);case 22:return pm(s,a,h)}throw Error(t(156,a.tag))};function Hm(s,a){return Rg(s,a)}function M2(s,a,h,f){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(s,a,h,f){return new M2(s,a,h,f)}function ff(s){return s=s.prototype,!(!s||!s.isReactComponent)}function C2(s){if(typeof s=="function")return ff(s)?1:0;if(s!=null){if(s=s.$$typeof,s===ue)return 11;if(s===Ce)return 14}return 2}function Ki(s,a){var h=s.alternate;return h===null?(h=yn(s.tag,a,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=a,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&14680064,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,a=s.dependencies,h.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h}function cu(s,a,h,f,m,y){var E=2;if(f=s,typeof s=="function")ff(s)&&(E=1);else if(typeof s=="string")E=5;else e:switch(s){case U:return Dr(h.children,m,y,a);case z:E=8,m|=8;break;case W:return s=yn(12,h,a,m|2),s.elementType=W,s.lanes=y,s;case de:return s=yn(13,h,a,m),s.elementType=de,s.lanes=y,s;case ie:return s=yn(19,h,a,m),s.elementType=ie,s.lanes=y,s;case re:return fu(h,m,y,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case K:E=10;break e;case te:E=9;break e;case ue:E=11;break e;case Ce:E=14;break e;case ae:E=16,f=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=yn(E,h,a,m),a.elementType=s,a.type=f,a.lanes=y,a}function Dr(s,a,h,f){return s=yn(7,s,f,a),s.lanes=h,s}function fu(s,a,h,f){return s=yn(22,s,f,a),s.elementType=re,s.lanes=h,s.stateNode={isHidden:!1},s}function df(s,a,h){return s=yn(6,s,null,a),s.lanes=h,s}function gf(s,a,h){return a=yn(4,s.children!==null?s.children:[],s.key,a),a.lanes=h,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function S2(s,a,h,f,m){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jh(0),this.expirationTimes=jh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jh(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function mf(s,a,h,f,m,y,E,R,T){return s=new S2(s,a,h,R,T),a===1?(a=1,y===!0&&(a|=8)):a=0,y=yn(3,null,null,a),s.current=y,y.stateNode=s,y.memoizedState={element:f,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ic(y),s}function R2(s,a,h){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:f==null?null:""+f,children:s,containerInfo:a,implementation:h}}function Ym(s){if(!s)return Wi;s=s._reactInternals;e:{if(Mr(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if($t(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var h=s.type;if($t(h))return w0(s,h,a)}return a}function qm(s,a,h,f,m,y,E,R,T){return s=mf(h,f,!0,s,m,y,E,R,T),s.context=Ym(null),h=s.current,f=bt(),m=Yi(h),y=ci(f,m),y.callback=a??null,$i(h,y,m),s.current.lanes=m,Ma(s,m,f),Ht(s,f),s}function du(s,a,h,f){var m=a.current,y=bt(),E=Yi(m);return h=Ym(h),a.context===null?a.context=h:a.pendingContext=h,a=ci(y,E),a.payload={element:s},f=f===void 0?null:f,f!==null&&(a.callback=f),s=$i(m,a,E),s!==null&&(Ln(s,m,E,y),$l(s,m,E)),E}function gu(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Km(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<a?h:a}}function pf(s,a){Km(s,a),(s=s.alternate)&&Km(s,a)}var Zm=typeof reportError=="function"?reportError:function(s){console.error(s)};function _f(s){this._internalRoot=s}mu.prototype.render=_f.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));du(s,a,null,null)},mu.prototype.unmount=_f.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;kr(function(){du(null,s,null,null)}),a[ai]=null}};function mu(s){this._internalRoot=s}mu.prototype.unstable_scheduleHydration=function(s){if(s){var a=Ng();s={blockedOn:null,target:s,priority:a};for(var h=0;h<Fi.length&&a!==0&&a<Fi[h].priority;h++);Fi.splice(h,0,s),h===0&&bg(s)}};function yf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function pu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Qm(){}function I2(s,a,h,f,m){if(m){if(typeof f=="function"){var y=f;f=function(){var b=gu(E);y.call(b)}}var E=qm(a,f,s,0,null,!1,!1,"",Qm);return s._reactRootContainer=E,s[ai]=E.current,ba(s.nodeType===8?s.parentNode:s),kr(),E}for(;m=s.lastChild;)s.removeChild(m);if(typeof f=="function"){var R=f;f=function(){var b=gu(T);R.call(b)}}var T=mf(s,0,!1,null,null,!1,!1,"",Qm);return s._reactRootContainer=T,s[ai]=T.current,ba(s.nodeType===8?s.parentNode:s),kr(function(){du(a,T,h,f)}),T}function _u(s,a,h,f,m){var y=h._reactRootContainer;if(y){var E=y;if(typeof m=="function"){var R=m;m=function(){var T=gu(E);R.call(T)}}du(a,E,s,m)}else E=I2(h,a,s,m,f);return gu(E)}kg=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var h=wa(a.pendingLanes);h!==0&&(Wh(a,h|1),Ht(a,tt()),!(Ae&6)&&(Ls=tt()+500,Bi()))}break;case 13:kr(function(){var f=hi(s,1);if(f!==null){var m=bt();Ln(f,s,1,m)}}),pf(s,1)}},Bh=function(s){if(s.tag===13){var a=hi(s,134217728);if(a!==null){var h=bt();Ln(a,s,134217728,h)}pf(s,134217728)}},Og=function(s){if(s.tag===13){var a=Yi(s),h=hi(s,a);if(h!==null){var f=bt();Ln(h,s,a,f)}pf(s,a)}},Ng=function(){return Ge},Dg=function(s,a){var h=Ge;try{return Ge=s,a()}finally{Ge=h}},si=function(s,a,h){switch(a){case"input":if(pa(s,h),a=h.name,h.type==="radio"&&a!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<h.length;a++){var f=h[a];if(f!==s&&f.form===s.form){var m=Nl(f);if(!m)throw Error(t(90));ns(f),pa(f,m)}}}break;case"textarea":ss(s,h);break;case"select":a=h.value,a!=null&&Ti(s,!!h.multiple,a,!1)}},zn=uf,kt=kr;var T2={usingClientEntryPoint:!1,Events:[ja,_s,Nl,Ea,At,uf]},eo={findFiberByHostInstance:Cr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},P2={bundleType:eo.bundleType,version:eo.version,rendererPackageName:eo.rendererPackageName,rendererConfig:eo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Cg(s),s===null?null:s.stateNode},findFiberByHostInstance:eo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yu.isDisabled&&yu.supportsFiber)try{ml=yu.inject(P2),Gn=yu}catch{}}return Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T2,Yt.createPortal=function(s,a){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yf(a))throw Error(t(200));return R2(s,a,null,h)},Yt.createRoot=function(s,a){if(!yf(s))throw Error(t(299));var h=!1,f="",m=Zm;return a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(m=a.onRecoverableError)),a=mf(s,1,!1,null,null,h,!1,f,m),s[ai]=a.current,ba(s.nodeType===8?s.parentNode:s),new _f(a)},Yt.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Cg(a),s=s===null?null:s.stateNode,s},Yt.flushSync=function(s){return kr(s)},Yt.hydrate=function(s,a,h){if(!pu(a))throw Error(t(200));return _u(null,s,a,!0,h)},Yt.hydrateRoot=function(s,a,h){if(!yf(s))throw Error(t(405));var f=h!=null&&h.hydratedSources||null,m=!1,y="",E=Zm;if(h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(y=h.identifierPrefix),h.onRecoverableError!==void 0&&(E=h.onRecoverableError)),a=qm(a,null,s,1,h??null,m,!1,y,E),s[ai]=a.current,ba(s),f)for(s=0;s<f.length;s++)h=f[s],m=h._getVersion,m=m(h._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[h,m]:a.mutableSourceEagerHydrationData.push(h,m);return new mu(a)},Yt.render=function(s,a,h){if(!pu(a))throw Error(t(200));return _u(null,s,a,!1,h)},Yt.unmountComponentAtNode=function(s){if(!pu(s))throw Error(t(40));return s._reactRootContainer?(kr(function(){_u(null,null,s,!1,function(){s._reactRootContainer=null,s[ai]=null})}),!0):!1},Yt.unstable_batchedUpdates=uf,Yt.unstable_renderSubtreeIntoContainer=function(s,a,h,f){if(!pu(h))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return _u(s,a,h,!1,f)},Yt.version="18.3.1-next-f1338f8080-20240426",Yt}var op;function j2(){if(op)return Ef.exports;op=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ef.exports=G2(),Ef.exports}var lp;function W2(){if(lp)return vu;lp=1;var n=j2();return vu.createRoot=n.createRoot,vu.hydrateRoot=n.hydrateRoot,vu}var B2=W2();const Kt={ADD:"add",REMOVE:"remove"},Qs={PROPERTYCHANGE:"propertychange"},Se={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};class vd{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function U2(n,e,t){let i,r;t=t||$r;let o=0,l=n.length,u=!1;for(;o<l;)i=o+(l-o>>1),r=+t(n[i],e),r<0?o=i+1:(l=i,u=!r);return u?o:~o}function $r(n,e){return n>e?1:n<e?-1:0}function $2(n,e){return n<e?1:n>e?-1:0}function xd(n,e,t){if(n[0]<=e)return 0;const i=n.length;if(e<=n[i-1])return i-1;if(typeof t=="function"){for(let r=1;r<i;++r){const o=n[r];if(o===e)return r;if(o<e)return t(e,n[r-1],o)>0?r-1:r}return i-1}if(t>0){for(let r=1;r<i;++r)if(n[r]<e)return r-1;return i-1}if(t<0){for(let r=1;r<i;++r)if(n[r]<=e)return r;return i-1}for(let r=1;r<i;++r){if(n[r]==e)return r;if(n[r]<e)return n[r-1]-e<e-n[r]?r-1:r}return i-1}function V2(n,e,t){for(;e<t;){const i=n[e];n[e]=n[t],n[t]=i,++e,--t}}function Kn(n,e){const t=Array.isArray(e)?e:[e],i=t.length;for(let r=0;r<i;r++)n[n.length]=t[r]}function _r(n,e){const t=n.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}function To(){return!0}function dh(){return!1}function Js(){}function D_(n){let e,t,i;return function(){const r=Array.prototype.slice.call(arguments);return(!t||this!==i||!_r(r,t))&&(i=this,t=r,e=n.apply(this,arguments)),e}}function F_(n){function e(){let t;try{t=n()}catch(i){return Promise.reject(i)}return t instanceof Promise?t:Promise.resolve(t)}return e()}function Xo(n){for(const e in n)delete n[e]}function Xr(n){let e;for(e in n)return!1;return!e}class Ci{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}class gh extends vd{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;const i=this.listeners_||(this.listeners_={}),r=i[e]||(i[e]=[]);r.includes(t)||r.push(t)}dispatchEvent(e){const t=typeof e=="string",i=t?e:e.type,r=this.listeners_&&this.listeners_[i];if(!r)return;const o=t?new Ci(e):e;o.target||(o.target=this.eventTarget_||this);const l=this.dispatching_||(this.dispatching_={}),u=this.pendingRemovals_||(this.pendingRemovals_={});i in l||(l[i]=0,u[i]=0),++l[i];let c;for(let d=0,g=r.length;d<g;++d)if("handleEvent"in r[d]?c=r[d].handleEvent(o):c=r[d].call(this,o),c===!1||o.propagationStopped){c=!1;break}if(--l[i]===0){let d=u[i];for(delete u[i];d--;)this.removeEventListener(i,Js);delete l[i]}return c}disposeInternal(){this.listeners_&&Xo(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,t){if(!this.listeners_)return;const i=this.listeners_[e];if(!i)return;const r=i.indexOf(t);r!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[r]=Js,++this.pendingRemovals_[e]):(i.splice(r,1),i.length===0&&delete this.listeners_[e]))}}function ke(n,e,t,i,r){if(r){const l=t;t=function(u){return n.removeEventListener(e,t),l.call(i??this,u)}}else i&&i!==n&&(t=t.bind(i));const o={target:n,type:e,listener:t};return n.addEventListener(e,t),o}function up(n,e,t,i){return ke(n,e,t,i,!0)}function Ze(n){n&&n.target&&(n.target.removeEventListener(n.type,n.listener),Xo(n))}class Ho extends gh{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Se.CHANGE)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){const i=e.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=ke(this,e[o],t);return r}return ke(this,e,t)}onceInternal(e,t){let i;if(Array.isArray(e)){const r=e.length;i=new Array(r);for(let o=0;o<r;++o)i[o]=up(this,e[o],t)}else i=up(this,e,t);return t.ol_key=i,i}unInternal(e,t){const i=t.ol_key;if(i)X2(i);else if(Array.isArray(e))for(let r=0,o=e.length;r<o;++r)this.removeEventListener(e[r],t);else this.removeEventListener(e,t)}}Ho.prototype.on;Ho.prototype.once;Ho.prototype.un;function X2(n){if(Array.isArray(n))for(let e=0,t=n.length;e<t;++e)Ze(n[e]);else Ze(n)}function Me(){throw new Error("Unimplemented abstract method.")}let H2=0;function it(n){return n.ol_uid||(n.ol_uid=String(++H2))}class hp extends Ci{constructor(e,t,i){super(e),this.key=t,this.oldValue=i}}class Jn extends Ho{constructor(e){super(),this.on,this.once,this.un,it(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,t){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new hp(i,e,t)),i=Qs.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new hp(i,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,i){const r=this.values_||(this.values_={});if(i)r[e]=t;else{const o=r[e];r[e]=t,o!==t&&this.notify(e,o)}}setProperties(e,t){for(const i in e)this.set(i,e[i],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){const i=this.values_[e];delete this.values_[e],Xr(this.values_)&&(this.values_=null),t||this.notify(e,i)}}}const cp={LENGTH:"length"};class xu extends Ci{constructor(e,t,i){super(e),this.element=t,this.index=i}}class Hn extends Jn{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e||[],this.unique_)for(let i=0,r=this.array_.length;i<r;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,i=e.length;t<i;++t)this.push(e[t]);return this}forEach(e){const t=this.array_;for(let i=0,r=t.length;i<r;++i)e(t[i],i,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(cp.LENGTH)}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new xu(Kt.ADD,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){const t=this.array_;for(let i=0,r=t.length;i<r;++i)if(t[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;const t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new xu(Kt.REMOVE,t,e)),t}setAt(e,t){const i=this.getLength();if(e>=i){this.insertAt(e,t);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);const r=this.array_[e];this.array_[e]=t,this.dispatchEvent(new xu(Kt.REMOVE,r,e)),this.dispatchEvent(new xu(Kt.ADD,t,e))}updateLength_(){this.set(cp.LENGTH,this.array_.length)}assertUnique_(e,t){for(let i=0,r=this.array_.length;i<r;++i)if(this.array_[i]===e&&i!==t)throw new Error("Duplicate item added to a unique collection")}}class bs extends Ci{constructor(e,t,i){super(e),this.map=t,this.frameState=i!==void 0?i:null}}class nr extends bs{constructor(e,t,i,r,o,l){super(e,t,o),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this.activePointers=l}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const Je={SINGLECLICK:"singleclick",CLICK:Se.CLICK,DBLCLICK:Se.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},fr=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",Y2=fr.includes("firefox"),q2=fr.includes("safari")&&!fr.includes("chrom");q2&&(fr.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(fr));const K2=fr.includes("webkit")&&!fr.includes("edge"),b_=fr.includes("macintosh"),z_=typeof devicePixelRatio<"u"?devicePixelRatio:1,G_=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,j_=typeof Image<"u"&&Image.prototype.decode,W_=typeof createImageBitmap=="function",B_=function(){let n=!1;try{const e=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return n}(),Yf={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};class Z2 extends gh{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=t===void 0?1:t,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=ke(i,Yf.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=ke(i,Yf.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Se.TOUCHMOVE,this.boundHandleTouchMove_,B_?{passive:!1}:!1)}emulateClick_(e){let t=new nr(Je.CLICK,this.map_,e);this.dispatchEvent(t),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new nr(Je.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const i=new nr(Je.SINGLECLICK,this.map_,e);this.dispatchEvent(i)},250)}updateActivePointers_(e){const t=e,i=t.pointerId;if(t.type==Je.POINTERUP||t.type==Je.POINTERCANCEL){delete this.trackedTouches_[i];for(const r in this.trackedTouches_)if(this.trackedTouches_[r].target!==t.target){delete this.trackedTouches_[r];break}}else(t.type==Je.POINTERDOWN||t.type==Je.POINTERMOVE)&&(this.trackedTouches_[i]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const t=new nr(Je.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Ze),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const t=new nr(Je.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(ke(i,Je.POINTERMOVE,this.handlePointerMove_,this),ke(i,Je.POINTERUP,this.handlePointerUp_,this),ke(this.element_,Je.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(ke(this.element_.getRootNode(),Je.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const t=new nr(Je.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const t=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new nr(Je.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){const t=this.originalPointerMoveEvent_;(!t||t.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Ze(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Se.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Ze(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Ze),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const ir={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Tt={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},no={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function He(n,e){if(!n)throw new Error(e)}const Bu=1/0;class Q2{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Xo(this.queuedElements_)}dequeue(){const e=this.elements_,t=this.priorities_,i=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));const r=this.keyFunction_(i);return delete this.queuedElements_[r],i}enqueue(e){He(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const t=this.priorityFunction_(e);return t!=Bu?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const t=this.elements_,i=this.priorities_,r=t.length,o=t[e],l=i[e],u=e;for(;e<r>>1;){const c=this.getLeftChildIndex_(e),d=this.getRightChildIndex_(e),g=d<r&&i[d]<i[c]?d:c;t[e]=t[g],i[e]=i[g],e=g}t[e]=o,i[e]=l,this.siftDown_(u,e)}siftDown_(e,t){const i=this.elements_,r=this.priorities_,o=i[t],l=r[t];for(;t>e;){const u=this.getParentIndex_(t);if(r[u]>l)i[t]=i[u],r[t]=r[u],t=u;else break}i[t]=o,r[t]=l}reprioritize(){const e=this.priorityFunction_,t=this.elements_,i=this.priorities_;let r=0;const o=t.length;let l,u,c;for(u=0;u<o;++u)l=t[u],c=e(l),c==Bu?delete this.queuedElements_[this.keyFunction_(l)]:(i[r]=c,t[r++]=l);t.length=r,i.length=r,this.heapify_()}}class J2 extends Q2{constructor(e,t){super(i=>e.apply(null,i),i=>i[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const t=super.enqueue(e);return t&&e[0].addEventListener(Se.CHANGE,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const t=e.target,i=t.getState();if(i===no.LOADED||i===no.ERROR||i===no.EMPTY){i!==no.ERROR&&t.removeEventListener(Se.CHANGE,this.boundHandleTileChange_);const r=t.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let i=0;for(;this.tilesLoading_<e&&i<t&&this.getCount()>0;){const r=this.dequeue()[0],o=r.getKey();r.getState()===no.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++i,r.load())}}}function ex(n,e,t,i,r){if(!n||!(t in n.wantedTiles)||!n.wantedTiles[t][e.getKey()])return Bu;const o=n.viewState.center,l=i[0]-o[0],u=i[1]-o[1];return 65536*Math.log(r)+Math.sqrt(l*l+u*u)/r}const gt={ANIMATING:0,INTERACTING:1},An={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function lt(n,e,t){return Math.min(Math.max(n,e),t)}function tx(n,e,t,i,r,o){const l=r-t,u=o-i;if(l!==0||u!==0){const c=((n-t)*l+(e-i)*u)/(l*l+u*u);c>1?(t=r,i=o):c>0&&(t+=l*c,i+=u*c)}return Vr(n,e,t,i)}function Vr(n,e,t,i){const r=t-n,o=i-e;return r*r+o*o}function nx(n){const e=n.length;for(let i=0;i<e;i++){let r=i,o=Math.abs(n[i][i]);for(let u=i+1;u<e;u++){const c=Math.abs(n[u][i]);c>o&&(o=c,r=u)}if(o===0)return null;const l=n[r];n[r]=n[i],n[i]=l;for(let u=i+1;u<e;u++){const c=-n[u][i]/n[i][i];for(let d=i;d<e+1;d++)i==d?n[u][d]=0:n[u][d]+=c*n[i][d]}}const t=new Array(e);for(let i=e-1;i>=0;i--){t[i]=n[i][e]/n[i][i];for(let r=i-1;r>=0;r--)n[r][e]-=n[r][i]*t[i]}return t}function fp(n){return n*180/Math.PI}function lr(n){return n*Math.PI/180}function xo(n,e){const t=n%e;return t*e<0?t+e:t}function un(n,e,t){return n+t*(e-n)}function U_(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}function Eu(n,e){return Math.ceil(U_(n,e))}function qf(n,e,t){if(n>=e&&n<t)return n;const i=t-e;return((n-e)%i+i)%i+e}function dp(n,e,t){return function(i,r,o,l,u){if(!i)return;if(!r&&!e)return i;const c=e?0:o[0]*r,d=e?0:o[1]*r,g=u?u[0]:0,p=u?u[1]:0;let _=n[0]+c/2+g,v=n[2]-c/2+g,x=n[1]+d/2+p,M=n[3]-d/2+p;_>v&&(_=(v+_)/2,v=_),x>M&&(x=(M+x)/2,M=x);let w=lt(i[0],_,v),C=lt(i[1],x,M);if(l&&t&&r){const S=30*r;w+=-S*Math.log(1+Math.max(0,_-i[0])/S)+S*Math.log(1+Math.max(0,i[0]-v)/S),C+=-S*Math.log(1+Math.max(0,x-i[1])/S)+S*Math.log(1+Math.max(0,i[1]-M)/S)}return[w,C]}}function ix(n){return n}const dt={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function gp(n){const e=Dn();for(let t=0,i=n.length;t<i;++t)Eo(e,n[t]);return e}function Ed(n,e,t){return t?(t[0]=n[0]-e,t[1]=n[1]-e,t[2]=n[2]+e,t[3]=n[3]+e,t):[n[0]-e,n[1]-e,n[2]+e,n[3]+e]}function $_(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n.slice()}function Zr(n,e,t){let i,r;return e<n[0]?i=n[0]-e:n[2]<e?i=e-n[2]:i=0,t<n[1]?r=n[1]-t:n[3]<t?r=t-n[3]:r=0,i*i+r*r}function Po(n,e){return wd(n,e[0],e[1])}function sr(n,e){return n[0]<=e[0]&&e[2]<=n[2]&&n[1]<=e[1]&&e[3]<=n[3]}function wd(n,e,t){return n[0]<=e&&e<=n[2]&&n[1]<=t&&t<=n[3]}function Kf(n,e){const t=n[0],i=n[1],r=n[2],o=n[3],l=e[0],u=e[1];let c=dt.UNKNOWN;return l<t?c=c|dt.LEFT:l>r&&(c=c|dt.RIGHT),u<i?c=c|dt.BELOW:u>o&&(c=c|dt.ABOVE),c===dt.UNKNOWN&&(c=dt.INTERSECTING),c}function Dn(){return[1/0,1/0,-1/0,-1/0]}function ea(n,e,t,i,r){return r?(r[0]=n,r[1]=e,r[2]=t,r[3]=i,r):[n,e,t,i]}function Yo(n){return ea(1/0,1/0,-1/0,-1/0,n)}function V_(n,e){const t=n[0],i=n[1];return ea(t,i,t,i,e)}function Md(n,e,t,i,r){const o=Yo(r);return H_(o,n,e,t,i)}function Lo(n,e){return n[0]==e[0]&&n[2]==e[2]&&n[1]==e[1]&&n[3]==e[3]}function X_(n,e){return e[0]<n[0]&&(n[0]=e[0]),e[2]>n[2]&&(n[2]=e[2]),e[1]<n[1]&&(n[1]=e[1]),e[3]>n[3]&&(n[3]=e[3]),n}function Eo(n,e){e[0]<n[0]&&(n[0]=e[0]),e[0]>n[2]&&(n[2]=e[0]),e[1]<n[1]&&(n[1]=e[1]),e[1]>n[3]&&(n[3]=e[1])}function H_(n,e,t,i,r){for(;t<i;t+=r)rx(n,e[t],e[t+1]);return n}function rx(n,e,t){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}function sx(n,e){let t;return t=e(Cd(n)),t||(t=e(Sd(n)),t)||(t=e(Id(n)),t)||(t=e(mh(n)),t)?t:!1}function ax(n){let e=0;return ua(n)||(e=De(n)*mt(n)),e}function Cd(n){return[n[0],n[1]]}function Sd(n){return[n[2],n[1]]}function wi(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function Uu(n,e,t,i,r){const[o,l,u,c,d,g,p,_]=ox(n,e,t,i);return ea(Math.min(o,u,d,p),Math.min(l,c,g,_),Math.max(o,u,d,p),Math.max(l,c,g,_),r)}function ox(n,e,t,i){const r=e*i[0]/2,o=e*i[1]/2,l=Math.cos(t),u=Math.sin(t),c=r*l,d=r*u,g=o*l,p=o*u,_=n[0],v=n[1];return[_-c+p,v-d-g,_-c-p,v-d+g,_+c-p,v+d+g,_+c+p,v+d-g,_-c+p,v-d-g]}function mt(n){return n[3]-n[1]}function Rd(n,e,t){const i=t||Dn();return jt(n,e)?(n[0]>e[0]?i[0]=n[0]:i[0]=e[0],n[1]>e[1]?i[1]=n[1]:i[1]=e[1],n[2]<e[2]?i[2]=n[2]:i[2]=e[2],n[3]<e[3]?i[3]=n[3]:i[3]=e[3]):Yo(i),i}function mh(n){return[n[0],n[3]]}function Id(n){return[n[2],n[3]]}function De(n){return n[2]-n[0]}function jt(n,e){return n[0]<=e[2]&&n[2]>=e[0]&&n[1]<=e[3]&&n[3]>=e[1]}function ua(n){return n[2]<n[0]||n[3]<n[1]}function lx(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n}function ux(n,e,t){let i=!1;const r=Kf(n,e),o=Kf(n,t);if(r===dt.INTERSECTING||o===dt.INTERSECTING)i=!0;else{const l=n[0],u=n[1],c=n[2],d=n[3],g=e[0],p=e[1],_=t[0],v=t[1],x=(v-p)/(_-g);let M,w;o&dt.ABOVE&&!(r&dt.ABOVE)&&(M=_-(v-d)/x,i=M>=l&&M<=c),!i&&o&dt.RIGHT&&!(r&dt.RIGHT)&&(w=v-(_-c)*x,i=w>=u&&w<=d),!i&&o&dt.BELOW&&!(r&dt.BELOW)&&(M=_-(v-u)/x,i=M>=l&&M<=c),!i&&o&dt.LEFT&&!(r&dt.LEFT)&&(w=v-(_-l)*x,i=w>=u&&w<=d)}return i}function Y_(n,e){const t=e.getExtent(),i=wi(n);if(e.canWrapX()&&(i[0]<t[0]||i[0]>=t[2])){const r=De(t),l=Math.floor((i[0]-t[0])/r)*r;n[0]-=l,n[2]-=l}return n}function hx(n,e,t){if(e.canWrapX()){const i=e.getExtent();if(!isFinite(n[0])||!isFinite(n[2]))return[[i[0],n[1],i[2],n[3]]];Y_(n,e);const r=De(i);if(De(n)>r)return[[i[0],n[1],i[2],n[3]]];if(n[0]<i[0])return[[n[0]+r,n[1],i[2],n[3]],[i[0],n[1],n[2],n[3]]];if(n[2]>i[2])return[[n[0],n[1],i[2],n[3]],[i[0],n[1],n[2]-r,n[3]]]}return[n]}function cx(n,e){return n[0]+=+e[0],n[1]+=+e[1],n}function $u(n,e){let t=!0;for(let i=n.length-1;i>=0;--i)if(n[i]!=e[i]){t=!1;break}return t}function Td(n,e){const t=Math.cos(e),i=Math.sin(e),r=n[0]*t-n[1]*i,o=n[1]*t+n[0]*i;return n[0]=r,n[1]=o,n}function fx(n,e){return n[0]*=e,n[1]*=e,n}function q_(n,e){if(e.canWrapX()){const t=De(e.getExtent()),i=K_(n,e,t);i&&(n[0]-=i*t)}return n}function K_(n,e,t){const i=e.getExtent();let r=0;return e.canWrapX()&&(n[0]<i[0]||n[0]>i[2])&&(t=t||De(i),r=Math.floor((n[0]-i[0])/t)),r}function dx(n){return Math.pow(n,3)}function ha(n){return 1-dx(1-n)}function gx(n){return 3*n*n-2*n*n*n}function mx(n){return n}const px=63710088e-1;function mp(n,e,t){t=t||px;const i=lr(n[1]),r=lr(e[1]),o=(r-i)/2,l=lr(e[0]-n[0])/2,u=Math.sin(o)*Math.sin(o)+Math.sin(l)*Math.sin(l)*Math.cos(i)*Math.cos(r);return 2*t*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}function Z_(...n){console.warn(...n)}const Q_={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};let ph=class{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Q_[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}};const qo=6378137,Bs=Math.PI*qo,_x=[-Bs,-Bs,Bs,Bs],yx=[-180,-85,180,85],wu=qo*Math.log(Math.tan(Math.PI/2));class ks extends ph{constructor(e){super({code:e,units:"m",extent:_x,global:!0,worldExtent:yx,getPointResolution:function(t,i){return t/Math.cosh(i[1]/qo)}})}}const pp=[new ks("EPSG:3857"),new ks("EPSG:102100"),new ks("EPSG:102113"),new ks("EPSG:900913"),new ks("http://www.opengis.net/def/crs/EPSG/0/3857"),new ks("http://www.opengis.net/gml/srs/epsg.xml#3857")];function vx(n,e,t,i){const r=n.length;t=t>1?t:2,i=i??t,e===void 0&&(t>2?e=n.slice():e=new Array(r));for(let o=0;o<r;o+=i){e[o]=Bs*n[o]/180;let l=qo*Math.log(Math.tan(Math.PI*(+n[o+1]+90)/360));l>wu?l=wu:l<-wu&&(l=-wu),e[o+1]=l}return e}function xx(n,e,t,i){const r=n.length;t=t>1?t:2,i=i??t,e===void 0&&(t>2?e=n.slice():e=new Array(r));for(let o=0;o<r;o+=i)e[o]=180*n[o]/Bs,e[o+1]=360*Math.atan(Math.exp(n[o+1]/qo))/Math.PI-90;return e}const Ex=6378137,_p=[-180,-90,180,90],wx=Math.PI*Ex/180;class Fr extends ph{constructor(e,t){super({code:e,units:"degrees",extent:_p,axisOrientation:t,global:!0,metersPerUnit:wx,worldExtent:_p})}}const yp=[new Fr("CRS:84"),new Fr("EPSG:4326","neu"),new Fr("urn:ogc:def:crs:OGC:1.3:CRS84"),new Fr("urn:ogc:def:crs:OGC:2:84"),new Fr("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Fr("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Fr("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let Zf={};function Nu(n){return Zf[n]||Zf[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function Mx(n,e){Zf[n]=e}let Ys={};function Hr(n,e,t){const i=n.getCode(),r=e.getCode();i in Ys||(Ys[i]={}),Ys[i][r]=t}function Du(n,e){return n in Ys&&e in Ys[n]?Ys[n][e]:null}const Vu=.9996,Mn=.00669438,_h=Mn*Mn,yh=_h*Mn,Gr=Mn/(1-Mn),vp=Math.sqrt(1-Mn),ta=(1-vp)/(1+vp),J_=ta*ta,Pd=J_*ta,Ld=Pd*ta,ey=Ld*ta,ty=1-Mn/4-3*_h/64-5*yh/256,Cx=3*Mn/8+3*_h/32+45*yh/1024,Sx=15*_h/256+45*yh/1024,Rx=35*yh/3072,Ix=3/2*ta-27/32*Pd+269/512*ey,Tx=21/16*J_-55/32*Ld,Px=151/96*Pd-417/128*ey,Lx=1097/512*Ld,Xu=6378137;function Ax(n,e,t){const i=n-5e5,l=(t.north?e:e-1e7)/Vu/(Xu*ty),u=l+Ix*Math.sin(2*l)+Tx*Math.sin(4*l)+Px*Math.sin(6*l)+Lx*Math.sin(8*l),c=Math.sin(u),d=c*c,g=Math.cos(u),p=c/g,_=p*p,v=_*_,x=1-Mn*d,M=Math.sqrt(1-Mn*d),w=Xu/M,C=(1-Mn)/x,S=Gr*g**2,L=S*S,I=i/(w*Vu),A=I*I,F=A*I,U=F*I,z=U*I,W=z*I,K=u-p/C*(A/2-U/24*(5+3*_+10*S-4*L-9*Gr))+W/720*(61+90*_+298*S+45*v-252*Gr-3*L);let te=(I-F/6*(1+2*_+S)+z/120*(5-2*S+28*_-3*L+8*Gr+24*v))/g;return te=qf(te+lr(ny(t.number)),-Math.PI,Math.PI),[fp(te),fp(K)]}const xp=-80,Ep=84,kx=-180,Ox=180;function Nx(n,e,t){n=qf(n,kx,Ox),e<xp?e=xp:e>Ep&&(e=Ep);const i=lr(e),r=Math.sin(i),o=Math.cos(i),l=r/o,u=l*l,c=u*u,d=lr(n),g=ny(t.number),p=lr(g),_=Xu/Math.sqrt(1-Mn*r**2),v=Gr*o**2,x=o*qf(d-p,-Math.PI,Math.PI),M=x*x,w=M*x,C=w*x,S=C*x,L=S*x,I=Xu*(ty*i-Cx*Math.sin(2*i)+Sx*Math.sin(4*i)-Rx*Math.sin(6*i)),A=Vu*_*(x+w/6*(1-u+v)+S/120*(5-18*u+c+72*v-58*Gr))+5e5;let F=Vu*(I+_*l*(M/2+C/24*(5-u+9*v+4*v**2)+L/720*(61-58*u+c+600*v-330*Gr)));return t.north||(F+=1e7),[A,F]}function ny(n){return(n-1)*6-180+3}const Dx=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function iy(n){let e=0;for(const r of Dx){const o=n.match(r);if(o){e=parseInt(o[1]);break}}if(!e)return null;let t=0,i=!1;return e>32700&&e<32761?t=e-32700:e>32600&&e<32661&&(i=!0,t=e-32600),t?{number:t,north:i}:null}function wp(n,e){return function(t,i,r,o){const l=t.length;r=r>1?r:2,o=o??r,i||(r>2?i=t.slice():i=new Array(l));for(let u=0;u<l;u+=o){const c=t[u],d=t[u+1],g=n(c,d,e);i[u]=g[0],i[u+1]=g[1]}return i}}function Fx(n){return iy(n)?new ph({code:n,units:"m"}):null}function bx(n){const e=iy(n.getCode());return e?{forward:wp(Nx,e),inverse:wp(Ax,e)}:null}const zx=[bx],Gx=[Fx];let Qf=!0;function jx(n){Qf=!1}function Ad(n,e){if(e!==void 0){for(let t=0,i=n.length;t<i;++t)e[t]=n[t];e=e}else e=n.slice();return e}function Hu(n){Mx(n.getCode(),n),Hr(n,n,Ad)}function Wx(n){n.forEach(Hu)}function et(n){if(typeof n!="string")return n;const e=Nu(n);if(e)return e;for(const t of Gx){const i=t(n);if(i)return i}return null}function Mp(n,e,t,i){n=et(n);let r;const o=n.getPointResolutionFunc();if(o)r=o(e,t);else{const l=n.getUnits();if(l=="degrees"||i=="degrees")r=e;else{const u=Od(n,et("EPSG:4326"));if(!u&&l!=="degrees")r=e*n.getMetersPerUnit();else{let d=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];d=u(d,d,2);const g=mp(d.slice(0,2),d.slice(2,4)),p=mp(d.slice(4,6),d.slice(6,8));r=(g+p)/2}const c=n.getMetersPerUnit();c!==void 0&&(r/=c)}}return r}function Jf(n){Wx(n),n.forEach(function(e){n.forEach(function(t){e!==t&&Hr(e,t,Ad)})})}function Bx(n,e,t,i){n.forEach(function(r){e.forEach(function(o){Hr(r,o,t),Hr(o,r,i)})})}function kd(n,e){return n?typeof n=="string"?et(n):n:et(e)}function ed(n){return function(e,t,i,r){const o=e.length;i=i!==void 0?i:2,r=r??i,t=t!==void 0?t:new Array(o);for(let l=0;l<o;l+=r){const u=n(e.slice(l,l+i)),c=u.length;for(let d=0,g=r;d<g;++d)t[l+d]=d>=c?e[l+d]:u[d]}return t}}function Ux(n,e,t,i){const r=et(n),o=et(e);Hr(r,o,ed(t)),Hr(o,r,ed(i))}function td(n,e){if(n===e)return!0;const t=n.getUnits()===e.getUnits();return(n.getCode()===e.getCode()||Od(n,e)===Ad)&&t}function Od(n,e){const t=n.getCode(),i=e.getCode();let r=Du(t,i);if(r)return r;let o=null,l=null;for(const c of zx)o||(o=c(n)),l||(l=c(e));if(!o&&!l)return null;const u="EPSG:4326";if(l)if(o)r=Cf(o.inverse,l.forward);else{const c=Du(t,u);c&&(r=Cf(c,l.forward))}else{const c=Du(u,i);c&&(r=Cf(o.inverse,c))}return r&&(Hu(n),Hu(e),Hr(n,e,r)),r}function Cf(n,e){return function(t,i,r,o){return i=n(t,i,r,o),e(i,i,r,o)}}function Ao(n,e){const t=et(n),i=et(e);return Od(t,i)}function ry(n,e,t){const i=Ao(e,t);if(!i){const r=et(e).getCode(),o=et(t).getCode();throw new Error(`No transform available between ${r} and ${o}`)}return i(n,void 0,n.length)}function nd(n,e){return n}function pi(n,e){return Qf&&!$u(n,[0,0])&&n[0]>=-180&&n[0]<=180&&n[1]>=-90&&n[1]<=90&&(Qf=!1,Z_("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),n}function sy(n,e){return n}function jr(n,e){return n}function Cp(n,e,t){return function(i){let r,o;if(n.canWrapX()){const l=n.getExtent(),u=De(l);i=i.slice(0),o=K_(i,n,u),o&&(i[0]=i[0]-o*u),i[0]=lt(i[0],l[0],l[2]),i[1]=lt(i[1],l[1],l[3]),r=t(i)}else r=t(i);return o&&e.canWrapX()&&(r[0]+=o*De(e.getExtent())),r}}function $x(){Jf(pp),Jf(yp),Bx(yp,pp,vx,xx)}$x();new Array(6);function On(){return[1,0,0,1,0,0]}function Vx(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function xt(n,e){const t=e[0],i=e[1];return e[0]=n[0]*t+n[2]*i+n[4],e[1]=n[1]*t+n[3]*i+n[5],e}function Mi(n,e,t,i,r,o,l,u){const c=Math.sin(o),d=Math.cos(o);return n[0]=i*d,n[1]=r*c,n[2]=-i*c,n[3]=r*d,n[4]=l*i*d-u*i*c+e,n[5]=l*r*c+u*r*d+t,n}function ay(n,e){const t=Xx(e);He(t!==0,"Transformation matrix cannot be inverted");const i=e[0],r=e[1],o=e[2],l=e[3],u=e[4],c=e[5];return n[0]=l/t,n[1]=-r/t,n[2]=-o/t,n[3]=i/t,n[4]=(o*c-l*u)/t,n[5]=-(i*c-r*u)/t,n}function Xx(n){return n[0]*n[3]-n[1]*n[2]}const Sp=[1e6,1e6,1e6,1e6,2,2];function Hx(n){return"matrix("+n.map((t,i)=>Math.round(t*Sp[i])/Sp[i]).join(", ")+")"}function ur(n,e,t,i,r,o,l){o=o||[],l=l||2;let u=0;for(let c=e;c<t;c+=i){const d=n[c],g=n[c+1];o[u++]=r[0]*d+r[2]*g+r[4],o[u++]=r[1]*d+r[3]*g+r[5];for(let p=2;p<l;p++)o[u++]=n[c+p]}return o&&o.length!=u&&(o.length=u),o}function oy(n,e,t,i,r,o,l){l=l||[];const u=Math.cos(r),c=Math.sin(r),d=o[0],g=o[1];let p=0;for(let _=e;_<t;_+=i){const v=n[_]-d,x=n[_+1]-g;l[p++]=d+v*u-x*c,l[p++]=g+v*c+x*u;for(let M=_+2;M<_+i;++M)l[p++]=n[M]}return l&&l.length!=p&&(l.length=p),l}function Yx(n,e,t,i,r,o,l,u){u=u||[];const c=l[0],d=l[1];let g=0;for(let p=e;p<t;p+=i){const _=n[p]-c,v=n[p+1]-d;u[g++]=c+r*_,u[g++]=d+o*v;for(let x=p+2;x<p+i;++x)u[g++]=n[x]}return u&&u.length!=g&&(u.length=g),u}function qx(n,e,t,i,r,o,l){l=l||[];let u=0;for(let c=e;c<t;c+=i){l[u++]=n[c]+r,l[u++]=n[c+1]+o;for(let d=c+2;d<c+i;++d)l[u++]=n[d]}return l&&l.length!=u&&(l.length=u),l}const Rp=On(),Kx=[NaN,NaN];class ly extends Jn{constructor(){super(),this.extent_=Dn(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=D_((e,t,i)=>{if(!i)return this.getSimplifiedGeometry(t);const r=this.clone();return r.applyTransform(i),r.getSimplifiedGeometry(t)})}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return Me()}closestPointXY(e,t,i,r){return Me()}containsXY(e,t){return this.closestPointXY(e,t,Kx,Number.MIN_VALUE)===0}getClosestPoint(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return Me()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&Yo(t),this.extentRevision_=this.getRevision()}return lx(this.extent_,e)}rotate(e,t){Me()}scale(e,t,i){Me()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return Me()}getType(){return Me()}applyTransform(e){Me()}intersectsExtent(e){return Me()}translate(e,t){Me()}transform(e,t){const i=et(e),r=i.getUnits()=="tile-pixels"?function(o,l,u){const c=i.getExtent(),d=i.getWorldExtent(),g=mt(d)/mt(c);Mi(Rp,d[0],d[3],g,-g,0,0,0);const p=ur(o,0,o.length,u,Rp,l),_=Ao(i,t);return _?_(p,p,u):p}:Ao(i,t);return this.applyTransform(r),this}}class Qr extends ly{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return Md(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return Me()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=Ip(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){Me()}setLayout(e,t,i){let r;if(e)r=Ip(e);else{for(let o=0;o<i;++o){if(t.length===0){this.layout="XY",this.stride=2;return}t=t[0]}r=t.length,e=Jr(r)}this.layout=e,this.stride=r}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(e,t){const i=this.getFlatCoordinates();if(i){const r=this.getStride();oy(i,0,i.length,r,e,t,i),this.changed()}}scale(e,t,i){t===void 0&&(t=e),i||(i=wi(this.getExtent()));const r=this.getFlatCoordinates();if(r){const o=this.getStride();Yx(r,0,r.length,o,e,t,i,r),this.changed()}}translate(e,t){const i=this.getFlatCoordinates();if(i){const r=this.getStride();qx(i,0,i.length,r,e,t,i),this.changed()}}}function Jr(n){let e;return n==2?e="XY":n==3?e="XYZ":n==4&&(e="XYZM"),e}function Ip(n){let e;return n=="XY"?e=2:n=="XYZ"||n=="XYM"?e=3:n=="XYZM"&&(e=4),e}function Zx(n,e,t){const i=n.getFlatCoordinates();if(!i)return null;const r=n.getStride();return ur(i,0,i.length,r,e,t)}function uy(n,e,t,i){let r=0;const o=n[t-i],l=n[t-i+1];let u=0,c=0;for(;e<t;e+=i){const d=n[e]-o,g=n[e+1]-l;r+=c*d-u*g,u=d,c=g}return r/2}function hy(n,e,t,i){let r=0;for(let o=0,l=t.length;o<l;++o){const u=t[o];r+=uy(n,e,u,i),e=u}return r}function Qx(n,e,t,i){let r=0;for(let o=0,l=t.length;o<l;++o){const u=t[o];r+=hy(n,e,u,i),e=u[u.length-1]}return r}function Tp(n,e,t,i,r,o,l){const u=n[e],c=n[e+1],d=n[t]-u,g=n[t+1]-c;let p;if(d===0&&g===0)p=e;else{const _=((r-u)*d+(o-c)*g)/(d*d+g*g);if(_>1)p=t;else if(_>0){for(let v=0;v<i;++v)l[v]=un(n[e+v],n[t+v],_);l.length=i;return}else p=e}for(let _=0;_<i;++_)l[_]=n[p+_];l.length=i}function Nd(n,e,t,i,r){let o=n[e],l=n[e+1];for(e+=i;e<t;e+=i){const u=n[e],c=n[e+1],d=Vr(o,l,u,c);d>r&&(r=d),o=u,l=c}return r}function Dd(n,e,t,i,r){for(let o=0,l=t.length;o<l;++o){const u=t[o];r=Nd(n,e,u,i,r),e=u}return r}function Jx(n,e,t,i,r){for(let o=0,l=t.length;o<l;++o){const u=t[o];r=Dd(n,e,u,i,r),e=u[u.length-1]}return r}function Fd(n,e,t,i,r,o,l,u,c,d,g){if(e==t)return d;let p,_;if(r===0){if(_=Vr(l,u,n[e],n[e+1]),_<d){for(p=0;p<i;++p)c[p]=n[e+p];return c.length=i,_}return d}g=g||[NaN,NaN];let v=e+i;for(;v<t;)if(Tp(n,v-i,v,i,l,u,g),_=Vr(l,u,g[0],g[1]),_<d){for(d=_,p=0;p<i;++p)c[p]=g[p];c.length=i,v+=i}else v+=i*Math.max((Math.sqrt(_)-Math.sqrt(d))/r|0,1);if(o&&(Tp(n,t-i,e,i,l,u,g),_=Vr(l,u,g[0],g[1]),_<d)){for(d=_,p=0;p<i;++p)c[p]=g[p];c.length=i}return d}function bd(n,e,t,i,r,o,l,u,c,d,g){g=g||[NaN,NaN];for(let p=0,_=t.length;p<_;++p){const v=t[p];d=Fd(n,e,v,i,r,o,l,u,c,d,g),e=v}return d}function eE(n,e,t,i,r,o,l,u,c,d,g){g=g||[NaN,NaN];for(let p=0,_=t.length;p<_;++p){const v=t[p];d=bd(n,e,v,i,r,o,l,u,c,d,g),e=v[v.length-1]}return d}function tE(n,e,t,i){for(let r=0,o=t.length;r<o;++r)n[e++]=t[r];return e}function vh(n,e,t,i){for(let r=0,o=t.length;r<o;++r){const l=t[r];for(let u=0;u<i;++u)n[e++]=l[u]}return e}function Ko(n,e,t,i,r){r=r||[];let o=0;for(let l=0,u=t.length;l<u;++l){const c=vh(n,e,t[l],i);r[o++]=c,e=c}return r.length=o,r}function cy(n,e,t,i,r){r=r||[];let o=0;for(let l=0,u=t.length;l<u;++l){const c=Ko(n,e,t[l],i,r[o]);c.length===0&&(c[0]=e),r[o++]=c,e=c[c.length-1]}return r.length=o,r}function ar(n,e,t,i,r){r=r!==void 0?r:[];let o=0;for(let l=e;l<t;l+=i)r[o++]=n.slice(l,l+i);return r.length=o,r}function ko(n,e,t,i,r){r=r!==void 0?r:[];let o=0;for(let l=0,u=t.length;l<u;++l){const c=t[l];r[o++]=ar(n,e,c,i,r[o]),e=c}return r.length=o,r}function id(n,e,t,i,r){r=r!==void 0?r:[];let o=0;for(let l=0,u=t.length;l<u;++l){const c=t[l];r[o++]=c.length===1&&c[0]===e?[]:ko(n,e,c,i,r[o]),e=c[c.length-1]}return r.length=o,r}function xh(n,e,t,i,r,o,l){const u=(t-e)/i;if(u<3){for(;e<t;e+=i)o[l++]=n[e],o[l++]=n[e+1];return l}const c=new Array(u);c[0]=1,c[u-1]=1;const d=[e,t-i];let g=0;for(;d.length>0;){const p=d.pop(),_=d.pop();let v=0;const x=n[_],M=n[_+1],w=n[p],C=n[p+1];for(let S=_+i;S<p;S+=i){const L=n[S],I=n[S+1],A=tx(L,I,x,M,w,C);A>v&&(g=S,v=A)}v>r&&(c[(g-e)/i]=1,_+i<g&&d.push(_,g),g+i<p&&d.push(g,p))}for(let p=0;p<u;++p)c[p]&&(o[l++]=n[e+p*i],o[l++]=n[e+p*i+1]);return l}function fy(n,e,t,i,r,o,l,u){for(let c=0,d=t.length;c<d;++c){const g=t[c];l=xh(n,e,g,i,r,o,l),u.push(l),e=g}return l}function zr(n,e){return e*Math.round(n/e)}function nE(n,e,t,i,r,o,l){if(e==t)return l;let u=zr(n[e],r),c=zr(n[e+1],r);e+=i,o[l++]=u,o[l++]=c;let d,g;do if(d=zr(n[e],r),g=zr(n[e+1],r),e+=i,e==t)return o[l++]=d,o[l++]=g,l;while(d==u&&g==c);for(;e<t;){const p=zr(n[e],r),_=zr(n[e+1],r);if(e+=i,p==d&&_==g)continue;const v=d-u,x=g-c,M=p-u,w=_-c;if(v*w==x*M&&(v<0&&M<v||v==M||v>0&&M>v)&&(x<0&&w<x||x==w||x>0&&w>x)){d=p,g=_;continue}o[l++]=d,o[l++]=g,u=d,c=g,d=p,g=_}return o[l++]=d,o[l++]=g,l}function zd(n,e,t,i,r,o,l,u){for(let c=0,d=t.length;c<d;++c){const g=t[c];l=nE(n,e,g,i,r,o,l),u.push(l),e=g}return l}function iE(n,e,t,i,r,o,l,u){for(let c=0,d=t.length;c<d;++c){const g=t[c],p=[];l=zd(n,e,g,i,r,o,l,p),u.push(p),e=g[g.length-1]}return l}class Oo extends Qr{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}clone(){return new Oo(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,i,r){return r<Zr(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Nd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Fd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,i,r))}getArea(){return uy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return ar(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const t=[];return t.length=xh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new Oo(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=vh(this.flatCoordinates,0,e,this.stride),this.changed()}}let Yu=class dy extends Qr{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){const e=new dy(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,r){const o=this.flatCoordinates,l=Vr(e,t,o[0],o[1]);if(l<r){const u=this.stride;for(let c=0;c<u;++c)i[c]=o[c];return i.length=u,l}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return V_(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return wd(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=tE(this.flatCoordinates,0,e,this.stride),this.changed()}};function rE(n,e,t,i,r){return!sx(r,function(l){return!Wr(n,e,t,i,l[0],l[1])})}function Wr(n,e,t,i,r,o){let l=0,u=n[t-i],c=n[t-i+1];for(;e<t;e+=i){const d=n[e],g=n[e+1];c<=o?g>o&&(d-u)*(o-c)-(r-u)*(g-c)>0&&l++:g<=o&&(d-u)*(o-c)-(r-u)*(g-c)<0&&l--,u=d,c=g}return l!==0}function Gd(n,e,t,i,r,o){if(t.length===0||!Wr(n,e,t[0],i,r,o))return!1;for(let l=1,u=t.length;l<u;++l)if(Wr(n,t[l-1],t[l],i,r,o))return!1;return!0}function sE(n,e,t,i,r,o){if(t.length===0)return!1;for(let l=0,u=t.length;l<u;++l){const c=t[l];if(Gd(n,e,c,i,r,o))return!0;e=c[c.length-1]}return!1}function jd(n,e,t,i,r,o,l){let u,c,d,g,p,_,v;const x=r[o+1],M=[];for(let S=0,L=t.length;S<L;++S){const I=t[S];for(g=n[I-i],_=n[I-i+1],u=e;u<I;u+=i)p=n[u],v=n[u+1],(x<=_&&v<=x||_<=x&&x<=v)&&(d=(x-_)/(v-_)*(p-g)+g,M.push(d)),g=p,_=v}let w=NaN,C=-1/0;for(M.sort($r),g=M[0],u=1,c=M.length;u<c;++u){p=M[u];const S=Math.abs(p-g);S>C&&(d=(g+p)/2,Gd(n,e,t,i,d,x)&&(w=d,C=S)),g=p}return isNaN(w)&&(w=r[o]),l?(l.push(w,x,C),l):[w,x,C]}function gy(n,e,t,i,r){let o=[];for(let l=0,u=t.length;l<u;++l){const c=t[l];o=jd(n,e,c,i,r,2*l,o),e=c[c.length-1]}return o}function my(n,e,t,i,r){let o;for(e+=i;e<t;e+=i)if(o=r(n.slice(e-i,e),n.slice(e,e+i)),o)return o;return!1}function Eh(n,e,t,i,r,o){return o=o??H_(Dn(),n,e,t,i),jt(r,o)?o[0]>=r[0]&&o[2]<=r[2]||o[1]>=r[1]&&o[3]<=r[3]?!0:my(n,e,t,i,function(l,u){return ux(r,l,u)}):!1}function aE(n,e,t,i,r){for(let o=0,l=t.length;o<l;++o){if(Eh(n,e,t[o],i,r))return!0;e=t[o]}return!1}function oE(n,e,t,i,r){return!!(Eh(n,e,t,i,r)||Wr(n,e,t,i,r[0],r[1])||Wr(n,e,t,i,r[0],r[3])||Wr(n,e,t,i,r[2],r[1])||Wr(n,e,t,i,r[2],r[3]))}function py(n,e,t,i,r){if(!oE(n,e,t[0],i,r))return!1;if(t.length===1)return!0;for(let o=1,l=t.length;o<l;++o)if(rE(n,t[o-1],t[o],i,r)&&!Eh(n,t[o-1],t[o],i,r))return!1;return!0}function lE(n,e,t,i,r){for(let o=0,l=t.length;o<l;++o){const u=t[o];if(py(n,e,u,i,r))return!0;e=u[u.length-1]}return!1}function uE(n,e,t,i){for(;e<t-i;){for(let r=0;r<i;++r){const o=n[e+r];n[e+r]=n[t-i+r],n[t-i+r]=o}e+=i,t-=i}}function Wd(n,e,t,i){let r=0,o=n[t-i],l=n[t-i+1];for(;e<t;e+=i){const u=n[e],c=n[e+1];r+=(u-o)*(c+l),o=u,l=c}return r===0?void 0:r>0}function Bd(n,e,t,i,r){r=r!==void 0?r:!1;for(let o=0,l=t.length;o<l;++o){const u=t[o],c=Wd(n,e,u,i);if(o===0){if(r&&c||!r&&!c)return!1}else if(r&&!c||!r&&c)return!1;e=u}return!0}function _y(n,e,t,i,r){for(let o=0,l=t.length;o<l;++o){const u=t[o];if(!Bd(n,e,u,i,r))return!1;u.length&&(e=u[u.length-1])}return!0}function qu(n,e,t,i,r){r=r!==void 0?r:!1;for(let o=0,l=t.length;o<l;++o){const u=t[o],c=Wd(n,e,u,i);(o===0?r&&c||!r&&!c:r&&!c||!r&&c)&&uE(n,e,u,i),e=u}return e}function rd(n,e,t,i,r){for(let o=0,l=t.length;o<l;++o)e=qu(n,e,t[o],i,r);return e}function hE(n,e){const t=[];let i=0,r=0,o;for(let l=0,u=e.length;l<u;++l){const c=e[l],d=Wd(n,i,c,2);if(o===void 0&&(o=d),d===o)t.push(e.slice(r,l+1));else{if(t.length===0)continue;t[t.length-1].push(e[r])}r=l+1,i=c}return t}class dr extends Qr{constructor(e,t,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,t!==void 0&&i?(this.setFlatCoordinates(t,e),this.ends_=i):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?Kn(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new dr(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,r){return r<Zr(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Dd(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),bd(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,i,r))}containsXY(e,t){return Gd(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return hy(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),qu(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,ko(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=wi(this.getExtent());this.flatInteriorPoint_=jd(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Yu(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new Oo(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,t=this.flatCoordinates,i=this.ends_,r=[];let o=0;for(let l=0,u=i.length;l<u;++l){const c=i[l],d=new Oo(t.slice(o,c),e);r.push(d),o=c}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;Bd(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=qu(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=zd(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,i),new dr(t,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return py(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=Ko(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}function Pp(n){if(ua(n))throw new Error("Cannot create polygon from empty extent");const e=n[0],t=n[1],i=n[2],r=n[3],o=[e,t,e,r,i,r,i,t,e,t];return new dr(o,"XY",[o.length])}function Ud(n,e,t,i){const r=De(e)/t[0],o=mt(e)/t[1];return i?Math.min(n,Math.max(r,o)):Math.min(n,Math.min(r,o))}function $d(n,e,t){let i=Math.min(n,e);const r=50;return i*=Math.log(1+r*Math.max(0,n/e-1))/r+1,t&&(i=Math.max(i,t),i/=Math.log(1+r*Math.max(0,t/n-1))/r+1),lt(i,t/2,e*2)}function cE(n,e,t,i){return e=e!==void 0?e:!0,function(r,o,l,u){if(r!==void 0){const c=n[0],d=n[n.length-1],g=t?Ud(c,t,l,i):c;if(u)return e?$d(r,g,d):lt(r,d,g);const p=Math.min(g,r),_=Math.floor(xd(n,p,o));return n[_]>g&&_<n.length-1?n[_+1]:n[_]}}}function fE(n,e,t,i,r,o){return i=i!==void 0?i:!0,t=t!==void 0?t:0,function(l,u,c,d){if(l!==void 0){const g=r?Ud(e,r,c,o):e;if(d)return i?$d(l,g,t):lt(l,t,g);const p=1e-9,_=Math.ceil(Math.log(e/g)/Math.log(n)-p),v=-u*(.5-p)+.5,x=Math.min(g,l),M=Math.floor(Math.log(e/x)/Math.log(n)+v),w=Math.max(_,M),C=e/Math.pow(n,w);return lt(C,t,g)}}}function Lp(n,e,t,i,r){return t=t!==void 0?t:!0,function(o,l,u,c){if(o!==void 0){const d=i?Ud(n,i,u,r):n;return!t||!c?lt(o,e,d):$d(o,d,e)}}}function Vd(n){if(n!==void 0)return 0}function Ap(n){if(n!==void 0)return n}function dE(n){const e=2*Math.PI/n;return function(t,i){if(i)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function gE(n){const e=lr(5);return function(t,i){return i||t===void 0?t:Math.abs(t)<=e?0:t}}const mE=256,Sf=0;class Vn extends Jn{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=kd(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&jx(),e.center&&(e.center=pi(e.center,this.projection_)),e.extent&&(e.extent=jr(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const t=Object.assign({},e);for(const u in An)delete t[u];this.setProperties(t,!0);const i=_E(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;const r=pE(e),o=i.constraint,l=yE(e);this.constraints_={center:r,resolution:o,rotation:l},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;const i=this.getCenterInternal();if(i){const r=e||[0,0,0,0];t=t||[0,0,0,0];const o=this.getResolution(),l=o/2*(r[3]-t[3]+t[1]-r[1]),u=o/2*(r[0]-t[0]+t[2]-r[2]);this.setCenterInternal([i[0]+l,i[1]-u])}}getUpdatedOptions_(e){const t=this.getProperties();return t.resolution!==void 0?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const t=new Array(arguments.length);for(let i=0;i<t.length;++i){let r=arguments[i];r.center&&(r=Object.assign({},r),r.center=pi(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=pi(r.anchor,this.getProjection())),t[i]=r}this.animateInternal.apply(this,t)}animateInternal(e){let t=arguments.length,i;t>1&&typeof arguments[t-1]=="function"&&(i=arguments[t-1],--t);let r=0;for(;r<t&&!this.isDef();++r){const g=arguments[r];g.center&&this.setCenterInternal(g.center),g.zoom!==void 0?this.setZoom(g.zoom):g.resolution&&this.setResolution(g.resolution),g.rotation!==void 0&&this.setRotation(g.rotation)}if(r===t){i&&Mu(i,!0);return}let o=Date.now(),l=this.targetCenter_.slice(),u=this.targetResolution_,c=this.targetRotation_;const d=[];for(;r<t;++r){const g=arguments[r],p={start:o,complete:!1,anchor:g.anchor,duration:g.duration!==void 0?g.duration:1e3,easing:g.easing||gx,callback:i};if(g.center&&(p.sourceCenter=l,p.targetCenter=g.center.slice(),l=p.targetCenter),g.zoom!==void 0?(p.sourceResolution=u,p.targetResolution=this.getResolutionForZoom(g.zoom),u=p.targetResolution):g.resolution&&(p.sourceResolution=u,p.targetResolution=g.resolution,u=p.targetResolution),g.rotation!==void 0){p.sourceRotation=c;const _=xo(g.rotation-c+Math.PI,2*Math.PI)-Math.PI;p.targetRotation=c+_,c=p.targetRotation}vE(p)?p.complete=!0:o+=p.duration,d.push(p)}this.animations_.push(d),this.setHint(gt.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[gt.ANIMATING]>0}getInteracting(){return this.hints_[gt.INTERACTING]>0}cancelAnimations(){this.setHint(gt.ANIMATING,-this.hints_[gt.ANIMATING]);let e;for(let t=0,i=this.animations_.length;t<i;++t){const r=this.animations_[t];if(r[0].callback&&Mu(r[0].callback,!1),!e)for(let o=0,l=r.length;o<l;++o){const u=r[o];if(!u.complete){e=u.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let t=!1;for(let i=this.animations_.length-1;i>=0;--i){const r=this.animations_[i];let o=!0;for(let l=0,u=r.length;l<u;++l){const c=r[l];if(c.complete)continue;const d=e-c.start;let g=c.duration>0?d/c.duration:1;g>=1?(c.complete=!0,g=1):o=!1;const p=c.easing(g);if(c.sourceCenter){const _=c.sourceCenter[0],v=c.sourceCenter[1],x=c.targetCenter[0],M=c.targetCenter[1];this.nextCenter_=c.targetCenter;const w=_+p*(x-_),C=v+p*(M-v);this.targetCenter_=[w,C]}if(c.sourceResolution&&c.targetResolution){const _=p===1?c.targetResolution:c.sourceResolution+p*(c.targetResolution-c.sourceResolution);if(c.anchor){const v=this.getViewportSize_(this.getRotation()),x=this.constraints_.resolution(_,0,v,!0);this.targetCenter_=this.calculateCenterZoom(x,c.anchor)}this.nextResolution_=c.targetResolution,this.targetResolution_=_,this.applyTargetState_(!0)}if(c.sourceRotation!==void 0&&c.targetRotation!==void 0){const _=p===1?xo(c.targetRotation+Math.PI,2*Math.PI)-Math.PI:c.sourceRotation+p*(c.targetRotation-c.sourceRotation);if(c.anchor){const v=this.constraints_.rotation(_,!0);this.targetCenter_=this.calculateCenterRotate(v,c.anchor)}this.nextRotation_=c.targetRotation,this.targetRotation_=_}if(this.applyTargetState_(!0),t=!0,!c.complete)break}if(o){this.animations_[i]=null,this.setHint(gt.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const l=r[0].callback;l&&Mu(l,!0)}}this.animations_=this.animations_.filter(Boolean),t&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let i;const r=this.getCenterInternal();return r!==void 0&&(i=[r[0]-t[0],r[1]-t[1]],Td(i,e-this.getRotation()),cx(i,t)),i}calculateCenterZoom(e,t){let i;const r=this.getCenterInternal(),o=this.getResolution();if(r!==void 0&&o!==void 0){const l=t[0]-e*(t[0]-r[0])/o,u=t[1]-e*(t[1]-r[1])/o;i=[l,u]}return i}getViewportSize_(e){const t=this.viewportSize_;if(e){const i=t[0],r=t[1];return[Math.abs(i*Math.cos(e))+Math.abs(r*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(r*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&nd(e,this.getProjection())}getCenterInternal(){return this.get(An.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const t=this.calculateExtentInternal(e);return sy(t,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const t=this.getCenterInternal();He(t,"The view center is not defined");const i=this.getResolution();He(i!==void 0,"The view resolution is not defined");const r=this.getRotation();return He(r!==void 0,"The view rotation is not defined"),Uu(t,i,r,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(An.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(jr(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();const i=De(e)/t[0],r=mt(e)/t[1];return Math.max(i,r)}getResolutionForValueFunction(e){e=e||2;const t=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(t/i)/Math.log(e);return function(o){return t/Math.pow(e,o*r)}}getRotation(){return this.get(An.ROTATION)}getValueForResolutionFunction(e){const t=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,o=Math.log(i/r)/t;return function(l){return Math.log(i/l)/t/o}}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e);const i=this.padding_;return i&&(t=[t[0]-i[1]-i[3],t[1]-i[0]-i[2]]),t}getState(){const e=this.getProjection(),t=this.getResolution(),i=this.getRotation();let r=this.getCenterInternal();const o=this.padding_;if(o){const l=this.getViewportSizeMinusPadding_();r=Rf(r,this.getViewportSize_(),[l[0]/2+o[3],l[1]/2+o[0]],t,i)}return{center:r.slice(0),projection:e!==void 0?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const t=this.getResolution();return t!==void 0&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let t=this.minZoom_||0,i,r;if(this.resolutions_){const o=xd(this.resolutions_,e,1);t=o,i=this.resolutions_[o],o==this.resolutions_.length-1?r=2:r=i/this.resolutions_[o+1]}else i=this.maxResolution_,r=this.zoomFactor_;return t+Math.log(i/e)/Math.log(r)}getResolutionForZoom(e){var t;if((t=this.resolutions_)!=null&&t.length){if(this.resolutions_.length===1)return this.resolutions_[0];const i=lt(Math.floor(e),0,this.resolutions_.length-2),r=this.resolutions_[i]/this.resolutions_[i+1];return this.resolutions_[i]/Math.pow(r,lt(e-i,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let i;if(He(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){He(!ua(e),"Cannot fit empty extent provided as `geometry`");const r=jr(e,this.getProjection());i=Pp(r)}else if(e.getType()==="Circle"){const r=jr(e.getExtent(),this.getProjection());i=Pp(r),i.rotate(this.getRotation(),wi(r))}else i=e;this.fitInternal(i,t)}rotatedExtentForGeometry(e){const t=this.getRotation(),i=Math.cos(t),r=Math.sin(-t),o=e.getFlatCoordinates(),l=e.getStride();let u=1/0,c=1/0,d=-1/0,g=-1/0;for(let p=0,_=o.length;p<_;p+=l){const v=o[p]*i-o[p+1]*r,x=o[p]*r+o[p+1]*i;u=Math.min(u,v),c=Math.min(c,x),d=Math.max(d,v),g=Math.max(g,x)}return[u,c,d,g]}fitInternal(e,t){t=t||{};let i=t.size;i||(i=this.getViewportSizeMinusPadding_());const r=t.padding!==void 0?t.padding:[0,0,0,0],o=t.nearest!==void 0?t.nearest:!1;let l;t.minResolution!==void 0?l=t.minResolution:t.maxZoom!==void 0?l=this.getResolutionForZoom(t.maxZoom):l=0;const u=this.rotatedExtentForGeometry(e);let c=this.getResolutionForExtentInternal(u,[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]);c=isNaN(c)?l:Math.max(c,l),c=this.getConstrainedResolution(c,o?0:1);const d=this.getRotation(),g=Math.sin(d),p=Math.cos(d),_=wi(u);_[0]+=(r[1]-r[3])/2*c,_[1]+=(r[0]-r[2])/2*c;const v=_[0]*p-_[1]*g,x=_[1]*p+_[0]*g,M=this.getConstrainedCenter([v,x],c),w=t.callback?t.callback:Js;t.duration!==void 0?this.animateInternal({resolution:c,center:M,duration:t.duration,easing:t.easing},w):(this.targetResolution_=c,this.targetCenter_=M,this.applyTargetState_(!1,!0),Mu(w,!0))}centerOn(e,t,i){this.centerOnInternal(pi(e,this.getProjection()),t,i)}centerOnInternal(e,t,i){this.setCenterInternal(Rf(e,t,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,i,r){let o;const l=this.padding_;if(l&&e){const u=this.getViewportSizeMinusPadding_(-i),c=Rf(e,r,[u[0]/2+l[3],u[1]/2+l[0]],t,i);o=[e[0]-c[0],e[1]-c[1]]}return o}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const t=nd(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){const t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&pi(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){const i=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*e,0,r,i);t&&(this.targetCenter_=this.calculateCenterZoom(o,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=pi(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){const i=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+e,i);t&&(this.targetCenter_=this.calculateCenterRotate(r,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&pi(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){const i=this.getAnimating()||this.getInteracting()||t,r=this.constraints_.rotation(this.targetRotation_,i),o=this.getViewportSize_(r),l=this.constraints_.resolution(this.targetResolution_,0,o,i),u=this.constraints_.center(this.targetCenter_,l,o,i,this.calculateCenterShift(this.targetCenter_,l,r,o));this.get(An.ROTATION)!==r&&this.set(An.ROTATION,r),this.get(An.RESOLUTION)!==l&&(this.set(An.RESOLUTION,l),this.set("zoom",this.getZoom(),!0)),(!u||!this.get(An.CENTER)||!$u(this.get(An.CENTER),u))&&this.set(An.CENTER,u),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,i){e=e!==void 0?e:200;const r=t||0,o=this.constraints_.rotation(this.targetRotation_),l=this.getViewportSize_(o),u=this.constraints_.resolution(this.targetResolution_,r,l),c=this.constraints_.center(this.targetCenter_,u,l,!1,this.calculateCenterShift(this.targetCenter_,u,o,l));if(e===0&&!this.cancelAnchor_){this.targetResolution_=u,this.targetRotation_=o,this.targetCenter_=c,this.applyTargetState_();return}i=i||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==u||this.getRotation()!==o||!this.getCenterInternal()||!$u(this.getCenterInternal(),c))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:c,resolution:u,duration:e,easing:ha,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(gt.INTERACTING,1)}endInteraction(e,t,i){i=i&&pi(i,this.getProjection()),this.endInteractionInternal(e,t,i)}endInteractionInternal(e,t,i){this.getInteracting()&&(this.setHint(gt.INTERACTING,-1),this.resolveConstraints(e,t,i))}getConstrainedCenter(e,t){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),i)}getConstrainedZoom(e,t){const i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,t))}getConstrainedResolution(e,t){t=t||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,i)}}function Mu(n,e){setTimeout(function(){n(e)},0)}function pE(n){if(n.extent!==void 0){const t=n.smoothExtentConstraint!==void 0?n.smoothExtentConstraint:!0;return dp(n.extent,n.constrainOnlyCenter,t)}const e=kd(n.projection,"EPSG:3857");if(n.multiWorld!==!0&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,dp(t,!1,!1)}return ix}function _E(n){let e,t,i,l=n.minZoom!==void 0?n.minZoom:Sf,u=n.maxZoom!==void 0?n.maxZoom:28;const c=n.zoomFactor!==void 0?n.zoomFactor:2,d=n.multiWorld!==void 0?n.multiWorld:!1,g=n.smoothResolutionConstraint!==void 0?n.smoothResolutionConstraint:!0,p=n.showFullExtent!==void 0?n.showFullExtent:!1,_=kd(n.projection,"EPSG:3857"),v=_.getExtent();let x=n.constrainOnlyCenter,M=n.extent;if(!d&&!M&&_.isGlobal()&&(x=!1,M=v),n.resolutions!==void 0){const w=n.resolutions;t=w[l],i=w[u]!==void 0?w[u]:w[w.length-1],n.constrainResolution?e=cE(w,g,!x&&M,p):e=Lp(t,i,g,!x&&M,p)}else{const C=(v?Math.max(De(v),mt(v)):360*Q_.degrees/_.getMetersPerUnit())/mE/Math.pow(2,Sf),S=C/Math.pow(2,28-Sf);t=n.maxResolution,t!==void 0?l=0:t=C/Math.pow(c,l),i=n.minResolution,i===void 0&&(n.maxZoom!==void 0?n.maxResolution!==void 0?i=t/Math.pow(c,u):i=C/Math.pow(c,u):i=S),u=l+Math.floor(Math.log(t/i)/Math.log(c)),i=t/Math.pow(c,u-l),n.constrainResolution?e=fE(c,t,i,g,!x&&M,p):e=Lp(t,i,g,!x&&M,p)}return{constraint:e,maxResolution:t,minResolution:i,minZoom:l,zoomFactor:c}}function yE(n){if(n.enableRotation!==void 0?n.enableRotation:!0){const t=n.constrainRotation;return t===void 0||t===!0?gE():t===!1?Ap:typeof t=="number"?dE(t):Ap}return Vd}function vE(n){return!(n.sourceCenter&&n.targetCenter&&!$u(n.sourceCenter,n.targetCenter)||n.sourceResolution!==n.targetResolution||n.sourceRotation!==n.targetRotation)}function Rf(n,e,t,i,r){const o=Math.cos(-r);let l=Math.sin(-r),u=n[0]*o-n[1]*l,c=n[1]*o+n[0]*l;u+=(e[0]/2-t[0])*i,c+=(t[1]-e[1]/2)*i,l=-l;const d=u*o-c*l,g=c*o+u*l;return[d,g]}const Cu="ol-hidden",wh="ol-unselectable",Xd="ol-control",kp="ol-collapsed",xE=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),Op=["style","variant","weight","size","lineHeight","family"],yy=function(n){const e=n.match(xE);if(!e)return null;const t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,r=Op.length;i<r;++i){const o=e[i+1];o!==void 0&&(t[Op[i]]=o)}return t.families=t.family.split(/,\s?/),t};function Mt(n,e,t,i){let r;return t&&t.length?r=t.shift():G_?r=new OffscreenCanvas(n||300,e||300):r=document.createElement("canvas"),n&&(r.width=n),e&&(r.height=e),r.getContext("2d",i)}let If;function Ku(){return If||(If=Mt(1,1)),If}function Hd(n){const e=n.canvas;e.width=1,e.height=1,n.clearRect(0,0,1,1)}function Np(n,e){const t=e.parentNode;t&&t.replaceChild(n,e)}function EE(n){for(;n.lastChild;)n.lastChild.remove()}function wE(n,e){const t=n.childNodes;for(let i=0;;++i){const r=t[i],o=e[i];if(!r&&!o)break;if(r!==o){if(!r){n.appendChild(o);continue}if(!o){n.removeChild(r),--i;continue}n.insertBefore(o,r)}}}class Yd extends Jn{constructor(e){super();const t=e.element;t&&!e.target&&!t.style.pointerEvents&&(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){var e;(e=this.element)==null||e.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){var t;this.map_&&((t=this.element)==null||t.remove());for(let i=0,r=this.listenerKeys.length;i<r;++i)Ze(this.listenerKeys[i]);if(this.listenerKeys.length=0,this.map_=e,e){const i=this.target_??e.getOverlayContainerStopEvent();this.element&&i.appendChild(this.element),this.render!==Js&&this.listenerKeys.push(ke(e,ir.POSTRENDER,this.render,this)),e.render()}}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}class ME extends Yd{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=e.attributions;const t=e.className!==void 0?e.className:"ol-attribution",i=e.tipLabel!==void 0?e.tipLabel:"Attributions",r=e.expandClassName!==void 0?e.expandClassName:t+"-expand",o=e.collapseLabel!==void 0?e.collapseLabel:"",l=e.collapseClassName!==void 0?e.collapseClassName:t+"-collapse";typeof o=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o,this.collapseLabel_.className=l):this.collapseLabel_=o;const u=e.label!==void 0?e.label:"i";typeof u=="string"?(this.label_=document.createElement("span"),this.label_.textContent=u,this.label_.className=r):this.label_=u;const c=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(c),this.toggleButton_.addEventListener(Se.CLICK,this.handleClick_.bind(this),!1);const d=t+" "+wh+" "+Xd+(this.collapsed_&&this.collapsible_?" "+kp:"")+(this.collapsible_?"":" ol-uncollapsible"),g=this.element;g.className=d,g.appendChild(this.toggleButton_),g.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const t=this.getMap().getAllLayers(),i=new Set(t.flatMap(r=>r.getAttributions(e)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(r=>i.add(r)):i.add(this.attributions_)),!this.overrideCollapsible_){const r=!t.some(o=>{var l;return((l=o.getSource())==null?void 0:l.getAttributionsCollapsible())===!1});this.setCollapsible(r)}return Array.from(i)}async updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const t=await Promise.all(this.collectSourceAttributions_(e).map(r=>F_(()=>r))),i=t.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!_r(t,this.renderedAttributions_)){EE(this.ulElement_);for(let r=0,o=t.length;r<o;++r){const l=document.createElement("li");l.innerHTML=t[r],this.ulElement_.appendChild(l)}this.renderedAttributions_=t}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(kp),this.collapsed_?Np(this.collapseLabel_,this.label_):Np(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class CE extends Yd{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const t=e.className!==void 0?e.className:"ol-rotate",i=e.label!==void 0?e.label:"",r=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(r));const o=e.tipLabel?e.tipLabel:"Reset rotation",l=document.createElement("button");l.className=t+"-reset",l.setAttribute("type","button"),l.title=o,l.appendChild(this.label_),l.addEventListener(Se.CLICK,this.handleClick_.bind(this),!1);const u=t+" "+wh+" "+Xd,c=this.element;c.className=u,c.appendChild(l),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Cu)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const t=this.getMap().getView();if(!t)return;const i=t.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?t.animate({rotation:0,duration:this.duration_,easing:ha}):t.setRotation(0))}render(e){const t=e.frameState;if(!t)return;const i=t.viewState.rotation;if(i!=this.rotation_){const r="rotate("+i+"rad)";if(this.autoHide_){const o=this.element.classList.contains(Cu);!o&&i===0?this.element.classList.add(Cu):o&&i!==0&&this.element.classList.remove(Cu)}this.label_.style.transform=r}this.rotation_=i}}class SE extends Yd{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const t=e.className!==void 0?e.className:"ol-zoom",i=e.delta!==void 0?e.delta:1,r=e.zoomInClassName!==void 0?e.zoomInClassName:t+"-in",o=e.zoomOutClassName!==void 0?e.zoomOutClassName:t+"-out",l=e.zoomInLabel!==void 0?e.zoomInLabel:"+",u=e.zoomOutLabel!==void 0?e.zoomOutLabel:"",c=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",d=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",g=document.createElement("button");g.className=r,g.setAttribute("type","button"),g.title=c,g.appendChild(typeof l=="string"?document.createTextNode(l):l),g.addEventListener(Se.CLICK,this.handleClick_.bind(this,i),!1);const p=document.createElement("button");p.className=o,p.setAttribute("type","button"),p.title=d,p.appendChild(typeof u=="string"?document.createTextNode(u):u),p.addEventListener(Se.CLICK,this.handleClick_.bind(this,-i),!1);const _=t+" "+wh+" "+Xd,v=this.element;v.className=_,v.appendChild(g),v.appendChild(p),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const i=this.getMap().getView();if(!i)return;const r=i.getZoom();if(r!==void 0){const o=i.getConstrainedZoom(r+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:o,duration:this.duration_,easing:ha})):i.setZoom(o)}}}function RE(n){n=n||{};const e=new Hn;return(n.zoom!==void 0?n.zoom:!0)&&e.push(new SE(n.zoomOptions)),(n.rotate!==void 0?n.rotate:!0)&&e.push(new CE(n.rotateOptions)),(n.attribution!==void 0?n.attribution:!0)&&e.push(new ME(n.attributionOptions)),e}class IE{constructor(e,t,i){this.decay_=e,this.minVelocity_=t,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let i=t-3;for(;i>0&&this.points_[i+2]>e;)i-=3;const r=this.points_[t+2]-this.points_[i+2];if(r<1e3/60)return!1;const o=this.points_[t]-this.points_[i],l=this.points_[t+1]-this.points_[i+1];return this.angle_=Math.atan2(l,o),this.initialVelocity_=Math.sqrt(o*o+l*l)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const Dp={ACTIVE:"active"};class Zo extends Jn{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(Dp.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(Dp.ACTIVE,e)}setMap(e){this.map_=e}}function TE(n,e,t){const i=n.getCenterInternal();if(i){const r=[i[0]+e[0],i[1]+e[1]];n.animateInternal({duration:t!==void 0?t:250,easing:mx,center:n.getConstrainedCenter(r)})}}function qd(n,e,t,i){const r=n.getZoom();if(r===void 0)return;const o=n.getConstrainedZoom(r+e),l=n.getResolutionForZoom(o);n.getAnimating()&&n.cancelAnimations(),n.animate({resolution:l,anchor:t,duration:i!==void 0?i:250,easing:ha})}class PE extends Zo{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let t=!1;if(e.type==Je.DBLCLICK){const i=e.originalEvent,r=e.map,o=e.coordinate,l=i.shiftKey?-this.delta_:this.delta_,u=r.getView();qd(u,l,o,this.duration_),i.preventDefault(),t=!0}return!t}}function sd(n){const e=arguments;return function(t){let i=!0;for(let r=0,o=e.length;r<o&&(i=i&&e[r](t),!!i);++r);return i}}const LE=function(n){const e=n.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},AE=function(n){const e=n.map.getTargetElement(),t=e.getRootNode(),i=n.map.getOwnerDocument().activeElement;return t instanceof ShadowRoot?t.host.contains(i):e.contains(i)},vy=function(n){const e=n.map.getTargetElement(),t=e.getRootNode();return(t instanceof ShadowRoot?t.host:e).hasAttribute("tabindex")?AE(n):!0},kE=To,xy=function(n){const e=n.originalEvent;return e.button==0&&!(K2&&b_&&e.ctrlKey)},Ey=function(n){const e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},OE=function(n){const e=n.originalEvent;return b_?e.metaKey:e.ctrlKey},NE=function(n){const e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},wy=function(n){const e=n.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!e.target.isContentEditable},Tf=function(n){const e=n.originalEvent;return He(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.pointerType=="mouse"},DE=function(n){const e=n.originalEvent;return He(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&e.button===0};class Qo extends Zo{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==Je.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==Je.POINTERUP){const i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==Je.POINTERDOWN){const i=this.handleDownEvent(e);this.handlingDownUpSequence=i,t=this.stopDown(i)}else e.type==Je.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function Kd(n){const e=n.length;let t=0,i=0;for(let r=0;r<e;r++)t+=n[r].clientX,i+=n[r].clientY;return{clientX:t/e,clientY:i/e}}class FE extends Qo{constructor(e){super({stopDown:dh}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const t=e.condition?e.condition:sd(Ey,DE);this.condition_=e.onFocusOnly?sd(vy,t):t,this.noKinetic_=!1}handleDragEvent(e){const t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());const i=this.targetPointers,r=t.getEventPixel(Kd(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){const o=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],u=e.map.getView();fx(o,u.getResolution()),Td(o,u.getRotation()),u.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=i.length,e.originalEvent.preventDefault()}handleUpEvent(e){const t=e.map,i=t.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const r=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),l=i.getCenterInternal(),u=t.getPixelFromCoordinateInternal(l),c=t.getCoordinateFromPixelInternal([u[0]-r*Math.cos(o),u[1]-r*Math.sin(o)]);i.animateInternal({center:i.getConstrainedCenter(c),duration:500,easing:ha})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class bE extends Qo{constructor(e){e=e||{},super({stopDown:dh}),this.condition_=e.condition?e.condition:LE,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!Tf(e))return;const t=e.map,i=t.getView();if(i.getConstraints().rotation===Vd)return;const r=t.getSize(),o=e.pixel,l=Math.atan2(r[1]/2-o[1],o[0]-r[0]/2);if(this.lastAngle_!==void 0){const u=l-this.lastAngle_;i.adjustRotationInternal(-u)}this.lastAngle_=l}handleUpEvent(e){return Tf(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return Tf(e)&&xy(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class zE extends vd{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,t=this.endPixel_,i="px",r=this.element_.style;r.left=Math.min(e[0],t[0])+i,r.top=Math.min(e[1],t[1])+i,r.width=Math.abs(t[0]-e[0])+i,r.height=Math.abs(t[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const e=this.startPixel_,t=this.endPixel_,r=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new dr([r])}getGeometry(){return this.geometry_}}const Os={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class io extends Ci{constructor(e,t,i){super(e),this.coordinate=t,this.mapBrowserEvent=i}}class GE extends Qo{constructor(e){super(),this.on,this.once,this.un,e=e??{},this.box_=new zE(e.className||"ol-dragbox"),this.minArea_=e.minArea??64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition??xy,this.boxEndCondition_=e.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,i){const r=i[0]-t[0],o=i[1]-t[1];return r*r+o*o>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new io(Os.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;const t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new io(t?Os.BOXEND:Os.BOXCANCEL,e.coordinate,e)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new io(Os.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new io(Os.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}setMap(e){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new io(Os.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(e)}}class jE extends GE{constructor(e){e=e||{};const t=e.condition?e.condition:NE;super({condition:t,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const i=this.getMap().getView();let r=this.getGeometry();if(this.out_){const o=i.rotatedExtentForGeometry(r),l=i.getResolutionForExtentInternal(o),u=i.getResolution()/l;r=r.clone(),r.scale(u*u)}i.fitInternal(r,{duration:this.duration_,easing:ha})}}const br={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class WE extends Zo{constructor(e){super(),e=e||{},this.defaultCondition_=function(t){return Ey(t)&&wy(t)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==Se.KEYDOWN){const i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==br.DOWN||r==br.LEFT||r==br.RIGHT||r==br.UP)){const l=e.map.getView(),u=l.getResolution()*this.pixelDelta_;let c=0,d=0;r==br.DOWN?d=-u:r==br.LEFT?c=-u:r==br.RIGHT?c=u:d=u;const g=[c,d];Td(g,l.getRotation()),TE(l,g,this.duration_),i.preventDefault(),t=!0}}return!t}}class BE extends Zo{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(t){return!OE(t)&&wy(t)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let t=!1;if(e.type==Se.KEYDOWN||e.type==Se.KEYPRESS){const i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==="+"||r==="-")){const o=e.map,l=r==="+"?this.delta_:-this.delta_,u=o.getView();qd(u,l,void 0,this.duration_),i.preventDefault(),t=!0}}return!t}}class UE extends Zo{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const t=e.condition?e.condition:kE;this.condition_=e.onFocusOnly?sd(vy,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(e){if(!this.condition_(e)||e.type!==Se.WHEEL)return!0;const i=e.map,r=e.originalEvent;r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.pixel);let o;if(e.type==Se.WHEEL&&(o=r.deltaY,Y2&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(o/=z_),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(o*=40)),o===0)return!1;this.lastDelta_=o;const l=Date.now();this.startTime_===void 0&&(this.startTime_=l),(!this.mode_||l-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?"trackpad":"wheel");const u=i.getView();if(this.mode_==="trackpad"&&!(u.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(u.getAnimating()&&u.cancelAnimations(),u.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),u.adjustZoom(-o/this.deltaPerZoom_,this.lastAnchor_?i.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=l,!1;this.totalDelta_+=o;const c=Math.max(this.timeout_-(l-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),c),!1}handleWheelZoom_(e){const t=e.getView();t.getAnimating()&&t.cancelAnimations();let i=-lt(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),qd(t,i,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class $E extends Qo{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=dh),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let t=0;const i=this.targetPointers[0],r=this.targetPointers[1],o=Math.atan2(r.clientY-i.clientY,r.clientX-i.clientX);if(this.lastAngle_!==void 0){const c=o-this.lastAngle_;this.rotationDelta_+=c,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=c}this.lastAngle_=o;const l=e.map,u=l.getView();u.getConstraints().rotation!==Vd&&(this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(Kd(this.targetPointers))),this.rotating_&&(l.render(),u.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}class VE extends Qo{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=dh),super(t),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1;const i=this.targetPointers[0],r=this.targetPointers[1],o=i.clientX-r.clientX,l=i.clientY-r.clientY,u=Math.sqrt(o*o+l*l);this.lastDistance_!==void 0&&(t=this.lastDistance_/u),this.lastDistance_=u;const c=e.map,d=c.getView();t!=1&&(this.lastScaleDelta_=t),this.anchor_=c.getCoordinateFromPixelInternal(c.getEventPixel(Kd(this.targetPointers))),c.render(),d.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const i=e.map.getView(),r=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,r),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}function XE(n){n=n||{};const e=new Hn,t=new IE(-.005,.05,100);return(n.altShiftDragRotate!==void 0?n.altShiftDragRotate:!0)&&e.push(new bE),(n.doubleClickZoom!==void 0?n.doubleClickZoom:!0)&&e.push(new PE({delta:n.zoomDelta,duration:n.zoomDuration})),(n.dragPan!==void 0?n.dragPan:!0)&&e.push(new FE({onFocusOnly:n.onFocusOnly,kinetic:t})),(n.pinchRotate!==void 0?n.pinchRotate:!0)&&e.push(new $E),(n.pinchZoom!==void 0?n.pinchZoom:!0)&&e.push(new VE({duration:n.zoomDuration})),(n.keyboard!==void 0?n.keyboard:!0)&&(e.push(new WE),e.push(new BE({delta:n.zoomDelta,duration:n.zoomDuration}))),(n.mouseWheelZoom!==void 0?n.mouseWheelZoom:!0)&&e.push(new UE({onFocusOnly:n.onFocusOnly,duration:n.zoomDuration})),(n.shiftDragZoom!==void 0?n.shiftDragZoom:!0)&&e.push(new jE({duration:n.zoomDuration})),e}const je={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class My extends Jn{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const t=Object.assign({},e);typeof e.properties=="object"&&(delete t.properties,Object.assign(t,e.properties)),t[je.OPACITY]=e.opacity!==void 0?e.opacity:1,He(typeof t[je.OPACITY]=="number","Layer opacity must be a number"),t[je.VISIBLE]=e.visible!==void 0?e.visible:!0,t[je.Z_INDEX]=e.zIndex,t[je.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,t[je.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,t[je.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,t[je.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=t.className!==void 0?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const t=this.state_||{layer:this,managed:e===void 0?!0:e},i=this.getZIndex();return t.opacity=lt(Math.round(this.getOpacity()*100)/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=i===void 0&&!t.managed?1/0:i,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return Me()}getLayerStatesArray(e){return Me()}getExtent(){return this.get(je.EXTENT)}getMaxResolution(){return this.get(je.MAX_RESOLUTION)}getMinResolution(){return this.get(je.MIN_RESOLUTION)}getMinZoom(){return this.get(je.MIN_ZOOM)}getMaxZoom(){return this.get(je.MAX_ZOOM)}getOpacity(){return this.get(je.OPACITY)}getSourceState(){return Me()}getVisible(){return this.get(je.VISIBLE)}getZIndex(){return this.get(je.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(je.EXTENT,e)}setMaxResolution(e){this.set(je.MAX_RESOLUTION,e)}setMinResolution(e){this.set(je.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(je.MAX_ZOOM,e)}setMinZoom(e){this.set(je.MIN_ZOOM,e)}setOpacity(e){He(typeof e=="number","Layer opacity must be a number"),this.set(je.OPACITY,e)}setVisible(e){this.set(je.VISIBLE,e)}setZIndex(e){this.set(je.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}class rr extends Ci{constructor(e,t){super(e),this.layer=t}}const Pf={LAYERS:"layers"};class ca extends My{constructor(e){e=e||{};const t=Object.assign({},e);delete t.layers;let i=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Pf.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new Hn(i.slice(),{unique:!0}):He(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new Hn(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Ze),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(ke(e,Kt.ADD,this.handleLayersAdd_,this),ke(e,Kt.REMOVE,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(Ze);Xo(this.listenerKeys_);const t=e.getArray();for(let i=0,r=t.length;i<r;i++){const o=t[i];this.registerLayerListeners_(o),this.dispatchEvent(new rr("addlayer",o))}this.changed()}registerLayerListeners_(e){const t=[ke(e,Qs.PROPERTYCHANGE,this.handleLayerChange_,this),ke(e,Se.CHANGE,this.handleLayerChange_,this)];e instanceof ca&&t.push(ke(e,"addlayer",this.handleLayerGroupAdd_,this),ke(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[it(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new rr("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new rr("removelayer",e.layer))}handleLayersAdd_(e){const t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new rr("addlayer",t)),this.changed()}handleLayersRemove_(e){const t=e.element,i=it(t);this.listenerKeys_[i].forEach(Ze),delete this.listenerKeys_[i],this.dispatchEvent(new rr("removelayer",t)),this.changed()}getLayers(){return this.get(Pf.LAYERS)}setLayers(e){const t=this.getLayers();if(t){const i=t.getArray();for(let r=0,o=i.length;r<o;++r)this.dispatchEvent(new rr("removelayer",i[r]))}this.set(Pf.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(t){t.getLayersArray(e)}),e}getLayerStatesArray(e){const t=e!==void 0?e:[],i=t.length;this.getLayers().forEach(function(l){l.getLayerStatesArray(t)});const r=this.getLayerState();let o=r.zIndex;!e&&r.zIndex===void 0&&(o=0);for(let l=i,u=t.length;l<u;l++){const c=t[l];c.opacity*=r.opacity,c.visible=c.visible&&r.visible,c.maxResolution=Math.min(c.maxResolution,r.maxResolution),c.minResolution=Math.max(c.minResolution,r.minResolution),c.minZoom=Math.max(c.minZoom,r.minZoom),c.maxZoom=Math.min(c.maxZoom,r.maxZoom),r.extent!==void 0&&(c.extent!==void 0?c.extent=Rd(c.extent,r.extent):c.extent=r.extent),c.zIndex===void 0&&(c.zIndex=o)}return t}getSourceState(){return"ready"}}const En={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};class Mh extends My{constructor(e){const t=Object.assign({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(je.SOURCE,this.handleSourcePropertyChange_);const i=e.source?e.source:null;this.setSource(i)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(je.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Ze(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=ke(e,Se.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0)),this.clearRenderer()),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let t;const i=this.getMapInternal();!e&&i&&(e=i.getView()),e instanceof Vn?t={viewState:e.getState(),extent:e.calculateExtent()}:t=e,!t.layerStatesArray&&i&&(t.layerStatesArray=i.getLayerGroup().getLayerStatesArray());let r;if(t.layerStatesArray){if(r=t.layerStatesArray.find(l=>l.layer===this),!r)return!1}else r=this.getLayerState();const o=this.getExtent();return Zd(r,t.viewState)&&(!o||jt(o,t.extent))}getAttributions(e){var o;if(!this.isVisible(e))return[];const t=(o=this.getSource())==null?void 0:o.getAttributions();if(!t)return[];const i=e instanceof Vn?e.getViewStateAndExtent():e;let r=t(i);return Array.isArray(r)||(r=[r]),r}render(e,t){const i=this.getRenderer();return i.prepareFrame(e)?(this.rendered=!0,i.renderFrame(e,t)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,t){}renderDeferred(e){const t=this.getRenderer();t&&t.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(je.MAP,e)}getMapInternal(){return this.get(je.MAP)}setMap(e){this.mapPrecomposeKey_&&(Ze(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Ze(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=ke(e,En.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=ke(this,Se.CHANGE,e.render,e),this.changed())}handlePrecompose_(e){const t=e.frameState.layerStatesArray,i=this.getLayerState(!1);He(!t.some(r=>r.layer===i.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),t.push(i)}setSource(e){this.set(je.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}}function Zd(n,e){if(!n.visible)return!1;const t=e.resolution;if(t<n.minResolution||t>=n.maxResolution)return!1;const i=e.zoom;return i>n.minZoom&&i<=n.maxZoom}function Cy(n,e,t=0,i=n.length-1,r=HE){for(;i>t;){if(i-t>600){const c=i-t+1,d=e-t+1,g=Math.log(c),p=.5*Math.exp(2*g/3),_=.5*Math.sqrt(g*p*(c-p)/c)*(d-c/2<0?-1:1),v=Math.max(t,Math.floor(e-d*p/c+_)),x=Math.min(i,Math.floor(e+(c-d)*p/c+_));Cy(n,e,v,x,r)}const o=n[e];let l=t,u=i;for(ro(n,t,e),r(n[i],o)>0&&ro(n,t,i);l<u;){for(ro(n,l,u),l++,u--;r(n[l],o)<0;)l++;for(;r(n[u],o)>0;)u--}r(n[t],o)===0?ro(n,t,u):(u++,ro(n,u,i)),u<=e&&(t=u+1),e<=u&&(i=u-1)}}function ro(n,e,t){const i=n[e];n[e]=n[t],n[t]=i}function HE(n,e){return n<e?-1:n>e?1:0}let Sy=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const i=[];if(!Ru(e,t))return i;const r=this.toBBox,o=[];for(;t;){for(let l=0;l<t.children.length;l++){const u=t.children[l],c=t.leaf?r(u):u;Ru(e,c)&&(t.leaf?i.push(u):Af(e,c)?this._all(u,i):o.push(u))}t=o.pop()}return i}collides(e){let t=this.data;if(!Ru(e,t))return!1;const i=[];for(;t;){for(let r=0;r<t.children.length;r++){const o=t.children[r],l=t.leaf?this.toBBox(o):o;if(Ru(e,l)){if(t.leaf||Af(e,l))return!0;i.push(o)}}t=i.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const i=this.data;this.data=t,t=i}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=zs([]),this}remove(e,t){if(!e)return this;let i=this.data;const r=this.toBBox(e),o=[],l=[];let u,c,d;for(;i||o.length;){if(i||(i=o.pop(),c=o[o.length-1],u=l.pop(),d=!0),i.leaf){const g=YE(e,i.children,t);if(g!==-1)return i.children.splice(g,1),o.push(i),this._condense(o),this}!d&&!i.leaf&&Af(i,r)?(o.push(i),l.push(u),u=0,c=i,i=i.children[0]):c?(u++,i=c.children[u],d=!1):i=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const i=[];for(;e;)e.leaf?t.push(...e.children):i.push(...e.children),e=i.pop();return t}_build(e,t,i,r){const o=i-t+1;let l=this._maxEntries,u;if(o<=l)return u=zs(e.slice(t,i+1)),Ns(u,this.toBBox),u;r||(r=Math.ceil(Math.log(o)/Math.log(l)),l=Math.ceil(o/Math.pow(l,r-1))),u=zs([]),u.leaf=!1,u.height=r;const c=Math.ceil(o/l),d=c*Math.ceil(Math.sqrt(l));Fp(e,t,i,d,this.compareMinX);for(let g=t;g<=i;g+=d){const p=Math.min(g+d-1,i);Fp(e,g,p,c,this.compareMinY);for(let _=g;_<=p;_+=c){const v=Math.min(_+c-1,p);u.children.push(this._build(e,_,v,r-1))}}return Ns(u,this.toBBox),u}_chooseSubtree(e,t,i,r){for(;r.push(t),!(t.leaf||r.length-1===i);){let o=1/0,l=1/0,u;for(let c=0;c<t.children.length;c++){const d=t.children[c],g=Lf(d),p=ZE(e,d)-g;p<l?(l=p,o=g<o?g:o,u=d):p===l&&g<o&&(o=g,u=d)}t=u||t.children[0]}return t}_insert(e,t,i){const r=i?e:this.toBBox(e),o=[],l=this._chooseSubtree(r,this.data,t,o);for(l.children.push(e),co(l,r);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(r,o,t)}_split(e,t){const i=e[t],r=i.children.length,o=this._minEntries;this._chooseSplitAxis(i,o,r);const l=this._chooseSplitIndex(i,o,r),u=zs(i.children.splice(l,i.children.length-l));u.height=i.height,u.leaf=i.leaf,Ns(i,this.toBBox),Ns(u,this.toBBox),t?e[t-1].children.push(u):this._splitRoot(i,u)}_splitRoot(e,t){this.data=zs([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Ns(this.data,this.toBBox)}_chooseSplitIndex(e,t,i){let r,o=1/0,l=1/0;for(let u=t;u<=i-t;u++){const c=ho(e,0,u,this.toBBox),d=ho(e,u,i,this.toBBox),g=QE(c,d),p=Lf(c)+Lf(d);g<o?(o=g,r=u,l=p<l?p:l):g===o&&p<l&&(l=p,r=u)}return r||i-t}_chooseSplitAxis(e,t,i){const r=e.leaf?this.compareMinX:qE,o=e.leaf?this.compareMinY:KE,l=this._allDistMargin(e,t,i,r),u=this._allDistMargin(e,t,i,o);l<u&&e.children.sort(r)}_allDistMargin(e,t,i,r){e.children.sort(r);const o=this.toBBox,l=ho(e,0,t,o),u=ho(e,i-t,i,o);let c=Su(l)+Su(u);for(let d=t;d<i-t;d++){const g=e.children[d];co(l,e.leaf?o(g):g),c+=Su(l)}for(let d=i-t-1;d>=t;d--){const g=e.children[d];co(u,e.leaf?o(g):g),c+=Su(u)}return c}_adjustParentBBoxes(e,t,i){for(let r=i;r>=0;r--)co(t[r],e)}_condense(e){for(let t=e.length-1,i;t>=0;t--)e[t].children.length===0?t>0?(i=e[t-1].children,i.splice(i.indexOf(e[t]),1)):this.clear():Ns(e[t],this.toBBox)}};function YE(n,e,t){if(!t)return e.indexOf(n);for(let i=0;i<e.length;i++)if(t(n,e[i]))return i;return-1}function Ns(n,e){ho(n,0,n.children.length,e,n)}function ho(n,e,t,i,r){r||(r=zs(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let o=e;o<t;o++){const l=n.children[o];co(r,n.leaf?i(l):l)}return r}function co(n,e){return n.minX=Math.min(n.minX,e.minX),n.minY=Math.min(n.minY,e.minY),n.maxX=Math.max(n.maxX,e.maxX),n.maxY=Math.max(n.maxY,e.maxY),n}function qE(n,e){return n.minX-e.minX}function KE(n,e){return n.minY-e.minY}function Lf(n){return(n.maxX-n.minX)*(n.maxY-n.minY)}function Su(n){return n.maxX-n.minX+(n.maxY-n.minY)}function ZE(n,e){return(Math.max(e.maxX,n.maxX)-Math.min(e.minX,n.minX))*(Math.max(e.maxY,n.maxY)-Math.min(e.minY,n.minY))}function QE(n,e){const t=Math.max(n.minX,e.minX),i=Math.max(n.minY,e.minY),r=Math.min(n.maxX,e.maxX),o=Math.min(n.maxY,e.maxY);return Math.max(0,r-t)*Math.max(0,o-i)}function Af(n,e){return n.minX<=e.minX&&n.minY<=e.minY&&e.maxX<=n.maxX&&e.maxY<=n.maxY}function Ru(n,e){return e.minX<=n.maxX&&e.minY<=n.maxY&&e.maxX>=n.minX&&e.maxY>=n.minY}function zs(n){return{children:n,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Fp(n,e,t,i,r){const o=[e,t];for(;o.length;){if(t=o.pop(),e=o.pop(),t-e<=i)continue;const l=e+Math.ceil((t-e)/i/2)*i;Cy(n,l,e,t,r),o.push(e,l,l,t)}}const bp={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var zp={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function JE(n){var g,p;var e,t=[],i=1,r;if(typeof n=="number")return{space:"rgb",values:[n>>>16,(n&65280)>>>8,n&255],alpha:1};if(typeof n=="number")return{space:"rgb",values:[n>>>16,(n&65280)>>>8,n&255],alpha:1};if(n=String(n).toLowerCase(),bp[n])t=bp[n].slice(),r="rgb";else if(n==="transparent")i=0,r="rgb",t=[0,0,0];else if(n[0]==="#"){var o=n.slice(1),l=o.length,u=l<=4;i=1,u?(t=[parseInt(o[0]+o[0],16),parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16)],l===4&&(i=parseInt(o[3]+o[3],16)/255)):(t=[parseInt(o[0]+o[1],16),parseInt(o[2]+o[3],16),parseInt(o[4]+o[5],16)],l===8&&(i=parseInt(o[6]+o[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),r="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(n)){var c=e[1];r=c.replace(/a$/,"");var d=r==="cmyk"?4:r==="gray"?1:3;t=e[2].trim().split(/\s*[,\/]\s*|\s+/),r==="color"&&(r=t.shift()),t=t.map(function(_,v){if(_[_.length-1]==="%")return _=parseFloat(_)/100,v===3?_:r==="rgb"?_*255:r[0]==="h"||r[0]==="l"&&!v?_*100:r==="lab"?_*125:r==="lch"?v<2?_*150:_*360:r[0]==="o"&&!v?_:r==="oklab"?_*.4:r==="oklch"?v<2?_*.4:_*360:_;if(r[v]==="h"||v===2&&r[r.length-1]==="h"){if(zp[_]!==void 0)return zp[_];if(_.endsWith("deg"))return parseFloat(_);if(_.endsWith("turn"))return parseFloat(_)*360;if(_.endsWith("grad"))return parseFloat(_)*360/400;if(_.endsWith("rad"))return parseFloat(_)*180/Math.PI}return _==="none"?0:parseFloat(_)}),i=t.length>d?t.pop():1}else/[0-9](?:\s|\/|,)/.test(n)&&(t=n.match(/([0-9]+)/g).map(function(_){return parseFloat(_)}),r=((p=(g=n.match(/([a-z])/ig))==null?void 0:g.join(""))==null?void 0:p.toLowerCase())||"rgb");return{space:r,values:t,alpha:i}}const No={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var kf={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(n){var e=n[0]/360,t=n[1]/100,i=n[2]/100,r,o,l,u,c,d=0;if(t===0)return c=i*255,[c,c,c];for(o=i<.5?i*(1+t):i+t-i*t,r=2*i-o,u=[0,0,0];d<3;)l=e+1/3*-(d-1),l<0?l++:l>1&&l--,c=6*l<1?r+(o-r)*6*l:2*l<1?o:3*l<2?r+(o-r)*(2/3-l)*6:r,u[d++]=c*255;return u}};No.hsl=function(n){var e=n[0]/255,t=n[1]/255,i=n[2]/255,r=Math.min(e,t,i),o=Math.max(e,t,i),l=o-r,u,c,d;return o===r?u=0:e===o?u=(t-i)/l:t===o?u=2+(i-e)/l:i===o&&(u=4+(e-t)/l),u=Math.min(u*60,360),u<0&&(u+=360),d=(r+o)/2,o===r?c=0:d<=.5?c=l/(o+r):c=l/(2-o-r),[u,c*100,d*100]};function ew(n){Array.isArray(n)&&n.raw&&(n=String.raw(...arguments)),n instanceof Number&&(n=+n);var e,t=JE(n);if(!t.space)return[];const i=t.space[0]==="h"?kf.min:No.min,r=t.space[0]==="h"?kf.max:No.max;return e=Array(3),e[0]=Math.min(Math.max(t.values[0],i[0]),r[0]),e[1]=Math.min(Math.max(t.values[1],i[1]),r[1]),e[2]=Math.min(Math.max(t.values[2],i[2]),r[2]),t.space[0]==="h"&&(e=kf.rgb(e)),e.push(Math.min(Math.max(t.alpha,0),1)),e}const Lt={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"],whitepoint:{2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}}};Lt.max=Lt.whitepoint[2].D65;Lt.rgb=function(n,e){e=e||Lt.whitepoint[2].E;var t=n[0]/e[0],i=n[1]/e[1],r=n[2]/e[2],o,l,u;return o=t*3.240969941904521+i*-1.537383177570093+r*-.498610760293,l=t*-.96924363628087+i*1.87596750150772+r*.041555057407175,u=t*.055630079696993+i*-.20397695888897+r*1.056971514242878,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o=o*12.92,l=l>.0031308?1.055*Math.pow(l,1/2.4)-.055:l=l*12.92,u=u>.0031308?1.055*Math.pow(u,1/2.4)-.055:u=u*12.92,o=Math.min(Math.max(0,o),1),l=Math.min(Math.max(0,l),1),u=Math.min(Math.max(0,u),1),[o*255,l*255,u*255]};No.xyz=function(n,e){var t=n[0]/255,i=n[1]/255,r=n[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var o=t*.41239079926595+i*.35758433938387+r*.18048078840183,l=t*.21263900587151+i*.71516867876775+r*.072192315360733,u=t*.019330818715591+i*.11919477979462+r*.95053215224966;return e=e||Lt.whitepoint[2].E,[o*e[0],l*e[1],u*e[2]]};var Qd={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(n,e,t){var i,r,o,l,u,c,d,g,p,_,v,x,M;if(o=n[0],l=n[1],u=n[2],o===0)return[0,0,0];var w=.0011070564598794539;return e=e||"D65",t=t||2,p=Lt.whitepoint[t][e][0],_=Lt.whitepoint[t][e][1],v=Lt.whitepoint[t][e][2],x=4*p/(p+15*_+3*v),M=9*_/(p+15*_+3*v),i=l/(13*o)+x||0,r=u/(13*o)+M||0,d=o>8?_*Math.pow((o+16)/116,3):_*o*w,c=d*9*i/(4*r)||0,g=d*(12-3*i-20*r)/(4*r)||0,[c,d,g]}};Lt.luv=function(n,e,t){var i,r,o,l,u,c,d,g,p,_,v,x,M,w=.008856451679035631,C=903.2962962962961;e=e||"D65",t=t||2,p=Lt.whitepoint[t][e][0],_=Lt.whitepoint[t][e][1],v=Lt.whitepoint[t][e][2],x=4*p/(p+15*_+3*v),M=9*_/(p+15*_+3*v),c=n[0],d=n[1],g=n[2],i=4*c/(c+15*d+3*g)||0,r=9*d/(c+15*d+3*g)||0;var S=d/_;return o=S<=w?C*S:116*Math.pow(S,1/3)-16,l=13*o*(i-x),u=13*o*(r-M),[o,l,u]};var Ry={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(n){var e=n[0],t=n[1],i=n[2],r,o,l;return l=i/360*2*Math.PI,r=t*Math.cos(l),o=t*Math.sin(l),[e,r,o]},xyz:function(n){return Qd.xyz(Ry.luv(n))}};Qd.lchuv=function(n){var e=n[0],t=n[1],i=n[2],r=Math.sqrt(t*t+i*i),o=Math.atan2(i,t),l=o*360/2/Math.PI;return l<0&&(l+=360),[e,r,l]};Lt.lchuv=function(n){return Qd.lchuv(Lt.luv(n))};const Jd=[NaN,NaN,NaN,0];function tw(n){return typeof n=="string"?n:tg(n)}const nw=1024,so={};let Of=0;function iw(n){if(n.length===4)return n;const e=n.slice();return e[3]=1,e}function Gp(n){const e=Lt.lchuv(No.xyz(n));return e[3]=n[3],e}function rw(n){const e=Lt.rgb(Ry.xyz(n));return e[3]=n[3],e}function eg(n){if(n==="none")return Jd;if(so.hasOwnProperty(n))return so[n];if(Of>=nw){let t=0;for(const i in so)t++&3||(delete so[i],--Of)}const e=ew(n);if(e.length!==4)throw new Error('failed to parse "'+n+'" as color');for(const t of e)if(isNaN(t))throw new Error('failed to parse "'+n+'" as color');return Iy(e),so[n]=e,++Of,e}function na(n){return Array.isArray(n)?n:eg(n)}function Iy(n){return n[0]=lt(n[0]+.5|0,0,255),n[1]=lt(n[1]+.5|0,0,255),n[2]=lt(n[2]+.5|0,0,255),n[3]=lt(n[3],0,1),n}function tg(n){let e=n[0];e!=(e|0)&&(e=e+.5|0);let t=n[1];t!=(t|0)&&(t=t+.5|0);let i=n[2];i!=(i|0)&&(i=i+.5|0);const r=n[3]===void 0?1:Math.round(n[3]*1e3)/1e3;return"rgba("+e+","+t+","+i+","+r+")"}function jp(n){return n[0]>0&&n[1]>0}function ia(n,e){return Array.isArray(n)?n:(e===void 0?e=[n,n]:(e[0]=n,e[1]=n),e)}let es=0;const Gt=1<<es++,Le=1<<es++,Zt=1<<es++,kn=1<<es++,Yr=1<<es++,fo=1<<es++,Iu=Math.pow(2,es)-1,ng={[Gt]:"boolean",[Le]:"number",[Zt]:"string",[kn]:"color",[Yr]:"number[]",[fo]:"size"},sw=Object.keys(ng).map(Number).sort($r);function aw(n){return n in ng}function go(n){const e=[];for(const t of sw)mo(n,t)&&e.push(ng[t]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function mo(n,e){return(n&e)===e}function Qi(n,e){return n===e}class ot{constructor(e,t){if(!aw(e))throw new Error(`literal expressions must have a specific type, got ${go(e)}`);this.type=e,this.value=t}}class ow{constructor(e,t,...i){this.type=e,this.operator=t,this.args=i}}function Ty(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function wt(n,e,t){switch(typeof n){case"boolean":{if(Qi(e,Zt))return new ot(Zt,n?"true":"false");if(!mo(e,Gt))throw new Error(`got a boolean, but expected ${go(e)}`);return new ot(Gt,n)}case"number":{if(Qi(e,fo))return new ot(fo,ia(n));if(Qi(e,Gt))return new ot(Gt,!!n);if(Qi(e,Zt))return new ot(Zt,n.toString());if(!mo(e,Le))throw new Error(`got a number, but expected ${go(e)}`);return new ot(Le,n)}case"string":{if(Qi(e,kn))return new ot(kn,eg(n));if(Qi(e,Gt))return new ot(Gt,!!n);if(!mo(e,Zt))throw new Error(`got a string, but expected ${go(e)}`);return new ot(Zt,n)}}if(!Array.isArray(n))throw new Error("expression must be an array or a primitive value");if(n.length===0)throw new Error("empty expression");if(typeof n[0]=="string")return yw(n,e,t);for(const i of n)if(typeof i!="number")throw new Error("expected an array of numbers");if(Qi(e,fo)){if(n.length!==2)throw new Error(`expected an array of two values for a size, got ${n.length}`);return new ot(fo,n)}if(Qi(e,kn)){if(n.length===3)return new ot(kn,[...n,1]);if(n.length===4)return new ot(kn,n);throw new Error(`expected an array of 3 or 4 values for a color, got ${n.length}`)}if(!mo(e,Yr))throw new Error(`got an array of numbers, but expected ${go(e)}`);return new ot(Yr,n)}const B={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},lw={[B.Get]:xe(Te(1,1/0),Wp),[B.Var]:xe(Te(1,1),uw),[B.Has]:xe(Te(1,1/0),Wp),[B.Id]:xe(hw,Ds),[B.Concat]:xe(Te(2,1/0),Fe(Zt)),[B.GeometryType]:xe(cw,Ds),[B.LineMetric]:xe(Ds),[B.Resolution]:xe(Nf,Ds),[B.Zoom]:xe(Nf,Ds),[B.Time]:xe(Nf,Ds),[B.Any]:xe(Te(2,1/0),Fe(Gt)),[B.All]:xe(Te(2,1/0),Fe(Gt)),[B.Not]:xe(Te(1,1),Fe(Gt)),[B.Equal]:xe(Te(2,2),Fe(Iu)),[B.NotEqual]:xe(Te(2,2),Fe(Iu)),[B.GreaterThan]:xe(Te(2,2),Fe(Le)),[B.GreaterThanOrEqualTo]:xe(Te(2,2),Fe(Le)),[B.LessThan]:xe(Te(2,2),Fe(Le)),[B.LessThanOrEqualTo]:xe(Te(2,2),Fe(Le)),[B.Multiply]:xe(Te(2,1/0),Bp),[B.Coalesce]:xe(Te(2,1/0),Bp),[B.Divide]:xe(Te(2,2),Fe(Le)),[B.Add]:xe(Te(2,1/0),Fe(Le)),[B.Subtract]:xe(Te(2,2),Fe(Le)),[B.Clamp]:xe(Te(3,3),Fe(Le)),[B.Mod]:xe(Te(2,2),Fe(Le)),[B.Pow]:xe(Te(2,2),Fe(Le)),[B.Abs]:xe(Te(1,1),Fe(Le)),[B.Floor]:xe(Te(1,1),Fe(Le)),[B.Ceil]:xe(Te(1,1),Fe(Le)),[B.Round]:xe(Te(1,1),Fe(Le)),[B.Sin]:xe(Te(1,1),Fe(Le)),[B.Cos]:xe(Te(1,1),Fe(Le)),[B.Atan]:xe(Te(1,2),Fe(Le)),[B.Sqrt]:xe(Te(1,1),Fe(Le)),[B.Match]:xe(Te(4,1/0),Up,dw),[B.Between]:xe(Te(3,3),Fe(Le)),[B.Interpolate]:xe(Te(6,1/0),Up,gw),[B.Case]:xe(Te(3,1/0),fw,mw),[B.In]:xe(Te(2,2),pw),[B.Number]:xe(Te(1,1/0),Fe(Iu)),[B.String]:xe(Te(1,1/0),Fe(Iu)),[B.Array]:xe(Te(1,1/0),Fe(Le)),[B.Color]:xe(Te(1,4),Fe(Le)),[B.Band]:xe(Te(1,3),Fe(Le)),[B.Palette]:xe(Te(2,2),_w),[B.ToString]:xe(Te(1,1),Fe(Gt|Le|Zt|kn))};function Wp(n,e,t){const i=n.length-1,r=new Array(i);for(let o=0;o<i;++o){const l=n[o+1];switch(typeof l){case"number":{r[o]=new ot(Le,l);break}case"string":{r[o]=new ot(Zt,l);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${l}`)}o===0&&t.properties.add(String(l))}return r}function uw(n,e,t){const i=n[1];if(typeof i!="string")throw new Error("expected a string argument for var operation");return t.variables.add(i),[new ot(Zt,i)]}function hw(n,e,t){t.featureId=!0}function cw(n,e,t){t.geometryType=!0}function Nf(n,e,t){t.mapState=!0}function Ds(n,e,t){const i=n[0];if(n.length!==1)throw new Error(`expected no arguments for ${i} operation`);return[]}function Te(n,e){return function(t,i,r){const o=t[0],l=t.length-1;if(n===e){if(l!==n){const u=n===1?"":"s";throw new Error(`expected ${n} argument${u} for ${o}, got ${l}`)}}else if(l<n||l>e){const u=e===1/0?`${n} or more`:`${n} to ${e}`;throw new Error(`expected ${u} arguments for ${o}, got ${l}`)}}}function Bp(n,e,t){const i=n.length-1,r=new Array(i);for(let o=0;o<i;++o){const l=wt(n[o+1],e,t);r[o]=l}return r}function Fe(n){return function(e,t,i){const r=e.length-1,o=new Array(r);for(let l=0;l<r;++l){const u=wt(e[l+1],n,i);o[l]=u}return o}}function fw(n,e,t){const i=n[0],r=n.length-1;if(r%2===0)throw new Error(`expected an odd number of arguments for ${i}, got ${r} instead`)}function Up(n,e,t){const i=n[0],r=n.length-1;if(r%2===1)throw new Error(`expected an even number of arguments for operation ${i}, got ${r} instead`)}function dw(n,e,t){const i=n.length-1,r=Zt|Le|Gt,o=wt(n[1],r,t),l=wt(n[n.length-1],e,t),u=new Array(i-2);for(let c=0;c<i-2;c+=2){try{const d=wt(n[c+2],o.type,t);u[c]=d}catch(d){throw new Error(`failed to parse argument ${c+1} of match expression: ${d.message}`)}try{const d=wt(n[c+3],l.type,t);u[c+1]=d}catch(d){throw new Error(`failed to parse argument ${c+2} of match expression: ${d.message}`)}}return[o,...u,l]}function gw(n,e,t){const i=n[1];let r;switch(i[0]){case"linear":r=1;break;case"exponential":const c=i[1];if(typeof c!="number"||c<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(c)} instead`);r=c;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(i)}`)}const o=new ot(Le,r);let l;try{l=wt(n[2],Le,t)}catch(c){throw new Error(`failed to parse argument 1 in interpolate expression: ${c.message}`)}const u=new Array(n.length-3);for(let c=0;c<u.length;c+=2){try{const d=wt(n[c+3],Le,t);u[c]=d}catch(d){throw new Error(`failed to parse argument ${c+2} for interpolate expression: ${d.message}`)}try{const d=wt(n[c+4],e,t);u[c+1]=d}catch(d){throw new Error(`failed to parse argument ${c+3} for interpolate expression: ${d.message}`)}}return[o,l,...u]}function mw(n,e,t){const i=wt(n[n.length-1],e,t),r=new Array(n.length-1);for(let o=0;o<r.length-1;o+=2){try{const l=wt(n[o+1],Gt,t);r[o]=l}catch(l){throw new Error(`failed to parse argument ${o} of case expression: ${l.message}`)}try{const l=wt(n[o+2],i.type,t);r[o+1]=l}catch(l){throw new Error(`failed to parse argument ${o+1} of case expression: ${l.message}`)}}return r[r.length-1]=i,r}function pw(n,e,t){let i=n[2];if(!Array.isArray(i))throw new Error('the second argument for the "in" operator must be an array');let r;if(typeof i[0]=="string"){if(i[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(i[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');i=i[1],r=Zt}else r=Le;const o=new Array(i.length);for(let u=0;u<o.length;u++)try{const c=wt(i[u],r,t);o[u]=c}catch(c){throw new Error(`failed to parse haystack item ${u} for "in" expression: ${c.message}`)}return[wt(n[1],r,t),...o]}function _w(n,e,t){let i;try{i=wt(n[1],Le,t)}catch(l){throw new Error(`failed to parse first argument in palette expression: ${l.message}`)}const r=n[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");const o=new Array(r.length);for(let l=0;l<o.length;l++){let u;try{u=wt(r[l],kn,t)}catch(c){throw new Error(`failed to parse color at index ${l} in palette expression: ${c.message}`)}if(!(u instanceof ot))throw new Error(`the palette color at index ${l} must be a literal value`);o[l]=u}return[i,...o]}function xe(...n){return function(e,t,i){const r=e[0];let o;for(let l=0;l<n.length;l++){const u=n[l](e,t,i);if(l==n.length-1){if(!u)throw new Error("expected last argument validator to return the parsed args");o=u}}return new ow(t,r,...o)}}function yw(n,e,t){const i=n[0],r=lw[i];if(!r)throw new Error(`unknown operator: ${i}`);return r(n,e,t)}function Py(n){if(!n)return"";const e=n.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return Py(n.getGeometries()[0]);default:return""}}function Ly(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function Si(n,e,t){const i=wt(n,e,t);return Fn(i)}function Fn(n,e){if(n instanceof ot){if(n.type===kn&&typeof n.value=="string"){const i=eg(n.value);return function(){return i}}return function(){return n.value}}const t=n.operator;switch(t){case B.Number:case B.String:case B.Coalesce:return vw(n);case B.Get:case B.Var:case B.Has:return xw(n);case B.Id:return i=>i.featureId;case B.GeometryType:return i=>i.geometryType;case B.Concat:{const i=n.args.map(r=>Fn(r));return r=>"".concat(...i.map(o=>o(r).toString()))}case B.Resolution:return i=>i.resolution;case B.Any:case B.All:case B.Between:case B.In:case B.Not:return ww(n);case B.Equal:case B.NotEqual:case B.LessThan:case B.LessThanOrEqualTo:case B.GreaterThan:case B.GreaterThanOrEqualTo:return Ew(n);case B.Multiply:case B.Divide:case B.Add:case B.Subtract:case B.Clamp:case B.Mod:case B.Pow:case B.Abs:case B.Floor:case B.Ceil:case B.Round:case B.Sin:case B.Cos:case B.Atan:case B.Sqrt:return Mw(n);case B.Case:return Cw(n);case B.Match:return Sw(n);case B.Interpolate:return Rw(n);case B.ToString:return Iw(n);default:throw new Error(`Unsupported operator ${t}`)}}function vw(n,e){const t=n.operator,i=n.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=Fn(n.args[o]);switch(t){case B.Coalesce:return o=>{for(let l=0;l<i;++l){const u=r[l](o);if(typeof u<"u"&&u!==null)return u}throw new Error("Expected one of the values to be non-null")};case B.Number:case B.String:return o=>{for(let l=0;l<i;++l){const u=r[l](o);if(typeof u===t)return u}throw new Error(`Expected one of the values to be a ${t}`)};default:throw new Error(`Unsupported assertion operator ${t}`)}}function xw(n,e){const i=n.args[0].value;switch(n.operator){case B.Get:return r=>{const o=n.args;let l=r.properties[i];for(let u=1,c=o.length;u<c;++u){const g=o[u].value;l=l[g]}return l};case B.Var:return r=>r.variables[i];case B.Has:return r=>{const o=n.args;if(!(i in r.properties))return!1;let l=r.properties[i];for(let u=1,c=o.length;u<c;++u){const g=o[u].value;if(!l||!Object.hasOwn(l,g))return!1;l=l[g]}return!0};default:throw new Error(`Unsupported accessor operator ${n.operator}`)}}function Ew(n,e){const t=n.operator,i=Fn(n.args[0]),r=Fn(n.args[1]);switch(t){case B.Equal:return o=>i(o)===r(o);case B.NotEqual:return o=>i(o)!==r(o);case B.LessThan:return o=>i(o)<r(o);case B.LessThanOrEqualTo:return o=>i(o)<=r(o);case B.GreaterThan:return o=>i(o)>r(o);case B.GreaterThanOrEqualTo:return o=>i(o)>=r(o);default:throw new Error(`Unsupported comparison operator ${t}`)}}function ww(n,e){const t=n.operator,i=n.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=Fn(n.args[o]);switch(t){case B.Any:return o=>{for(let l=0;l<i;++l)if(r[l](o))return!0;return!1};case B.All:return o=>{for(let l=0;l<i;++l)if(!r[l](o))return!1;return!0};case B.Between:return o=>{const l=r[0](o),u=r[1](o),c=r[2](o);return l>=u&&l<=c};case B.In:return o=>{const l=r[0](o);for(let u=1;u<i;++u)if(l===r[u](o))return!0;return!1};case B.Not:return o=>!r[0](o);default:throw new Error(`Unsupported logical operator ${t}`)}}function Mw(n,e){const t=n.operator,i=n.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=Fn(n.args[o]);switch(t){case B.Multiply:return o=>{let l=1;for(let u=0;u<i;++u)l*=r[u](o);return l};case B.Divide:return o=>r[0](o)/r[1](o);case B.Add:return o=>{let l=0;for(let u=0;u<i;++u)l+=r[u](o);return l};case B.Subtract:return o=>r[0](o)-r[1](o);case B.Clamp:return o=>{const l=r[0](o),u=r[1](o);if(l<u)return u;const c=r[2](o);return l>c?c:l};case B.Mod:return o=>r[0](o)%r[1](o);case B.Pow:return o=>Math.pow(r[0](o),r[1](o));case B.Abs:return o=>Math.abs(r[0](o));case B.Floor:return o=>Math.floor(r[0](o));case B.Ceil:return o=>Math.ceil(r[0](o));case B.Round:return o=>Math.round(r[0](o));case B.Sin:return o=>Math.sin(r[0](o));case B.Cos:return o=>Math.cos(r[0](o));case B.Atan:return i===2?o=>Math.atan2(r[0](o),r[1](o)):o=>Math.atan(r[0](o));case B.Sqrt:return o=>Math.sqrt(r[0](o));default:throw new Error(`Unsupported numeric operator ${t}`)}}function Cw(n,e){const t=n.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=Fn(n.args[r]);return r=>{for(let o=0;o<t-1;o+=2)if(i[o](r))return i[o+1](r);return i[t-1](r)}}function Sw(n,e){const t=n.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=Fn(n.args[r]);return r=>{const o=i[0](r);for(let l=1;l<t;l+=2)if(o===i[l](r))return i[l+1](r);return i[t-1](r)}}function Rw(n,e){const t=n.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=Fn(n.args[r]);return r=>{const o=i[0](r),l=i[1](r);let u,c;for(let d=2;d<t;d+=2){const g=i[d](r);let p=i[d+1](r);const _=Array.isArray(p);if(_&&(p=iw(p)),g>=l)return d===2?p:_?Tw(o,l,u,c,g,p):po(o,l,u,c,g,p);u=g,c=p}return c}}function Iw(n,e){const t=n.operator,i=n.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=Fn(n.args[o]);switch(t){case B.ToString:return o=>{const l=r[0](o);return n.args[0].type===kn?tg(l):l.toString()};default:throw new Error(`Unsupported convert operator ${t}`)}}function po(n,e,t,i,r,o){const l=r-t;if(l===0)return i;const u=e-t,c=n===1?u/l:(Math.pow(n,u)-1)/(Math.pow(n,l)-1);return i+c*(o-i)}function Tw(n,e,t,i,r,o){if(r-t===0)return i;const u=Gp(i),c=Gp(o);let d=c[2]-u[2];d>180?d-=360:d<-180&&(d+=360);const g=[po(n,e,t,u[0],r,c[0]),po(n,e,t,u[1],r,c[1]),u[2]+po(n,e,t,0,r,d),po(n,e,t,i[3],r,o[3])];return Iy(rw(g))}const fe={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class ig extends gh{constructor(e,t,i,r){super(),this.extent=e,this.pixelRatio_=i,this.resolution=t,this.state=typeof r=="function"?fe.IDLE:r,this.image_=null,this.loader=typeof r=="function"?r:null}changed(){this.dispatchEvent(Se.CHANGE)}getExtent(){return this.extent}getImage(){return this.image_}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){if(this.state==fe.IDLE&&this.loader){this.state=fe.LOADING,this.changed();const e=this.getResolution(),t=Array.isArray(e)?e[0]:e;F_(()=>this.loader(this.getExtent(),t,this.getPixelRatio())).then(i=>{"image"in i&&(this.image_=i.image),"extent"in i&&(this.extent=i.extent),"resolution"in i&&(this.resolution=i.resolution),"pixelRatio"in i&&(this.pixelRatio_=i.pixelRatio),(i instanceof HTMLImageElement||W_&&i instanceof ImageBitmap||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement)&&(this.image_=i),this.state=fe.LOADED}).catch(i=>{this.state=fe.ERROR,console.error(i)}).finally(()=>this.changed())}}setImage(e){this.image_=e}setResolution(e){this.resolution=e}}function Pw(n,e){return new Promise((t,i)=>{function r(){l(),t(n)}function o(){l(),i(new Error("Image load error"))}function l(){n.removeEventListener("load",r),n.removeEventListener("error",o)}n.addEventListener("load",r),n.addEventListener("error",o)})}function Ay(n,e){return e&&(n.src=e),n.src&&j_?new Promise((t,i)=>n.decode().then(()=>t(n)).catch(r=>n.complete&&n.width?t(n):i(r))):Pw(n)}function ky(n,e){return e&&(n.src=e),n.src&&j_&&W_?n.decode().then(()=>createImageBitmap(n)).catch(t=>{if(n.complete&&n.width)return n;throw t}):Ay(n)}class Lw{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const t in this.cache_){const i=this.cache_[t];!(e++&3)&&!i.hasListener()&&(delete this.cache_[t],delete this.patternCache_[t],--this.cacheSize_)}}}get(e,t,i){const r=Df(e,t,i);return r in this.cache_?this.cache_[r]:null}getPattern(e,t,i){const r=Df(e,t,i);return r in this.patternCache_?this.patternCache_[r]:null}set(e,t,i,r,o){const l=Df(e,t,i),u=l in this.cache_;this.cache_[l]=r,o&&(r.getImageState()===fe.IDLE&&r.load(),r.getImageState()===fe.LOADING?r.ready().then(()=>{this.patternCache_[l]=Ku().createPattern(r.getImage(1),"repeat")}):this.patternCache_[l]=Ku().createPattern(r.getImage(1),"repeat")),u||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function Df(n,e,t){const i=t?na(t):"null";return e+":"+n+":"+i}const wn=new Lw;let ao=null;class Oy extends gh{constructor(e,t,i,r,o){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=o,this.imageState_=r===void 0?fe.IDLE:r,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=t,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===fe.LOADED){ao||(ao=Mt(1,1,void 0,{willReadFrequently:!0})),ao.drawImage(this.image_,0,0);try{ao.getImageData(0,0,1,1),this.tainted_=!1}catch{ao=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(Se.CHANGE)}handleImageError_(){this.imageState_=fe.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=fe.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],t=this.size_[1],i=Mt(e,t);i.fillRect(0,0,e,t),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===fe.IDLE){this.image_||this.initializeImage_(),this.imageState_=fe.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&Ay(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==fe.LOADED)return;const t=this.image_,i=Mt(Math.ceil(t.width*e),Math.ceil(t.height*e)),r=i.canvas;i.scale(e,e),i.drawImage(t,0,0),i.globalCompositeOperation="multiply",i.fillStyle=tw(this.color_),i.fillRect(0,0,r.width/e,r.height/e),i.globalCompositeOperation="destination-in",i.drawImage(t,0,0),this.canvas_[e]=r}ready(){return this.ready_||(this.ready_=new Promise(e=>{if(this.imageState_===fe.LOADED||this.imageState_===fe.ERROR)e();else{const t=()=>{(this.imageState_===fe.LOADED||this.imageState_===fe.ERROR)&&(this.removeEventListener(Se.CHANGE,t),e())};this.addEventListener(Se.CHANGE,t)}})),this.ready_}}function rg(n,e,t,i,r,o){let l=e===void 0?void 0:wn.get(e,t,r);return l||(l=new Oy(n,n&&"src"in n?n.src||void 0:e,t,i,r),wn.set(e,t,r,l,o)),o&&l&&!wn.getPattern(e,t,r)&&wn.set(e,t,r,l,o),l}function Yn(n){return n?Array.isArray(n)?tg(n):typeof n=="object"&&"src"in n?Aw(n):n:null}function Aw(n){if(!n.offset||!n.size)return wn.getPattern(n.src,"anonymous",n.color);const e=n.src+":"+n.offset,t=wn.getPattern(e,void 0,n.color);if(t)return t;const i=wn.get(n.src,"anonymous",null);if(i.getImageState()!==fe.LOADED)return null;const r=Mt(n.size[0],n.size[1]);return r.drawImage(i.getImage(1),n.offset[0],n.offset[1],n.size[0],n.size[1],0,0,n.size[0],n.size[1]),rg(r.canvas,e,void 0,fe.LOADED,n.color,!0),wn.getPattern(e,void 0,n.color)}const Ny="10px sans-serif",Qt="#000",ra="round",vi=[],xi=0,sa="round",Do=10,Fo="#000",bo="center",Zu="middle",Br=[0,0,0,0],zo=1,_i=new Jn;let Gs=null,ad;const od={},kw=function(){const e="32px ",t=["monospace","serif"],i=t.length,r="wmytzilWMYTZIL@#/&?$%10";let o,l;function u(d,g,p){let _=!0;for(let v=0;v<i;++v){const x=t[v];if(l=Qu(d+" "+g+" "+e+x,r),p!=x){const M=Qu(d+" "+g+" "+e+p+","+x,r);_=_&&M!=l}}return!!_}function c(){let d=!0;const g=_i.getKeys();for(let p=0,_=g.length;p<_;++p){const v=g[p];if(_i.get(v)<100){const[x,M,w]=v.split(`
`);u(x,M,w)?(Xo(od),Gs=null,ad=void 0,_i.set(v,100)):(_i.set(v,_i.get(v)+1,!0),d=!1)}}d&&(clearInterval(o),o=void 0)}return function(d){const g=yy(d);if(!g)return;const p=g.families;for(let _=0,v=p.length;_<v;++_){const x=p[_],M=g.style+`
`+g.weight+`
`+x;_i.get(M)===void 0&&(_i.set(M,100,!0),u(g.style,g.weight,x)||(_i.set(M,0,!0),o===void 0&&(o=setInterval(c,32))))}}}(),Ow=function(){let n;return function(e){let t=od[e];if(t==null){if(G_){const i=yy(e),r=Dy(e,"g");t=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else n||(n=document.createElement("div"),n.innerHTML="M",n.style.minHeight="0",n.style.maxHeight="none",n.style.height="auto",n.style.padding="0",n.style.border="none",n.style.position="absolute",n.style.display="block",n.style.left="-99999px"),n.style.font=e,document.body.appendChild(n),t=n.offsetHeight,document.body.removeChild(n);od[e]=t}return t}}();function Dy(n,e){return Gs||(Gs=Mt(1,1)),n!=ad&&(Gs.font=n,ad=Gs.font),Gs.measureText(e)}function Qu(n,e){return Dy(n,e).width}function $p(n,e,t){if(e in t)return t[e];const i=e.split(`
`).reduce((r,o)=>Math.max(r,Qu(n,o)),0);return t[e]=i,i}function Nw(n,e){const t=[],i=[],r=[];let o=0,l=0,u=0,c=0;for(let d=0,g=e.length;d<=g;d+=2){const p=e[d];if(p===`
`||d===g){o=Math.max(o,l),r.push(l),l=0,u+=c,c=0;continue}const _=e[d+1]||n.font,v=Qu(_,p);t.push(v),l+=v;const x=Ow(_);i.push(x),c=Math.max(c,x)}return{width:o,height:u,widths:t,heights:i,lineWidths:r}}function Dw(n,e,t,i,r,o,l,u,c,d,g){n.save(),t!==1&&(n.globalAlpha===void 0?n.globalAlpha=p=>p.globalAlpha*=t:n.globalAlpha*=t),e&&n.transform.apply(n,e),i.contextInstructions?(n.translate(c,d),n.scale(g[0],g[1]),Fw(i,n)):g[0]<0||g[1]<0?(n.translate(c,d),n.scale(g[0],g[1]),n.drawImage(i,r,o,l,u,0,0,l,u)):n.drawImage(i,r,o,l,u,c,d,l*g[0],u*g[1]),n.restore()}function Fw(n,e){const t=n.contextInstructions;for(let i=0,r=t.length;i<r;i+=2)Array.isArray(t[i+1])?e[t[i]].apply(e,t[i+1]):e[t[i]]=t[i+1]}class Ch{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=ia(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Ch({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Me()}getImage(e){return Me()}getHitDetectionImage(){return Me()}getPixelRatio(e){return 1}getImageState(){return Me()}getImageSize(){return Me()}getOrigin(){return Me()}getSize(){return Me()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=ia(e)}listenImageChange(e){Me()}load(){Me()}unlistenImageChange(e){Me()}ready(){return Promise.resolve()}}class Sh extends Ch{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?fe.LOADING:fe.LOADED,this.imageState_===fe.LOADING&&this.ready().then(()=>this.imageState_=fe.LOADED),this.render()}clone(){const e=this.getScale(),t=new Sh({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}getAnchor(){const e=this.size_,t=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-t[0]/i[0],e[1]/2+t[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){var o,l;const t=(o=this.fill_)==null?void 0:o.getKey(),i=`${e},${this.angle_},${this.radius},${this.radius2_},${this.points_},${t}`+Object.values(this.renderOptions_).join(",");let r=(l=wn.get(i,null,null))==null?void 0:l.getImage(1);if(!r){const u=this.renderOptions_,c=Math.ceil(u.size*e),d=Mt(c,c);this.draw_(u,d,e),r=d.canvas,wn.set(i,null,null,new Oy(r,void 0,null,fe.LOADED,null))}return r}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,t,i){if(t===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return t;let r=this.radius,o=this.radius2_===void 0?r:this.radius2_;if(r<o){const F=r;r=o,o=F}const l=this.radius2_===void 0?this.points_:this.points_*2,u=2*Math.PI/l,c=o*Math.sin(u),d=Math.sqrt(o*o-c*c),g=r-d,p=Math.sqrt(c*c+g*g),_=p/c;if(e==="miter"&&_<=i)return _*t;const v=t/2/_,x=t/2*(g/p),w=Math.sqrt((r+v)*(r+v)+x*x)-r;if(this.radius2_===void 0||e==="bevel")return w*2;const C=r*Math.sin(u),S=Math.sqrt(r*r-C*C),L=o-S,A=Math.sqrt(C*C+L*L)/C;if(A<=i){const F=A*t/2-o-r;return 2*Math.max(w,F)}return w*2}createRenderOptions(){let e=ra,t=sa,i=0,r=null,o=0,l,u=0;this.stroke_&&(l=Yn(this.stroke_.getColor()??Fo),u=this.stroke_.getWidth()??zo,r=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset()??0,t=this.stroke_.getLineJoin()??sa,e=this.stroke_.getLineCap()??ra,i=this.stroke_.getMiterLimit()??Do);const c=this.calculateLineJoinSize_(t,u,i),d=Math.max(this.radius,this.radius2_||0),g=Math.ceil(2*d+c);return{strokeStyle:l,strokeWidth:u,size:g,lineCap:e,lineDash:r,lineDashOffset:o,lineJoin:t,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,t,i){if(t.scale(i,i),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){let r=this.fill_.getColor();r===null&&(r=Qt),t.fillStyle=Yn(r),t.fill()}e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}createHitDetectionCanvas_(e){let t;if(this.fill_){let i=this.fill_.getColor(),r=0;typeof i=="string"&&(i=na(i)),i===null?r=1:Array.isArray(i)&&(r=i.length===4?i[3]:1),r===0&&(t=Mt(e.size,e.size),this.drawHitDetectionCanvas_(e,t))}return t?t.canvas:this.getImage(1)}createPath_(e){let t=this.points_;const i=this.radius;if(t===1/0)e.arc(0,0,i,0,2*Math.PI);else{const r=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(t*=2);const o=this.angle_-Math.PI/2,l=2*Math.PI/t;for(let u=0;u<t;u++){const c=o+u*l,d=u%2===0?i:r;e.lineTo(d*Math.cos(c),d*Math.sin(c))}e.closePath()}}drawHitDetectionCanvas_(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=Qt,t.fill(),e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class Rh extends Sh{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),t=new Rh({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(e){this.radius=e,this.render()}}class fa{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){const e=this.getColor();return new fa({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){const t=rg(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));t.ready().then(()=>{this.patternImage_=null}),t.getImageState()===fe.IDLE&&t.load(),t.getImageState()===fe.LOADING&&(this.patternImage_=t)}this.color_=e}getKey(){const e=this.getColor();return e?e instanceof CanvasPattern||e instanceof CanvasGradient?it(e):typeof e=="object"&&"src"in e?e.src+":"+e.offset:na(e).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}function Vp(n,e,t,i){return t!==void 0&&i!==void 0?[t/n,i/e]:t!==void 0?t/n:i!==void 0?i/e:1}class Ih extends Ch{constructor(e){e=e||{};const t=e.opacity!==void 0?e.opacity:1,i=e.rotation!==void 0?e.rotation:0,r=e.scale!==void 0?e.scale:1,o=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:t,rotation:i,scale:r,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:o,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const l=e.img!==void 0?e.img:null;let u=e.src;He(!(u!==void 0&&l),"`image` and `src` cannot be provided at the same time"),(u===void 0||u.length===0)&&l&&(u=l.src||it(l)),He(u!==void 0&&u.length>0,"A defined and non-empty `src` or `image` must be provided"),He(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let c;if(e.src!==void 0?c=fe.IDLE:l!==void 0&&("complete"in l?l.complete?c=l.src?fe.LOADED:fe.IDLE:c=fe.LOADING:c=fe.LOADED),this.color_=e.color!==void 0?na(e.color):null,this.iconImage_=rg(l,u,this.crossOrigin_,c,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.initialOptions_,e.width!==void 0||e.height!==void 0){let d,g;if(e.size)[d,g]=e.size;else{const p=this.getImage(1);if(p.width&&p.height)d=p.width,g=p.height;else if(p instanceof HTMLImageElement){this.initialOptions_=e;const _=()=>{if(this.unlistenImageChange(_),!this.initialOptions_)return;const v=this.iconImage_.getSize();this.setScale(Vp(v[0],v[1],e.width,e.height))};this.listenImageChange(_);return}}d!==void 0&&this.setScale(Vp(d,g,e.width,e.height))}}clone(){let e,t,i;return this.initialOptions_?(t=this.initialOptions_.width,i=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new Ih({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:t,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const r=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!r)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=r[0]),this.anchorYUnits_=="fraction"&&(e[1]*=r[1])}if(this.anchorOrigin_!="top-left"){if(!r)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+r[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+r[1])}this.normalizedAnchor_=e}const t=this.getDisplacement(),i=this.getScaleArray();return[e[0]-t[0]/i[0],e[1]+t[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const t=this.getSize(),i=this.iconImage_.getSize();if(!t||!i)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=i[0]-t[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=i[1]-t[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==fe.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){const e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==fe.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(Se.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(Se.CHANGE,e)}ready(){return this.iconImage_.ready()}}class Jo{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new Jo({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}class hr{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=Xp,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new hr({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=Xp,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function bw(n){let e;if(typeof n=="function")e=n;else{let t;Array.isArray(n)?t=n:(He(typeof n.getZIndex=="function","Expected an `Style` or an array of `Style`"),t=[n]),e=function(){return t}}return e}let Ff=null;function Fy(n,e){if(!Ff){const t=new fa({color:"rgba(255,255,255,0.4)"}),i=new Jo({color:"#3399CC",width:1.25});Ff=[new hr({image:new Rh({fill:t,stroke:i,radius:5}),fill:t,stroke:i})]}return Ff}function Xp(n){return n.getGeometry()}const zw="#333";class sg{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.keepUpright_=e.keepUpright,this.scale_=e.scale,this.scaleArray_=ia(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new fa({color:zw}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new sg({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setKeepUpright(e){this.keepUpright_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=ia(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}function Gw(n){return!0}function jw(n){const e=Ty(),t=Ww(n,e),i=Ly();return function(r,o){if(i.properties=r.getPropertiesInternal(),i.resolution=o,e.featureId){const l=r.getId();l!==void 0?i.featureId=l:i.featureId=null}return e.geometryType&&(i.geometryType=Py(r.getGeometry())),t(i)}}function Hp(n){const e=Ty(),t=n.length,i=new Array(t);for(let l=0;l<t;++l)i[l]=ld(n[l],e);const r=Ly(),o=new Array(t);return function(l,u){if(r.properties=l.getPropertiesInternal(),r.resolution=u,e.featureId){const d=l.getId();d!==void 0?r.featureId=d:r.featureId=null}let c=0;for(let d=0;d<t;++d){const g=i[d](r);g&&(o[c]=g,c+=1)}return o.length=c,o}}function Ww(n,e){const t=n.length,i=new Array(t);for(let r=0;r<t;++r){const o=n[r],l="filter"in o?Si(o.filter,Gt,e):Gw;let u;if(Array.isArray(o.style)){const c=o.style.length;u=new Array(c);for(let d=0;d<c;++d)u[d]=ld(o.style[d],e)}else u=[ld(o.style,e)];i[r]={filter:l,styles:u}}return function(r){const o=[];let l=!1;for(let u=0;u<t;++u){const c=i[u].filter;if(c(r)&&!(n[u].else&&l)){l=!0;for(const d of i[u].styles){const g=d(r);g&&o.push(g)}}}return o}}function ld(n,e){const t=Go(n,"",e),i=jo(n,"",e),r=Bw(n,e),o=Uw(n,e),l=Jt(n,"z-index",e);if(!t&&!i&&!r&&!o&&!Xr(n))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(n));const u=new hr;return function(c){let d=!0;if(t){const g=t(c);g&&(d=!1),u.setFill(g)}if(i){const g=i(c);g&&(d=!1),u.setStroke(g)}if(r){const g=r(c);g&&(d=!1),u.setText(g)}if(o){const g=o(c);g&&(d=!1),u.setImage(g)}return l&&u.setZIndex(l(c)),d?null:u}}function Go(n,e,t){let i;if(e+"fill-pattern-src"in n)i=Hw(n,e+"fill-",t);else{if(n[e+"fill-color"]==="none")return o=>null;i=ag(n,e+"fill-color",t)}if(!i)return null;const r=new fa;return function(o){const l=i(o);return l===Jd?null:(r.setColor(l),r)}}function jo(n,e,t){const i=Jt(n,e+"stroke-width",t),r=ag(n,e+"stroke-color",t);if(!i&&!r)return null;const o=yi(n,e+"stroke-line-cap",t),l=yi(n,e+"stroke-line-join",t),u=by(n,e+"stroke-line-dash",t),c=Jt(n,e+"stroke-line-dash-offset",t),d=Jt(n,e+"stroke-miter-limit",t),g=new Jo;return function(p){if(r){const _=r(p);if(_===Jd)return null;g.setColor(_)}if(i&&g.setWidth(i(p)),o){const _=o(p);if(_!=="butt"&&_!=="round"&&_!=="square")throw new Error("Expected butt, round, or square line cap");g.setLineCap(_)}if(l){const _=l(p);if(_!=="bevel"&&_!=="round"&&_!=="miter")throw new Error("Expected bevel, round, or miter line join");g.setLineJoin(_)}return u&&g.setLineDash(u(p)),c&&g.setLineDashOffset(c(p)),d&&g.setMiterLimit(d(p)),g}}function Bw(n,e){const t="text-",i=yi(n,t+"value",e);if(!i)return null;const r=Go(n,t,e),o=Go(n,t+"background-",e),l=jo(n,t,e),u=jo(n,t+"background-",e),c=yi(n,t+"font",e),d=Jt(n,t+"max-angle",e),g=Jt(n,t+"offset-x",e),p=Jt(n,t+"offset-y",e),_=qs(n,t+"overflow",e),v=yi(n,t+"placement",e),x=Jt(n,t+"repeat",e),M=Th(n,t+"scale",e),w=qs(n,t+"rotate-with-view",e),C=Jt(n,t+"rotation",e),S=yi(n,t+"align",e),L=yi(n,t+"justify",e),I=yi(n,t+"baseline",e),A=qs(n,t+"keep-upright",e),F=by(n,t+"padding",e),U=Ph(n,t+"declutter-mode"),z=new sg({declutterMode:U});return function(W){if(z.setText(i(W)),r&&z.setFill(r(W)),o&&z.setBackgroundFill(o(W)),l&&z.setStroke(l(W)),u&&z.setBackgroundStroke(u(W)),c&&z.setFont(c(W)),d&&z.setMaxAngle(d(W)),g&&z.setOffsetX(g(W)),p&&z.setOffsetY(p(W)),_&&z.setOverflow(_(W)),v){const K=v(W);if(K!=="point"&&K!=="line")throw new Error("Expected point or line for text-placement");z.setPlacement(K)}if(x&&z.setRepeat(x(W)),M&&z.setScale(M(W)),w&&z.setRotateWithView(w(W)),C&&z.setRotation(C(W)),S){const K=S(W);if(K!=="left"&&K!=="center"&&K!=="right"&&K!=="end"&&K!=="start")throw new Error("Expected left, right, center, start, or end for text-align");z.setTextAlign(K)}if(L){const K=L(W);if(K!=="left"&&K!=="right"&&K!=="center")throw new Error("Expected left, right, or center for text-justify");z.setJustify(K)}if(I){const K=I(W);if(K!=="bottom"&&K!=="top"&&K!=="middle"&&K!=="alphabetic"&&K!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");z.setTextBaseline(K)}return F&&z.setPadding(F(W)),A&&z.setKeepUpright(A(W)),z}}function Uw(n,e){return"icon-src"in n?$w(n,e):"shape-points"in n?Vw(n,e):"circle-radius"in n?Xw(n,e):null}function $w(n,e){const t="icon-",i=t+"src",r=zy(n[i],i),o=Ju(n,t+"anchor",e),l=Th(n,t+"scale",e),u=Jt(n,t+"opacity",e),c=Ju(n,t+"displacement",e),d=Jt(n,t+"rotation",e),g=qs(n,t+"rotate-with-view",e),p=qp(n,t+"anchor-origin"),_=Kp(n,t+"anchor-x-units"),v=Kp(n,t+"anchor-y-units"),x=Zw(n,t+"color"),M=qw(n,t+"cross-origin"),w=Kw(n,t+"offset"),C=qp(n,t+"offset-origin"),S=eh(n,t+"width"),L=eh(n,t+"height"),I=Yw(n,t+"size"),A=Ph(n,t+"declutter-mode"),F=new Ih({src:r,anchorOrigin:p,anchorXUnits:_,anchorYUnits:v,color:x,crossOrigin:M,offset:w,offsetOrigin:C,height:L,width:S,size:I,declutterMode:A});return function(U){return u&&F.setOpacity(u(U)),c&&F.setDisplacement(c(U)),d&&F.setRotation(d(U)),g&&F.setRotateWithView(g(U)),l&&F.setScale(l(U)),o&&F.setAnchor(o(U)),F}}function Vw(n,e){const t="shape-",i=t+"points",r=t+"radius",o=ud(n[i],i),l=ud(n[r],r),u=Go(n,t,e),c=jo(n,t,e),d=Th(n,t+"scale",e),g=Ju(n,t+"displacement",e),p=Jt(n,t+"rotation",e),_=qs(n,t+"rotate-with-view",e),v=eh(n,t+"radius2"),x=eh(n,t+"angle"),M=Ph(n,t+"declutter-mode"),w=new Sh({points:o,radius:l,radius2:v,angle:x,declutterMode:M});return function(C){return u&&w.setFill(u(C)),c&&w.setStroke(c(C)),g&&w.setDisplacement(g(C)),p&&w.setRotation(p(C)),_&&w.setRotateWithView(_(C)),d&&w.setScale(d(C)),w}}function Xw(n,e){const t="circle-",i=Go(n,t,e),r=jo(n,t,e),o=Jt(n,t+"radius",e),l=Th(n,t+"scale",e),u=Ju(n,t+"displacement",e),c=Jt(n,t+"rotation",e),d=qs(n,t+"rotate-with-view",e),g=Ph(n,t+"declutter-mode"),p=new Rh({radius:5,declutterMode:g});return function(_){return o&&p.setRadius(o(_)),i&&p.setFill(i(_)),r&&p.setStroke(r(_)),u&&p.setDisplacement(u(_)),c&&p.setRotation(c(_)),d&&p.setRotateWithView(d(_)),l&&p.setScale(l(_)),p}}function Jt(n,e,t){if(!(e in n))return;const i=Si(n[e],Le,t);return function(r){return ud(i(r),e)}}function yi(n,e,t){if(!(e in n))return null;const i=Si(n[e],Zt,t);return function(r){return zy(i(r),e)}}function Hw(n,e,t){const i=yi(n,e+"pattern-src",t),r=Yp(n,e+"pattern-offset",t),o=Yp(n,e+"pattern-size",t),l=ag(n,e+"color",t);return function(u){return{src:i(u),offset:r&&r(u),size:o&&o(u),color:l&&l(u)}}}function qs(n,e,t){if(!(e in n))return null;const i=Si(n[e],Gt,t);return function(r){const o=i(r);if(typeof o!="boolean")throw new Error(`Expected a boolean for ${e}`);return o}}function ag(n,e,t){if(!(e in n))return null;const i=Si(n[e],kn,t);return function(r){return Gy(i(r),e)}}function by(n,e,t){if(!(e in n))return null;const i=Si(n[e],Yr,t);return function(r){return el(i(r),e)}}function Ju(n,e,t){if(!(e in n))return null;const i=Si(n[e],Yr,t);return function(r){const o=el(i(r),e);if(o.length!==2)throw new Error(`Expected two numbers for ${e}`);return o}}function Yp(n,e,t){if(!(e in n))return null;const i=Si(n[e],Yr,t);return function(r){return jy(i(r),e)}}function Th(n,e,t){if(!(e in n))return null;const i=Si(n[e],Yr|Le,t);return function(r){return Qw(i(r),e)}}function eh(n,e){const t=n[e];if(t!==void 0){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}}function Yw(n,e){const t=n[e];if(t!==void 0){if(typeof t=="number")return ia(t);if(!Array.isArray(t))throw new Error(`Expected a number or size array for ${e}`);if(t.length!==2||typeof t[0]!="number"||typeof t[1]!="number")throw new Error(`Expected a number or size array for ${e}`);return t}}function qw(n,e){const t=n[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}}function qp(n,e){const t=n[e];if(t!==void 0){if(t!=="bottom-left"&&t!=="bottom-right"&&t!=="top-left"&&t!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return t}}function Kp(n,e){const t=n[e];if(t!==void 0){if(t!=="pixels"&&t!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return t}}function Kw(n,e){const t=n[e];if(t!==void 0)return el(t,e)}function Ph(n,e){const t=n[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);if(t!=="declutter"&&t!=="obstacle"&&t!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return t}}function Zw(n,e){const t=n[e];if(t!==void 0)return Gy(t,e)}function el(n,e){if(!Array.isArray(n))throw new Error(`Expected an array for ${e}`);const t=n.length;for(let i=0;i<t;++i)if(typeof n[i]!="number")throw new Error(`Expected an array of numbers for ${e}`);return n}function zy(n,e){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);return n}function ud(n,e){if(typeof n!="number")throw new Error(`Expected a number for ${e}`);return n}function Gy(n,e){if(typeof n=="string")return n;const t=el(n,e),i=t.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return t}function jy(n,e){const t=el(n,e);if(t.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return t}function Qw(n,e){return typeof n=="number"?n:jy(n,e)}const Zp={RENDER_ORDER:"renderOrder"};class Wy extends Mh{constructor(e){e=e||{};const t=Object.assign({},e);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,super(t),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(Zp.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,t){const i=this.getDeclutter();i in e.declutter||(e.declutter[i]=new Sy(9)),this.getRenderer().renderDeclutter(e,t)}setRenderOrder(e){this.set(Zp.RENDER_ORDER,e)}setStyle(e){this.style_=e===void 0?Fy:e;const t=Jw(e);this.styleFunction_=e===null?void 0:bw(t),this.changed()}setDeclutter(e){this.declutter_=e?String(e):void 0,this.changed()}}function Jw(n){if(n===void 0)return Fy;if(!n)return null;if(typeof n=="function"||n instanceof hr)return n;if(!Array.isArray(n))return Hp([n]);if(n.length===0)return[];const e=n.length,t=n[0];if(t instanceof hr){const r=new Array(e);for(let o=0;o<e;++o){const l=n[o];if(!(l instanceof hr))throw new Error("Expected a list of style instances");r[o]=l}return r}if("style"in t){const r=new Array(e);for(let o=0;o<e;++o){const l=n[o];if(!("style"in l))throw new Error("Expected a list of rules with a style property");r[o]=l}return jw(r)}return Hp(n)}class By extends Ci{constructor(e,t,i,r){super(e),this.inversePixelTransform=t,this.frameState=i,this.context=r}}class eM extends vd{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){Me()}calculateMatrices2D(e){const t=e.viewState,i=e.coordinateToPixelTransform,r=e.pixelToCoordinateTransform;Mi(i,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),ay(r,i)}forEachFeatureAtCoordinate(e,t,i,r,o,l,u,c){let d;const g=t.viewState;function p(I,A,F,U){return o.call(l,A,I?F:null,U)}const _=g.projection,v=q_(e.slice(),_),x=[[0,0]];if(_.canWrapX()&&r){const I=_.getExtent(),A=De(I);x.push([-A,0],[A,0])}const M=t.layerStatesArray,w=M.length,C=[],S=[];for(let I=0;I<x.length;I++)for(let A=w-1;A>=0;--A){const F=M[A],U=F.layer;if(U.hasRenderer()&&Zd(F,g)&&u.call(c,U)){const z=U.getRenderer(),W=U.getSource();if(z&&W){const K=W.getWrapX()?v:e,te=p.bind(null,F.managed);S[0]=K[0]+x[I][0],S[1]=K[1]+x[I][1],d=z.forEachFeatureAtCoordinate(S,t,i,te,C)}if(d)return d}}if(C.length===0)return;const L=1/C.length;return C.forEach((I,A)=>I.distanceSq+=A*L),C.sort((I,A)=>I.distanceSq-A.distanceSq),C.some(I=>d=I.callback(I.feature,I.layer,I.geometry)),d}hasFeatureAtCoordinate(e,t,i,r,o,l){return this.forEachFeatureAtCoordinate(e,t,i,r,To,this,o,l)!==void 0}getMap(){return this.map_}renderFrame(e){Me()}scheduleExpireIconCache(e){wn.canExpireCache()&&e.postRenderFunctions.push(tM)}}function tM(n,e){wn.expire()}class nM extends eM{constructor(e){super(e),this.fontChangeListenerKey_=ke(_i,Qs.PROPERTYCHANGE,e.redrawText,e),this.element_=document.createElement("div");const t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=wh+" ol-layers";const i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,t){const i=this.getMap();if(i.hasListener(e)){const r=new By(e,void 0,t);i.dispatchEvent(r)}}disposeInternal(){Ze(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(En.PRECOMPOSE,e);const t=e.layerStatesArray.sort((u,c)=>u.zIndex-c.zIndex);t.some(u=>u.layer instanceof Wy&&u.layer.getDeclutter())&&(e.declutter={});const r=e.viewState;this.children_.length=0;const o=[];let l=null;for(let u=0,c=t.length;u<c;++u){const d=t[u];e.layerIndex=u;const g=d.layer,p=g.getSourceState();if(!Zd(d,r)||p!="ready"&&p!="undefined"){g.unrender();continue}const _=g.render(e,l);_&&(_!==l&&(this.children_.push(_),l=_),o.push(d))}this.declutter(e,o),wE(this.element_,this.children_),this.dispatchRenderEvent(En.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,t){if(e.declutter){for(let i=t.length-1;i>=0;--i){const r=t[i],o=r.layer;o.getDeclutter()&&o.renderDeclutter(e,r)}t.forEach(i=>i.layer.renderDeferred(e))}}}function Uy(n){if(n instanceof Mh){n.setMapInternal(null);return}n instanceof ca&&n.getLayers().forEach(Uy)}function $y(n,e){if(n instanceof Mh){n.setMapInternal(e);return}if(n instanceof ca){const t=n.getLayers().getArray();for(let i=0,r=t.length;i<r;++i)$y(t[i],e)}}let iM=class extends Jn{constructor(e){super(),e=e||{},this.on,this.once,this.un;const t=rM(e);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:z_,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=On(),this.pixelToCoordinateTransform_=On(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=t.controls||RE(),this.interactions=t.interactions||XE({onFocusOnly:!0}),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new J2(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Tt.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Tt.VIEW,this.handleViewChanged_),this.addChangeListener(Tt.SIZE,this.handleSizeChanged_),this.addChangeListener(Tt.TARGET,this.handleTargetChanged_),this.setProperties(t.values);const i=this;e.view&&!(e.view instanceof Vn)&&e.view.then(function(r){i.setView(new Vn(r))}),this.controls.addEventListener(Kt.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(Kt.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(Kt.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(Kt.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(Kt.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(Kt.REMOVE,r=>{const o=r.element.getId();o!==void 0&&delete this.overlayIdIndex_[o.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){$y(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const t=e.getId();t!==void 0&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,i){if(!this.frameState_||!this.renderer_)return;const r=this.getCoordinateFromPixelInternal(e);i=i!==void 0?i:{};const o=i.hitTolerance!==void 0?i.hitTolerance:0,l=i.layerFilter!==void 0?i.layerFilter:To,u=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,o,u,t,null,l,null)}getFeaturesAtPixel(e,t){const i=[];return this.forEachFeatureAtPixel(e,function(r){i.push(r)},t),i}getAllLayers(){const e=[];function t(i){i.forEach(function(r){r instanceof ca?t(r.getLayers()):e.push(r)})}return t(this.getLayers()),e}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(e);t=t!==void 0?t:{};const r=t.layerFilter!==void 0?t.layerFilter:To,o=t.hitTolerance!==void 0?t.hitTolerance:0,l=t.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,o,l,r,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const i=this.viewport_.getBoundingClientRect(),r=this.getSize(),o=i.width/r[0],l=i.height/r[1],u="changedTouches"in e?e.changedTouches[0]:e;return[(u.clientX-i.left)/o,(u.clientY-i.top)/l]}getTarget(){return this.get(Tt.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return nd(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const t=this.frameState_;return t?xt(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const t=this.overlayIdIndex_[e.toString()];return t!==void 0?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Tt.LAYERGROUP)}setLayers(e){const t=this.getLayerGroup();if(e instanceof Hn){t.setLayers(e);return}const i=t.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){const r=e[t];if(!r.visible)continue;const o=r.layer.getRenderer();if(o&&!o.ready)return!0;const l=r.layer.getSource();if(l&&l.loading)return!0}return!1}getPixelFromCoordinate(e){const t=pi(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){const t=this.frameState_;return t?xt(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Tt.SIZE)}getView(){return this.get(Tt.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,i,r){return ex(this.frameState_,e,t,i,r)}handleBrowserEvent(e,t){t=t||e.type;const i=new nr(t,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;const t=e.originalEvent,i=t.type;if(i===Yf.POINTERDOWN||i===Se.WHEEL||i===Se.KEYDOWN){const r=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():r,l=t.target,u=o instanceof ShadowRoot?o.host===l?o.host.ownerDocument:o:o===r?r.documentElement:o;if(this.overlayContainerStopEvent_.contains(l)||!u.contains(l))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const r=this.getInteractions().getArray().slice();for(let o=r.length-1;o>=0;o--){const l=r[o];if(l.getMap()!==this||!l.getActive()||!this.getTargetElement())continue;if(!l.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let r=this.maxTilesLoading_,o=r;if(e){const l=e.viewHints;if(l[gt.ANIMATING]||l[gt.INTERACTING]){const u=Date.now()-e.time>8;r=u?0:8,o=u?0:2}}t.getTilesLoading()<r&&(t.reprioritize(),t.loadMoreTiles(r,o))}e&&this.renderer_&&!e.animate&&(this.renderComplete_?(this.hasListener(En.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(En.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new bs(ir.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new bs(ir.LOADSTART,this,e))));const i=this.postRenderFunctions_;if(e)for(let r=0,o=i.length;r<o;++r)i[r](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,r=this.targetChangeHandlerKeys_.length;i<r;++i)Ze(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Se.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Se.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host),this.setSize(void 0)}const e=this.getTarget(),t=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=t,!t)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new nM(this)),this.mapBrowserEventHandler_=new Z2(this,this.moveTolerance_);for(const o in Je)this.mapBrowserEventHandler_.addEventListener(Je[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Se.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Se.WHEEL,this.boundHandleBrowserEvent_,B_?{passive:!1}:!1);let i;if(this.keyboardEventTarget_)i=this.keyboardEventTarget_;else{const o=t.getRootNode();i=o instanceof ShadowRoot?o.host:t}this.targetChangeHandlerKeys_=[ke(i,Se.KEYDOWN,this.handleBrowserEvent,this),ke(i,Se.KEYPRESS,this.handleBrowserEvent,this)];const r=t.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_.observe(t)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Ze(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Ze(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=ke(e,Qs.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=ke(e,Se.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Ze),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new rr("addlayer",e)),this.layerGroupPropertyListenerKeys_=[ke(e,Qs.PROPERTYCHANGE,this.render,this),ke(e,Se.CHANGE,this.render,this),ke(e,"addlayer",this.handleLayerAdd_,this),ke(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){const r=e[t].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){Uy(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const t=this.getSize(),i=this.getView(),r=this.frameState_;let o=null;if(t!==void 0&&jp(t)&&i&&i.isDef()){const l=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),u=i.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:Uu(u.center,u.resolution,u.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:u,viewHints:l,wantedTiles:{},mapId:it(this),renderTargets:{}},u.nextCenter&&u.nextResolution){const c=isNaN(u.nextRotation)?u.rotation:u.nextRotation;o.nextExtent=Uu(u.nextCenter,u.nextResolution,c,t)}}this.frameState_=o,this.renderer_.renderFrame(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),r&&(!this.previousExtent_||!ua(this.previousExtent_)&&!Lo(o.extent,this.previousExtent_))&&(this.dispatchEvent(new bs(ir.MOVESTART,this,r)),this.previousExtent_=Yo(this.previousExtent_)),this.previousExtent_&&!o.viewHints[gt.ANIMATING]&&!o.viewHints[gt.INTERACTING]&&!Lo(o.extent,this.previousExtent_)&&(this.dispatchEvent(new bs(ir.MOVEEND,this,o)),$_(o.extent,this.previousExtent_))),this.dispatchEvent(new bs(ir.POSTRENDER,this,o)),this.renderComplete_=(this.hasListener(ir.LOADSTART)||this.hasListener(ir.LOADEND)||this.hasListener(En.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const t=this.getLayerGroup();t&&this.handleLayerRemove_(new rr("removelayer",t)),this.set(Tt.LAYERGROUP,e)}setSize(e){this.set(Tt.SIZE,e)}setTarget(e){this.set(Tt.TARGET,e)}setView(e){if(!e||e instanceof Vn){this.set(Tt.VIEW,e);return}this.set(Tt.VIEW,new Vn);const t=this;e.then(function(i){t.setView(new Vn(i))})}updateSize(){const e=this.getTargetElement();let t;if(e){const r=getComputedStyle(e),o=e.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),l=e.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(o)&&!isNaN(l)&&(t=[Math.max(0,o),Math.max(0,l)],!jp(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&Z_("No map visible because the map container's width or height are 0."))}const i=this.getSize();t&&(!i||!_r(t,i))&&(this.setSize(t),this.updateViewportSize_(t))}updateViewportSize_(e){const t=this.getView();t&&t.setViewportSize(e)}};function rM(n){let e=null;n.keyboardEventTarget!==void 0&&(e=typeof n.keyboardEventTarget=="string"?document.getElementById(n.keyboardEventTarget):n.keyboardEventTarget);const t={},i=n.layers&&typeof n.layers.getLayers=="function"?n.layers:new ca({layers:n.layers});t[Tt.LAYERGROUP]=i,t[Tt.TARGET]=n.target,t[Tt.VIEW]=n.view instanceof Vn?n.view:new Vn;let r;n.controls!==void 0&&(Array.isArray(n.controls)?r=new Hn(n.controls.slice()):(He(typeof n.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),r=n.controls));let o;n.interactions!==void 0&&(Array.isArray(n.interactions)?o=new Hn(n.interactions.slice()):(He(typeof n.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),o=n.interactions));let l;return n.overlays!==void 0?Array.isArray(n.overlays)?l=new Hn(n.overlays.slice()):(He(typeof n.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),l=n.overlays):l=new Hn,{controls:r,interactions:o,keyboardEventTarget:e,overlays:l,values:t}}class Lh extends Jn{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const t=e;this.setGeometry(t)}else{const t=e;this.setProperties(t)}}clone(){const e=new Lh(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const t=this.getGeometry();t&&e.setGeometry(t.clone());const i=this.getStyle();return i&&e.setStyle(i),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Ze(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=ke(e,Se.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?sM(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function sM(n){if(typeof n=="function")return n;let e;return Array.isArray(n)?e=n:(He(typeof n.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[n]),function(){return e}}function th(n,e,t,i,r,o,l){let u,c;const d=(t-e)/i;if(d===1)u=e;else if(d===2)u=e,c=r;else if(d!==0){let g=n[e],p=n[e+1],_=0;const v=[0];for(let w=e+i;w<t;w+=i){const C=n[w],S=n[w+1];_+=Math.sqrt((C-g)*(C-g)+(S-p)*(S-p)),v.push(_),g=C,p=S}const x=r*_,M=U2(v,x);M<0?(c=(x-v[-M-2])/(v[-M-1]-v[-M-2]),u=e+(-M-2)*i):u=e+M*i}l=l>1?l:2,o=o||new Array(l);for(let g=0;g<l;++g)o[g]=u===void 0?NaN:c===void 0?n[u+g]:un(n[u+g],n[u+i+g],c);return o}function hd(n,e,t,i,r,o){if(t==e)return null;let l;if(r<n[e+i-1])return o?(l=n.slice(e,e+i),l[i-1]=r,l):null;if(n[t-1]<r)return o?(l=n.slice(t-i,t),l[i-1]=r,l):null;if(r==n[e+i-1])return n.slice(e,e+i);let u=e/i,c=t/i;for(;u<c;){const _=u+c>>1;r<n[(_+1)*i-1]?c=_:u=_+1}const d=n[u*i-1];if(r==d)return n.slice((u-1)*i,(u-1)*i+i);const g=n[(u+1)*i-1],p=(r-d)/(g-d);l=[];for(let _=0;_<i-1;++_)l.push(un(n[(u-1)*i+_],n[u*i+_],p));return l.push(r),l}function aM(n,e,t,i,r,o,l){if(l)return hd(n,e,t[t.length-1],i,r,o);let u;if(r<n[i-1])return o?(u=n.slice(0,i),u[i-1]=r,u):null;if(n[n.length-1]<r)return o?(u=n.slice(n.length-i),u[i-1]=r,u):null;for(let c=0,d=t.length;c<d;++c){const g=t[c];if(e!=g){if(r<n[e+i-1])return null;if(r<=n[g-1])return hd(n,e,g,i,r,!1);e=g}}return null}function Vy(n,e,t,i){let r=n[e],o=n[e+1],l=0;for(let u=e+i;u<t;u+=i){const c=n[u],d=n[u+1];l+=Math.sqrt((c-r)*(c-r)+(d-o)*(d-o)),r=c,o=d}return l}class aa extends Qr{constructor(e,t){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendCoordinate(e){Kn(this.flatCoordinates,e),this.changed()}clone(){const e=new aa(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,r){return r<Zr(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Nd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Fd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,i,r))}forEachSegment(e){return my(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,t){return this.layout!="XYM"&&this.layout!="XYZM"?null:(t=t!==void 0?t:!1,hd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t))}getCoordinates(){return ar(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,t){return th(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)}getLength(){return Vy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const t=[];return t.length=xh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new aa(t,"XY")}getType(){return"LineString"}intersectsExtent(e){return Eh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,this.getExtent())}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=vh(this.flatCoordinates,0,e,this.stride),this.changed()}}class Xy{drawCustom(e,t,i,r,o){}drawGeometry(e){}setStyle(e){}drawCircle(e,t,i){}drawFeature(e,t,i){}drawGeometryCollection(e,t,i){}drawLineString(e,t,i){}drawMultiLineString(e,t,i){}drawMultiPoint(e,t,i){}drawMultiPolygon(e,t,i){}drawPoint(e,t,i){}drawPolygon(e,t,i){}drawText(e,t,i){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}}class oM extends Xy{constructor(e,t,i,r,o,l,u){super(),this.context_=e,this.pixelRatio_=t,this.extent_=i,this.transform_=r,this.transformRotation_=r?U_(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=o,this.squaredTolerance_=l,this.userTransform_=u,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=On()}drawImages_(e,t,i,r){if(!this.image_)return;const o=ur(e,t,i,r,this.transform_,this.pixelCoordinates_),l=this.context_,u=this.tmpLocalTransform_,c=l.globalAlpha;this.imageOpacity_!=1&&(l.globalAlpha=c*this.imageOpacity_);let d=this.imageRotation_;this.transformRotation_===0&&(d-=this.viewRotation_),this.imageRotateWithView_&&(d+=this.viewRotation_);for(let g=0,p=o.length;g<p;g+=2){const _=o[g]-this.imageAnchorX_,v=o[g+1]-this.imageAnchorY_;if(d!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const x=_+this.imageAnchorX_,M=v+this.imageAnchorY_;Mi(u,x,M,1,1,d,-x,-M),l.save(),l.transform.apply(l,u),l.translate(x,M),l.scale(this.imageScale_[0],this.imageScale_[1]),l.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),l.restore()}else l.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,_,v,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(l.globalAlpha=c)}drawText_(e,t,i,r){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const o=ur(e,t,i,r,this.transform_,this.pixelCoordinates_),l=this.context_;let u=this.textRotation_;for(this.transformRotation_===0&&(u-=this.viewRotation_),this.textRotateWithView_&&(u+=this.viewRotation_);t<i;t+=r){const c=o[t]+this.textOffsetX_,d=o[t+1]+this.textOffsetY_;u!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(l.save(),l.translate(c-this.textOffsetX_,d-this.textOffsetY_),l.rotate(u),l.translate(this.textOffsetX_,this.textOffsetY_),l.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&l.strokeText(this.text_,0,0),this.textFillState_&&l.fillText(this.text_,0,0),l.restore()):(this.textStrokeState_&&l.strokeText(this.text_,c,d),this.textFillState_&&l.fillText(this.text_,c,d))}}moveToLineTo_(e,t,i,r,o){const l=this.context_,u=ur(e,t,i,r,this.transform_,this.pixelCoordinates_);l.moveTo(u[0],u[1]);let c=u.length;o&&(c-=2);for(let d=2;d<c;d+=2)l.lineTo(u[d],u[d+1]);return o&&l.closePath(),i}drawRings_(e,t,i,r){for(let o=0,l=i.length;o<l;++o)t=this.moveToLineTo_(e,t,i[o],r,!0);return t}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!jt(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=Zx(e,this.transform_,this.pixelCoordinates_),i=t[2]-t[0],r=t[3]-t[1],o=Math.sqrt(i*i+r*r),l=this.context_;l.beginPath(),l.arc(t[0],t[1],o,0,2*Math.PI),this.fillState_&&l.fill(),this.strokeState_&&l.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}}drawFeature(e,t){const i=t.getGeometryFunction()(e);i&&(this.setStyle(t),this.drawGeometry(i))}drawGeometryCollection(e){const t=e.getGeometriesArray();for(let i=0,r=t.length;i<r;++i)this.drawGeometry(t[i])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!jt(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),t.stroke()}if(this.text_!==""){const t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getExtent();if(jt(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const i=this.context_,r=e.getFlatCoordinates();let o=0;const l=e.getEnds(),u=e.getStride();i.beginPath();for(let c=0,d=l.length;c<d;++c)o=this.moveToLineTo_(r,o,l[c],u,!1);i.stroke()}if(this.text_!==""){const i=e.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!jt(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!jt(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getOrientedFlatCoordinates();let r=0;const o=e.getEndss(),l=e.getStride();t.beginPath();for(let u=0,c=o.length;u<c;++u){const d=o[u];r=this.drawRings_(i,r,d,l)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){const t=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const t=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,t.lineCap=e.lineCap),_r(i.lineDash,e.lineDash)||t.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const t=this.context_,i=this.contextTextState_,r=e.textAlign?e.textAlign:bo;i?(i.font!=e.font&&(i.font=e.font,t.font=e.font),i.textAlign!=r&&(i.textAlign=r,t.textAlign=r),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=r,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:r,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(!e)this.fillState_=null;else{const i=e.getColor();this.fillState_={fillStyle:Yn(i||Qt)}}if(!t)this.strokeState_=null;else{const i=t.getColor(),r=t.getLineCap(),o=t.getLineDash(),l=t.getLineDashOffset(),u=t.getLineJoin(),c=t.getWidth(),d=t.getMiterLimit(),g=o||vi;this.strokeState_={lineCap:r!==void 0?r:ra,lineDash:this.pixelRatio_===1?g:g.map(p=>p*this.pixelRatio_),lineDashOffset:(l||xi)*this.pixelRatio_,lineJoin:u!==void 0?u:sa,lineWidth:(c!==void 0?c:zo)*this.pixelRatio_,miterLimit:d!==void 0?d:Do,strokeStyle:Yn(i||Fo)}}}setImageStyle(e){let t;if(!e||!(t=e.getSize())){this.image_=null;return}const i=e.getPixelRatio(this.pixelRatio_),r=e.getAnchor(),o=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*i,this.imageAnchorY_=r[1]*i,this.imageHeight_=t[1]*i,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const l=e.getScaleArray();this.imageScale_=[l[0]*this.pixelRatio_/i,l[1]*this.pixelRatio_/i],this.imageWidth_=t[0]*i}setTextStyle(e){if(!e)this.text_="";else{const t=e.getFill();if(!t)this.textFillState_=null;else{const v=t.getColor();this.textFillState_={fillStyle:Yn(v||Qt)}}const i=e.getStroke();if(!i)this.textStrokeState_=null;else{const v=i.getColor(),x=i.getLineCap(),M=i.getLineDash(),w=i.getLineDashOffset(),C=i.getLineJoin(),S=i.getWidth(),L=i.getMiterLimit();this.textStrokeState_={lineCap:x!==void 0?x:ra,lineDash:M||vi,lineDashOffset:w||xi,lineJoin:C!==void 0?C:sa,lineWidth:S!==void 0?S:zo,miterLimit:L!==void 0?L:Do,strokeStyle:Yn(v||Fo)}}const r=e.getFont(),o=e.getOffsetX(),l=e.getOffsetY(),u=e.getRotateWithView(),c=e.getRotation(),d=e.getScaleArray(),g=e.getText(),p=e.getTextAlign(),_=e.getTextBaseline();this.textState_={font:r!==void 0?r:Ny,textAlign:p!==void 0?p:bo,textBaseline:_!==void 0?_:Zu},this.text_=g!==void 0?Array.isArray(g)?g.reduce((v,x,M)=>v+=M%2?" ":x,""):g:"",this.textOffsetX_=o!==void 0?this.pixelRatio_*o:0,this.textOffsetY_=l!==void 0?this.pixelRatio_*l:0,this.textRotateWithView_=u!==void 0?u:!1,this.textRotation_=c!==void 0?c:0,this.textScale_=[this.pixelRatio_*d[0],this.pixelRatio_*d[1]]}}}const lM=.5,Hy={Point:pM,LineString:dM,Polygon:yM,MultiPoint:_M,MultiLineString:gM,MultiPolygon:mM,GeometryCollection:fM,Circle:hM};function uM(n,e){return parseInt(it(n),10)-parseInt(it(e),10)}function Qp(n,e){const t=Yy(n,e);return t*t}function Yy(n,e){return lM*n/e}function hM(n,e,t,i,r){const o=t.getFill(),l=t.getStroke();if(o||l){const c=n.getBuilder(t.getZIndex(),"Circle");c.setFillStrokeStyle(o,l),c.drawCircle(e,i,r)}const u=t.getText();if(u&&u.getText()){const c=n.getBuilder(t.getZIndex(),"Text");c.setTextStyle(u),c.drawText(e,i)}}function Jp(n,e,t,i,r,o,l,u){const c=[],d=t.getImage();if(d){let _=!0;const v=d.getImageState();v==fe.LOADED||v==fe.ERROR?_=!1:v==fe.IDLE&&d.load(),_&&c.push(d.ready())}const g=t.getFill();g&&g.loading()&&c.push(g.ready());const p=c.length>0;return p&&Promise.all(c).then(()=>r(null)),cM(n,e,t,i,o,l,u),p}function cM(n,e,t,i,r,o,l){const u=t.getGeometryFunction()(e);if(!u)return;const c=u.simplifyTransformed(i,r);if(t.getRenderer())qy(n,c,t,e,l);else{const g=Hy[c.getType()];g(n,c,t,e,l,o)}}function qy(n,e,t,i,r){if(e.getType()=="GeometryCollection"){const l=e.getGeometries();for(let u=0,c=l.length;u<c;++u)qy(n,l[u],t,i,r);return}n.getBuilder(t.getZIndex(),"Default").drawCustom(e,i,t.getRenderer(),t.getHitDetectionRenderer(),r)}function fM(n,e,t,i,r,o){const l=e.getGeometriesArray();let u,c;for(u=0,c=l.length;u<c;++u){const d=Hy[l[u].getType()];d(n,l[u],t,i,r,o)}}function dM(n,e,t,i,r){const o=t.getStroke();if(o){const u=n.getBuilder(t.getZIndex(),"LineString");u.setFillStrokeStyle(null,o),u.drawLineString(e,i,r)}const l=t.getText();if(l&&l.getText()){const u=n.getBuilder(t.getZIndex(),"Text");u.setTextStyle(l),u.drawText(e,i,r)}}function gM(n,e,t,i,r){const o=t.getStroke();if(o){const u=n.getBuilder(t.getZIndex(),"LineString");u.setFillStrokeStyle(null,o),u.drawMultiLineString(e,i,r)}const l=t.getText();if(l&&l.getText()){const u=n.getBuilder(t.getZIndex(),"Text");u.setTextStyle(l),u.drawText(e,i,r)}}function mM(n,e,t,i,r){const o=t.getFill(),l=t.getStroke();if(l||o){const c=n.getBuilder(t.getZIndex(),"Polygon");c.setFillStrokeStyle(o,l),c.drawMultiPolygon(e,i,r)}const u=t.getText();if(u&&u.getText()){const c=n.getBuilder(t.getZIndex(),"Text");c.setTextStyle(u),c.drawText(e,i,r)}}function pM(n,e,t,i,r,o){const l=t.getImage(),u=t.getText(),c=u&&u.getText(),d=o&&l&&c?{}:void 0;if(l){if(l.getImageState()!=fe.LOADED)return;const g=n.getBuilder(t.getZIndex(),"Image");g.setImageStyle(l,d),g.drawPoint(e,i,r)}if(c){const g=n.getBuilder(t.getZIndex(),"Text");g.setTextStyle(u,d),g.drawText(e,i,r)}}function _M(n,e,t,i,r,o){const l=t.getImage(),u=l&&l.getOpacity()!==0,c=t.getText(),d=c&&c.getText(),g=o&&u&&d?{}:void 0;if(u){if(l.getImageState()!=fe.LOADED)return;const p=n.getBuilder(t.getZIndex(),"Image");p.setImageStyle(l,g),p.drawMultiPoint(e,i,r)}if(d){const p=n.getBuilder(t.getZIndex(),"Text");p.setTextStyle(c,g),p.drawText(e,i,r)}}function yM(n,e,t,i,r){const o=t.getFill(),l=t.getStroke();if(o||l){const c=n.getBuilder(t.getZIndex(),"Polygon");c.setFillStrokeStyle(o,l),c.drawPolygon(e,i,r)}const u=t.getText();if(u&&u.getText()){const c=n.getBuilder(t.getZIndex(),"Text");c.setTextStyle(u),c.drawText(e,i,r)}}let vM=!1;function xM(n,e,t,i,r,o,l){const u=new XMLHttpRequest;u.open("GET",typeof n=="function"?n(t,i,r):n,!0),e.getType()=="arraybuffer"&&(u.responseType="arraybuffer"),u.withCredentials=vM,u.onload=function(c){if(!u.status||u.status>=200&&u.status<300){const d=e.getType();try{let g;d=="text"||d=="json"?g=u.responseText:d=="xml"?g=u.responseXML||u.responseText:d=="arraybuffer"&&(g=u.response),g?o(e.readFeatures(g,{extent:t,featureProjection:r}),e.readProjection(g)):l()}catch{l()}}else l()},u.onerror=l,u.send()}function e_(n,e){return function(t,i,r,o,l){xM(n,e,t,i,r,(u,c)=>{this.addFeatures(u),o!==void 0&&o(u)},l||Js)}}function EM(n,e){return[[-1/0,-1/0,1/0,1/0]]}function Ky(n,e,t,i){const r=[];let o=Dn();for(let l=0,u=t.length;l<u;++l){const c=t[l];o=Md(n,e,c[0],i),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=c[c.length-1]}return r}class nh extends ly{constructor(e){super(),this.geometries_=e,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(Ze),this.changeEventsKeys_.length=0}listenGeometriesChange_(){const e=this.geometries_;for(let t=0,i=e.length;t<i;++t)this.changeEventsKeys_.push(ke(e[t],Se.CHANGE,this.changed,this))}clone(){const e=new nh(bf(this.geometries_));return e.applyProperties(this),e}closestPointXY(e,t,i,r){if(r<Zr(this.getExtent(),e,t))return r;const o=this.geometries_;for(let l=0,u=o.length;l<u;++l)r=o[l].closestPointXY(e,t,i,r);return r}containsXY(e,t){const i=this.geometries_;for(let r=0,o=i.length;r<o;++r)if(i[r].containsXY(e,t))return!0;return!1}computeExtent(e){Yo(e);const t=this.geometries_;for(let i=0,r=t.length;i<r;++i)X_(e,t[i].getExtent());return e}getGeometries(){return bf(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const t=this.geometries_;for(let i=0,r=t.length;i<r;++i)t[i].getType()===this.getType()?e=e.concat(t[i].getGeometriesArrayRecursive()):e.push(t[i]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=[],i=this.geometries_;let r=!1;for(let o=0,l=i.length;o<l;++o){const u=i[o],c=u.getSimplifiedGeometry(e);t.push(c),c!==u&&(r=!0)}return r?new nh(t):(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getType(){return"GeometryCollection"}intersectsExtent(e){const t=this.geometries_;for(let i=0,r=t.length;i<r;++i)if(t[i].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,t){const i=this.geometries_;for(let r=0,o=i.length;r<o;++r)i[r].rotate(e,t);this.changed()}scale(e,t,i){i||(i=wi(this.getExtent()));const r=this.geometries_;for(let o=0,l=r.length;o<l;++o)r[o].scale(e,t,i);this.changed()}setGeometries(e){this.setGeometriesArray(bf(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const t=this.geometries_;for(let i=0,r=t.length;i<r;++i)t[i].applyTransform(e);this.changed()}translate(e,t){const i=this.geometries_;for(let r=0,o=i.length;r<o;++r)i[r].translate(e,t);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function bf(n){return n.map(e=>e.clone())}class ih extends Qr{constructor(e,t,i){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,t);else if(t!==void 0&&i)this.setFlatCoordinates(t,e),this.ends_=i;else{const r=e,o=[],l=[];for(let c=0,d=r.length;c<d;++c){const g=r[c];Kn(o,g.getFlatCoordinates()),l.push(o.length)}const u=r.length===0?this.getLayout():r[0].getLayout();this.setFlatCoordinates(u,o),this.ends_=l}}appendLineString(e){Kn(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new ih(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,r){return r<Zr(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Dd(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),bd(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,i,r))}getCoordinateAtM(e,t,i){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(t=t!==void 0?t:!1,i=i!==void 0?i:!1,aM(this.flatCoordinates,0,this.ends_,this.stride,e,t,i))}getCoordinates(){return ko(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new aa(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,t=this.ends_,i=this.layout,r=[];let o=0;for(let l=0,u=t.length;l<u;++l){const c=t[l],d=new aa(e.slice(o,c),i);r.push(d),o=c}return r}getFlatMidpoints(){const e=[],t=this.flatCoordinates;let i=0;const r=this.ends_,o=this.stride;for(let l=0,u=r.length;l<u;++l){const c=r[l],d=th(t,i,c,o,.5);Kn(e,d),i=c}return e}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=fy(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,i),new ih(t,"XY",i)}getType(){return"MultiLineString"}intersectsExtent(e){return aE(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=Ko(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}class Ah extends Qr{constructor(e,t){super(),t&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendPoint(e){Kn(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}clone(){const e=new Ah(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,r){if(r<Zr(this.getExtent(),e,t))return r;const o=this.flatCoordinates,l=this.stride;for(let u=0,c=o.length;u<c;u+=l){const d=Vr(e,t,o[u],o[u+1]);if(d<r){r=d;for(let g=0;g<l;++g)i[g]=o[u+g];i.length=l}}return r}getCoordinates(){return ar(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const t=this.flatCoordinates.length/this.stride;return e<0||t<=e?null:new Yu(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,t=this.layout,i=this.stride,r=[];for(let o=0,l=e.length;o<l;o+=i){const u=new Yu(e.slice(o,o+i),t);r.push(u)}return r}getType(){return"MultiPoint"}intersectsExtent(e){const t=this.flatCoordinates,i=this.stride;for(let r=0,o=t.length;r<o;r+=i){const l=t[r],u=t[r+1];if(wd(e,l,u))return!0}return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=vh(this.flatCoordinates,0,e,this.stride),this.changed()}}class rh extends Qr{constructor(e,t,i){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){const r=e,o=[],l=[];for(let u=0,c=r.length;u<c;++u){const d=r[u],g=o.length,p=d.getEnds();for(let _=0,v=p.length;_<v;++_)p[_]+=g;Kn(o,d.getFlatCoordinates()),l.push(p)}t=r.length===0?this.getLayout():r[0].getLayout(),e=o,i=l}t!==void 0&&i?(this.setFlatCoordinates(t,e),this.endss_=i):this.setCoordinates(e,t)}appendPolygon(e){let t;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();else{const i=this.flatCoordinates.length;Kn(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice();for(let r=0,o=t.length;r<o;++r)t[r]+=i}this.endss_.push(t),this.changed()}clone(){const e=this.endss_.length,t=new Array(e);for(let r=0;r<e;++r)t[r]=this.endss_[r].slice();const i=new rh(this.flatCoordinates.slice(),this.layout,t);return i.applyProperties(this),i}closestPointXY(e,t,i,r){return r<Zr(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Jx(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),eE(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,i,r))}containsXY(e,t){return sE(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)}getArea(){return Qx(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),rd(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,id(t,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=Ky(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=gy(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new Ah(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;_y(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=rd(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=iE(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,i),new rh(t,"XY",i)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let t;if(e===0)t=0;else{const o=this.endss_[e-1];t=o[o.length-1]}const i=this.endss_[e].slice(),r=i[i.length-1];if(t!==0)for(let o=0,l=i.length;o<l;++o)i[o]-=t;return new dr(this.flatCoordinates.slice(t,r),this.layout,i)}getPolygons(){const e=this.layout,t=this.flatCoordinates,i=this.endss_,r=[];let o=0;for(let l=0,u=i.length;l<u;++l){const c=i[l].slice(),d=c[c.length-1];if(o!==0)for(let p=0,_=c.length;p<_;++p)c[p]-=o;const g=new dr(t.slice(o,d),e,c);r.push(g),o=d}return r}getType(){return"MultiPolygon"}intersectsExtent(e){return lE(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const i=cy(this.flatCoordinates,0,e,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{const r=i[i.length-1];this.flatCoordinates.length=r.length===0?0:r[r.length-1]}this.changed()}}const t_=On();class hn{constructor(e,t,i,r,o,l){this.styleFunction,this.extent_,this.id_=l,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=o,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?V_(this.flatCoordinates_):Md(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=wi(this.getExtent());this.flatInteriorPoints_=jd(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=hE(this.flatCoordinates_,this.ends_),t=Ky(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=gy(this.flatCoordinates_,0,e,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=th(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let t=0;const i=this.ends_;for(let r=0,o=i.length;r<o;++r){const l=i[r],u=th(e,t,l,2,.5);Kn(this.flatMidpoints_,u),t=l}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,t){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){e=et(e);const t=e.getExtent(),i=e.getWorldExtent();if(t&&i){const r=mt(i)/mt(t);Mi(t_,i[0],i[3],r,-r,0,0,0),ur(this.flatCoordinates_,0,this.flatCoordinates_.length,2,t_,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){var e;return new hn(this.type_,this.flatCoordinates_.slice(),(e=this.ends_)==null?void 0:e.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=D_((e,t)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),t&&this.simplifiedGeometry_.applyTransform(t);const i=this.simplifiedGeometry_.getFlatCoordinates();let r;switch(this.type_){case"LineString":i.length=xh(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,i,0),r=[i.length];break;case"MultiLineString":r=[],i.length=fy(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,i,0,r);break;case"Polygon":r=[],i.length=zd(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),i,0,r);break}return r&&(this.simplifiedGeometry_=new hn(this.type_,i,r,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}}hn.prototype.getFlatCoordinates=hn.prototype.getOrientedFlatCoordinates;class n_{constructor(e){this.rbush_=new Sy(e),this.items_={}}insert(e,t){const i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(i),this.items_[it(t)]=i}load(e,t){const i=new Array(t.length);for(let r=0,o=t.length;r<o;r++){const l=e[r],u=t[r],c={minX:l[0],minY:l[1],maxX:l[2],maxY:l[3],value:u};i[r]=c,this.items_[it(u)]=c}this.rbush_.load(i)}remove(e){const t=it(e),i=this.items_[t];return delete this.items_[t],this.rbush_.remove(i)!==null}update(e,t){const i=this.items_[it(t)],r=[i.minX,i.minY,i.maxX,i.maxY];Lo(r,e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map(function(t){return t.value})}getInExtent(e){const t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map(function(r){return r.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let i;for(let r=0,o=e.length;r<o;r++)if(i=t(e[r]),i)return i;return i}isEmpty(){return Xr(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const t=this.rbush_.toJSON();return ea(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const t in e.items_)this.items_[t]=e.items_[t]}}class Zy extends Jn{constructor(e){super(),this.projection=et(e.projection),this.attributions_=i_(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const t=this;this.viewPromise_=new Promise(function(i,r){t.viewResolver=i,t.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=i_(e),this.changed()}setState(e){this.state_=e,this.changed()}}function i_(n){return n?typeof n=="function"?n:(Array.isArray(n)||(n=[n]),e=>n):null}const vn={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};class Ji extends Ci{constructor(e,t,i){super(e),this.feature=t,this.features=i}}class wM extends Zy{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=Js,this.format_=e.format||null,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(He(this.format_,"`format` must be set when `url` is set"),this.loader_=e_(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:EM;const t=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=t?new n_:null,this.loadedExtentsRtree_=new n_,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let i,r;Array.isArray(e.features)?r=e.features:e.features&&(i=e.features,r=i.getArray()),!t&&i===void 0&&(i=new Hn(r)),r!==void 0&&this.addFeaturesInternal(r),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const t=it(e);if(!this.addToIndex_(t,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(t,e);const i=e.getGeometry();if(i){const r=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new Ji(vn.ADDFEATURE,e))}setupChangeEvents_(e,t){t instanceof hn||(this.featureChangeKeys_[e]=[ke(t,Se.CHANGE,this.handleFeatureChange_,this),ke(t,Qs.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,t){let i=!0;if(t.getId()!==void 0){const r=String(t.getId());if(!(r in this.idIndex_))this.idIndex_[r]=t;else if(t instanceof hn){const o=this.idIndex_[r];o instanceof hn?Array.isArray(o)?o.push(t):this.idIndex_[r]=[o,t]:i=!1}else i=!1}return i&&(He(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=t),i}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const t=[],i=[],r=[];for(let o=0,l=e.length;o<l;o++){const u=e[o],c=it(u);this.addToIndex_(c,u)&&i.push(u)}for(let o=0,l=i.length;o<l;o++){const u=i[o],c=it(u);this.setupChangeEvents_(c,u);const d=u.getGeometry();if(d){const g=d.getExtent();t.push(g),r.push(u)}else this.nullGeometryFeatures_[c]=u}if(this.featuresRtree_&&this.featuresRtree_.load(t,r),this.hasListener(vn.ADDFEATURE))for(let o=0,l=i.length;o<l;o++)this.dispatchEvent(new Ji(vn.ADDFEATURE,i[o]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(vn.ADDFEATURE,function(i){t||(t=!0,e.push(i.feature),t=!1)}),this.addEventListener(vn.REMOVEFEATURE,function(i){t||(t=!0,e.remove(i.feature),t=!1)}),e.addEventListener(Kt.ADD,i=>{t||(t=!0,this.addFeature(i.element),t=!1)}),e.addEventListener(Kt.REMOVE,i=>{t||(t=!0,this.removeFeature(i.element),t=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(Ze);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(i=>{this.removeFeatureInternal(i)});for(const i in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const t=new Ji(vn.CLEAR);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){const i=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(i,function(r){const o=r.getGeometry();if(o instanceof hn||o.intersectsCoordinate(e))return t(r)})}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,function(i){const r=i.getGeometry();if(r instanceof hn||r.intersectsExtent(e)){const o=t(i);if(o)return o}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),Xr(this.nullGeometryFeatures_)||Kn(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const t=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){t.push(i)}),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const r=hx(e,t);return[].concat(...r.map(o=>this.featuresRtree_.getInExtent(o)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){const i=e[0],r=e[1];let o=null;const l=[NaN,NaN];let u=1/0;const c=[-1/0,-1/0,1/0,1/0];return t=t||To,this.featuresRtree_.forEachInExtent(c,function(d){if(t(d)){const g=d.getGeometry(),p=u;if(u=g instanceof hn?0:g.closestPointXY(i,r,l,u),u<p){o=d;const _=Math.sqrt(u);c[0]=i-_,c[1]=r-_,c[2]=i+_,c[3]=r+_}}}),o}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const t=this.idIndex_[e.toString()];return t!==void 0?t:null}getFeatureByUid(e){const t=this.uidIndex_[e];return t!==void 0?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const t=e.target,i=it(t),r=t.getGeometry();if(!r)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[i]=t);else{const l=r.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(l,t)):this.featuresRtree_&&this.featuresRtree_.update(l,t)}const o=t.getId();if(o!==void 0){const l=o.toString();this.idIndex_[l]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[l]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[i]=t;this.changed(),this.dispatchEvent(new Ji(vn.CHANGEFEATURE,t))}hasFeature(e){const t=e.getId();return t!==void 0?t in this.idIndex_:it(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Xr(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,t,i){const r=this.loadedExtentsRtree_,o=this.strategy_(e,t,i);for(let l=0,u=o.length;l<u;++l){const c=o[l];r.forEachInExtent(c,function(g){return sr(g.extent,c)})||(++this.loadingExtentsCount_,this.dispatchEvent(new Ji(vn.FEATURESLOADSTART)),this.loader_.call(this,c,t,i,g=>{--this.loadingExtentsCount_,this.dispatchEvent(new Ji(vn.FEATURESLOADEND,void 0,g))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Ji(vn.FEATURESLOADERROR))}),r.insert(c,{extent:c.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const t=this.loadedExtentsRtree_,i=t.forEachInExtent(e,function(r){if(Lo(r.extent,e))return r});i&&t.remove(i)}removeFeatures(e){let t=!1;for(let i=0,r=e.length;i<r;++i)t=this.removeFeatureInternal(e[i])||t;t&&this.changed()}removeFeature(e){if(!e)return;this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const t=it(e);if(!(t in this.uidIndex_))return!1;t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e);const i=this.featureChangeKeys_[t];i==null||i.forEach(Ze),delete this.featureChangeKeys_[t];const r=e.getId();if(r!==void 0){const o=r.toString(),l=this.idIndex_[o];l===e?delete this.idIndex_[o]:Array.isArray(l)&&(l.splice(l.indexOf(e),1),l.length===1&&(this.idIndex_[o]=l[0]))}return delete this.uidIndex_[t],this.hasListener(vn.REMOVEFEATURE)&&this.dispatchEvent(new Ji(vn.REMOVEFEATURE,e)),!0}removeFromIdIndex_(e){for(const t in this.idIndex_)if(this.idIndex_[t]===e){delete this.idIndex_[t];break}}setLoader(e){this.loader_=e}setUrl(e){He(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(e_(e,this.format_))}setOverlaps(e){this.overlaps_=e,this.changed()}}const me={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Tu=[me.FILL],or=[me.STROKE],Ur=[me.BEGIN_PATH],r_=[me.CLOSE_PATH];class tl extends Xy{constructor(e,t,i,r){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const t=this.pixelRatio;return t==1?e:e.map(function(i){return i*t})}appendFlatPointCoordinates(e,t){const i=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,o=this.coordinates;let l=o.length;for(let u=0,c=e.length;u<c;u+=t)r[0]=e[u],r[1]=e[u+1],Po(i,r)&&(o[l++]=r[0],o[l++]=r[1]);return l}appendFlatLineCoordinates(e,t,i,r,o,l){const u=this.coordinates;let c=u.length;const d=this.getBufferedMaxExtent();l&&(t+=r);let g=e[t],p=e[t+1];const _=this.tmpCoordinate_;let v=!0,x,M,w;for(x=t+r;x<i;x+=r)_[0]=e[x],_[1]=e[x+1],w=Kf(d,_),w!==M?(v&&(u[c++]=g,u[c++]=p,v=!1),u[c++]=_[0],u[c++]=_[1]):w===dt.INTERSECTING?(u[c++]=_[0],u[c++]=_[1],v=!1):v=!0,g=_[0],p=_[1],M=w;return(o&&v||x===t+r)&&(u[c++]=g,u[c++]=p),c}drawCustomCoordinates_(e,t,i,r,o){for(let l=0,u=i.length;l<u;++l){const c=i[l],d=this.appendFlatLineCoordinates(e,t,c,r,!1,!1);o.push(d),t=c}return t}drawCustom(e,t,i,r,o){this.beginGeometry(e,t,o);const l=e.getType(),u=e.getStride(),c=this.coordinates.length;let d,g,p,_,v;switch(l){case"MultiPolygon":d=e.getOrientedFlatCoordinates(),_=[];const x=e.getEndss();v=0;for(let M=0,w=x.length;M<w;++M){const C=[];v=this.drawCustomCoordinates_(d,v,x[M],u,C),_.push(C)}this.instructions.push([me.CUSTOM,c,_,e,i,id,o]),this.hitDetectionInstructions.push([me.CUSTOM,c,_,e,r||i,id,o]);break;case"Polygon":case"MultiLineString":p=[],d=l=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),v=this.drawCustomCoordinates_(d,0,e.getEnds(),u,p),this.instructions.push([me.CUSTOM,c,p,e,i,ko,o]),this.hitDetectionInstructions.push([me.CUSTOM,c,p,e,r||i,ko,o]);break;case"LineString":case"Circle":d=e.getFlatCoordinates(),g=this.appendFlatLineCoordinates(d,0,d.length,u,!1,!1),this.instructions.push([me.CUSTOM,c,g,e,i,ar,o]),this.hitDetectionInstructions.push([me.CUSTOM,c,g,e,r||i,ar,o]);break;case"MultiPoint":d=e.getFlatCoordinates(),g=this.appendFlatPointCoordinates(d,u),g>c&&(this.instructions.push([me.CUSTOM,c,g,e,i,ar,o]),this.hitDetectionInstructions.push([me.CUSTOM,c,g,e,r||i,ar,o]));break;case"Point":d=e.getFlatCoordinates(),this.coordinates.push(d[0],d[1]),g=this.coordinates.length,this.instructions.push([me.CUSTOM,c,g,e,i,void 0,o]),this.hitDetectionInstructions.push([me.CUSTOM,c,g,e,r||i,void 0,o]);break}this.endGeometry(t)}beginGeometry(e,t,i){this.beginGeometryInstruction1_=[me.BEGIN_GEOMETRY,t,0,e,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[me.BEGIN_GEOMETRY,t,0,e,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;e.reverse();let t;const i=e.length;let r,o,l=-1;for(t=0;t<i;++t)r=e[t],o=r[0],o==me.END_GEOMETRY?l=t:o==me.BEGIN_GEOMETRY&&(r[2]=t,V2(this.hitDetectionInstructions,l,t),l=-1)}fillStyleToState(e,t={}){if(e){const i=e.getColor();t.fillPatternScale=i&&typeof i=="object"&&"src"in i?this.pixelRatio:1,t.fillStyle=Yn(i||Qt)}else t.fillStyle=void 0;return t}strokeStyleToState(e,t={}){if(e){const i=e.getColor();t.strokeStyle=Yn(i||Fo);const r=e.getLineCap();t.lineCap=r!==void 0?r:ra;const o=e.getLineDash();t.lineDash=o?o.slice():vi;const l=e.getLineDashOffset();t.lineDashOffset=l||xi;const u=e.getLineJoin();t.lineJoin=u!==void 0?u:sa;const c=e.getWidth();t.lineWidth=c!==void 0?c:zo;const d=e.getMiterLimit();t.miterLimit=d!==void 0?d:Do,t.lineWidth>this.maxLineWidth&&(this.maxLineWidth=t.lineWidth,this.bufferedMaxExtent_=null)}else t.strokeStyle=void 0,t.lineCap=void 0,t.lineDash=null,t.lineDashOffset=void 0,t.lineJoin=void 0,t.lineWidth=void 0,t.miterLimit=void 0;return t}setFillStrokeStyle(e,t){const i=this.state;this.fillStyleToState(e,i),this.strokeStyleToState(t,i)}createFill(e){const t=e.fillStyle,i=[me.SET_FILL_STYLE,t];return typeof t!="string"&&i.push(e.fillPatternScale),i}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[me.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,e.lineDash?this.applyPixelRatio(e.lineDash):null,e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){const i=e.fillStyle;(typeof i!="string"||e.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(t.call(this,e)),e.currentFillStyle=i)}updateStrokeStyle(e,t){const i=e.strokeStyle,r=e.lineCap,o=e.lineDash,l=e.lineDashOffset,u=e.lineJoin,c=e.lineWidth,d=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=r||o!=e.currentLineDash&&!_r(e.currentLineDash,o)||e.currentLineDashOffset!=l||e.currentLineJoin!=u||e.currentLineWidth!=c||e.currentMiterLimit!=d)&&(i!==void 0&&t.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=r,e.currentLineDash=o,e.currentLineDashOffset=l,e.currentLineJoin=u,e.currentLineWidth=c,e.currentMiterLimit=d)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const t=[me.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=$_(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;Ed(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class MM extends tl{constructor(e,t,i,r){super(e,t,i,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t,i){if(!this.image_||this.maxExtent&&!Po(this.maxExtent,e.getFlatCoordinates()))return;this.beginGeometry(e,t,i);const r=e.getFlatCoordinates(),o=e.getStride(),l=this.coordinates.length,u=this.appendFlatPointCoordinates(r,o);this.instructions.push([me.DRAW_IMAGE,l,u,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([me.DRAW_IMAGE,l,u,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(e,t,i){if(!this.image_)return;this.beginGeometry(e,t,i);const r=e.getFlatCoordinates(),o=[];for(let c=0,d=r.length;c<d;c+=e.getStride())(!this.maxExtent||Po(this.maxExtent,r.slice(c,c+2)))&&o.push(r[c],r[c+1]);const l=this.coordinates.length,u=this.appendFlatPointCoordinates(o,2);this.instructions.push([me.DRAW_IMAGE,l,u,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([me.DRAW_IMAGE,l,u,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){const i=e.getAnchor(),r=e.getSize(),o=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=e.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=r[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}}class CM extends tl{constructor(e,t,i,r){super(e,t,i,r)}drawFlatCoordinates_(e,t,i,r){const o=this.coordinates.length,l=this.appendFlatLineCoordinates(e,t,i,r,!1,!1),u=[me.MOVE_TO_LINE_TO,o,l];return this.instructions.push(u),this.hitDetectionInstructions.push(u),i}drawLineString(e,t,i){const r=this.state,o=r.strokeStyle,l=r.lineWidth;if(o===void 0||l===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t,i),this.hitDetectionInstructions.push([me.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,vi,xi],Ur);const u=e.getFlatCoordinates(),c=e.getStride();this.drawFlatCoordinates_(u,0,u.length,c),this.hitDetectionInstructions.push(or),this.endGeometry(t)}drawMultiLineString(e,t,i){const r=this.state,o=r.strokeStyle,l=r.lineWidth;if(o===void 0||l===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t,i),this.hitDetectionInstructions.push([me.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,vi,xi],Ur);const u=e.getEnds(),c=e.getFlatCoordinates(),d=e.getStride();let g=0;for(let p=0,_=u.length;p<_;++p)g=this.drawFlatCoordinates_(c,g,u[p],d);this.hitDetectionInstructions.push(or),this.endGeometry(t)}finish(){const e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(or),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(or),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(Ur)}}class s_ extends tl{constructor(e,t,i,r){super(e,t,i,r)}drawFlatCoordinatess_(e,t,i,r){const o=this.state,l=o.fillStyle!==void 0,u=o.strokeStyle!==void 0,c=i.length;this.instructions.push(Ur),this.hitDetectionInstructions.push(Ur);for(let d=0;d<c;++d){const g=i[d],p=this.coordinates.length,_=this.appendFlatLineCoordinates(e,t,g,r,!0,!u),v=[me.MOVE_TO_LINE_TO,p,_];this.instructions.push(v),this.hitDetectionInstructions.push(v),u&&(this.instructions.push(r_),this.hitDetectionInstructions.push(r_)),t=g}return l&&(this.instructions.push(Tu),this.hitDetectionInstructions.push(Tu)),u&&(this.instructions.push(or),this.hitDetectionInstructions.push(or)),t}drawCircle(e,t,i){const r=this.state,o=r.fillStyle,l=r.strokeStyle;if(o===void 0&&l===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([me.SET_FILL_STYLE,Qt]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([me.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,vi,xi]);const u=e.getFlatCoordinates(),c=e.getStride(),d=this.coordinates.length;this.appendFlatLineCoordinates(u,0,u.length,c,!1,!1);const g=[me.CIRCLE,d];this.instructions.push(Ur,g),this.hitDetectionInstructions.push(Ur,g),r.fillStyle!==void 0&&(this.instructions.push(Tu),this.hitDetectionInstructions.push(Tu)),r.strokeStyle!==void 0&&(this.instructions.push(or),this.hitDetectionInstructions.push(or)),this.endGeometry(t)}drawPolygon(e,t,i){const r=this.state,o=r.fillStyle,l=r.strokeStyle;if(o===void 0&&l===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([me.SET_FILL_STYLE,Qt]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([me.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,vi,xi]);const u=e.getEnds(),c=e.getOrientedFlatCoordinates(),d=e.getStride();this.drawFlatCoordinatess_(c,0,u,d),this.endGeometry(t)}drawMultiPolygon(e,t,i){const r=this.state,o=r.fillStyle,l=r.strokeStyle;if(o===void 0&&l===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([me.SET_FILL_STYLE,Qt]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([me.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,vi,xi]);const u=e.getEndss(),c=e.getOrientedFlatCoordinates(),d=e.getStride();let g=0;for(let p=0,_=u.length;p<_;++p)g=this.drawFlatCoordinatess_(c,g,u[p],d);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const t=this.coordinates;for(let i=0,r=t.length;i<r;++i)t[i]=zr(t[i],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;e.fillStyle!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)}}function SM(n,e,t,i,r){const o=[];let l=t,u=0,c=e.slice(t,2);for(;u<n&&l+r<i;){const[d,g]=c.slice(-2),p=e[l+r],_=e[l+r+1],v=Math.sqrt((p-d)*(p-d)+(_-g)*(_-g));if(u+=v,u>=n){const x=(n-u+v)/v,M=un(d,p,x),w=un(g,_,x);c.push(M,w),o.push(c),c=[M,w],u==n&&(l+=r),u=0}else if(u<n)c.push(e[l+r],e[l+r+1]),l+=r;else{const x=v-u,M=un(d,p,x/v),w=un(g,_,x/v);c.push(M,w),o.push(c),c=[M,w],u=0,l+=r}}return u>0&&o.push(c),o}function RM(n,e,t,i,r){let o=t,l=t,u=0,c=0,d=t,g,p,_,v,x,M,w,C,S,L;for(p=t;p<i;p+=r){const I=e[p],A=e[p+1];x!==void 0&&(S=I-x,L=A-M,v=Math.sqrt(S*S+L*L),w!==void 0&&(c+=_,g=Math.acos((w*S+C*L)/(_*v)),g>n&&(c>u&&(u=c,o=d,l=p),c=0,d=p-r)),_=v,w=S,C=L),x=I,M=A}return c+=v,c>u?[d,p]:[o,l]}const sh={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class IM extends tl{constructor(e,t,i,r){super(e,t,i,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[Qt]={fillStyle:Qt},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t,i){const r=this.textFillState_,o=this.textStrokeState_,l=this.textState_;if(this.text_===""||!l||!r&&!o)return;const u=this.coordinates;let c=u.length;const d=e.getType();let g=null,p=e.getStride();if(l.placement==="line"&&(d=="LineString"||d=="MultiLineString"||d=="Polygon"||d=="MultiPolygon")){if(!jt(this.maxExtent,e.getExtent()))return;let _;if(g=e.getFlatCoordinates(),d=="LineString")_=[g.length];else if(d=="MultiLineString")_=e.getEnds();else if(d=="Polygon")_=e.getEnds().slice(0,1);else if(d=="MultiPolygon"){const w=e.getEndss();_=[];for(let C=0,S=w.length;C<S;++C)_.push(w[C][0])}this.beginGeometry(e,t,i);const v=l.repeat,x=v?void 0:l.textAlign;let M=0;for(let w=0,C=_.length;w<C;++w){let S;v?S=SM(v*this.resolution,g,M,_[w],p):S=[g.slice(M,_[w])];for(let L=0,I=S.length;L<I;++L){const A=S[L];let F=0,U=A.length;if(x==null){const W=RM(l.maxAngle,A,0,A.length,2);F=W[0],U=W[1]}for(let W=F;W<U;W+=p)u.push(A[W],A[W+1]);const z=u.length;M=_[w],this.drawChars_(c,z),c=z}}this.endGeometry(t)}else{let _=l.overflow?null:[];switch(d){case"Point":case"MultiPoint":g=e.getFlatCoordinates();break;case"LineString":g=e.getFlatMidpoint();break;case"Circle":g=e.getCenter();break;case"MultiLineString":g=e.getFlatMidpoints(),p=2;break;case"Polygon":g=e.getFlatInteriorPoint(),l.overflow||_.push(g[2]/this.resolution),p=3;break;case"MultiPolygon":const I=e.getFlatInteriorPoints();g=[];for(let A=0,F=I.length;A<F;A+=3)l.overflow||_.push(I[A+2]/this.resolution),g.push(I[A],I[A+1]);if(g.length===0)return;p=2;break}const v=this.appendFlatPointCoordinates(g,p);if(v===c)return;if(_&&(v-c)/2!==g.length/p){let I=c/2;_=_.filter((A,F)=>{const U=u[(I+F)*2]===g[F*p]&&u[(I+F)*2+1]===g[F*p+1];return U||--I,U})}this.saveTextStates_();const x=l.backgroundFill?this.createFill(this.fillStyleToState(l.backgroundFill)):null,M=l.backgroundStroke?this.createStroke(this.strokeStyleToState(l.backgroundStroke)):null;this.beginGeometry(e,t,i);let w=l.padding;if(w!=Br&&(l.scale[0]<0||l.scale[1]<0)){let I=l.padding[0],A=l.padding[1],F=l.padding[2],U=l.padding[3];l.scale[0]<0&&(A=-A,U=-U),l.scale[1]<0&&(I=-I,F=-F),w=[I,A,F,U]}const C=this.pixelRatio;this.instructions.push([me.DRAW_IMAGE,c,v,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,w==Br?Br:w.map(function(I){return I*C}),x,M,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,_]);const S=1/C,L=x?x.slice(0):null;L&&(L[1]=Qt),this.hitDetectionInstructions.push([me.DRAW_IMAGE,c,v,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[S,S],NaN,this.declutterMode_,this.declutterImageWithText_,w,L,M,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?Qt:this.fillKey_,this.textOffsetX_,this.textOffsetY_,_]),this.endGeometry(t)}}saveTextStates_(){const e=this.textStrokeState_,t=this.textState_,i=this.textFillState_,r=this.strokeKey_;e&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const o=this.textKey_;o in this.textStates||(this.textStates[o]={font:t.font,textAlign:t.textAlign||bo,justify:t.justify,textBaseline:t.textBaseline||Zu,scale:t.scale});const l=this.fillKey_;i&&(l in this.fillStates||(this.fillStates[l]={fillStyle:i.fillStyle}))}drawChars_(e,t){const i=this.textStrokeState_,r=this.textState_,o=this.strokeKey_,l=this.textKey_,u=this.fillKey_;this.saveTextStates_();const c=this.pixelRatio,d=sh[r.textBaseline],g=this.textOffsetY_*c,p=this.text_,_=i?i.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([me.DRAW_CHARS,e,t,d,r.overflow,u,r.maxAngle,c,g,o,_*c,p,l,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([me.DRAW_CHARS,e,t,d,r.overflow,u&&Qt,r.maxAngle,c,g,o,_*c,p,l,1/c,this.declutterMode_,this.textKeepUpright_])}setTextStyle(e,t){let i,r,o;if(!e)this.text_="";else{const l=e.getFill();l?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=Yn(l.getColor()||Qt)):(r=null,this.textFillState_=r);const u=e.getStroke();if(!u)o=null,this.textStrokeState_=o;else{o=this.textStrokeState_,o||(o={},this.textStrokeState_=o);const M=u.getLineDash(),w=u.getLineDashOffset(),C=u.getWidth(),S=u.getMiterLimit();o.lineCap=u.getLineCap()||ra,o.lineDash=M?M.slice():vi,o.lineDashOffset=w===void 0?xi:w,o.lineJoin=u.getLineJoin()||sa,o.lineWidth=C===void 0?zo:C,o.miterLimit=S===void 0?Do:S,o.strokeStyle=Yn(u.getColor()||Fo)}i=this.textState_;const c=e.getFont()||Ny;kw(c);const d=e.getScaleArray();i.overflow=e.getOverflow(),i.font=c,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.repeat=e.getRepeat(),i.justify=e.getJustify(),i.textBaseline=e.getTextBaseline()||Zu,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||Br,i.scale=d===void 0?[1,1]:d;const g=e.getOffsetX(),p=e.getOffsetY(),_=e.getRotateWithView(),v=e.getKeepUpright(),x=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=g===void 0?0:g,this.textOffsetY_=p===void 0?0:p,this.textRotateWithView_=_===void 0?!1:_,this.textKeepUpright_=v===void 0?!0:v,this.textRotation_=x===void 0?0:x,this.strokeKey_=o?(typeof o.strokeStyle=="string"?o.strokeStyle:it(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=r&&r.fillStyle?typeof r.fillStyle=="string"?r.fillStyle:"|"+it(r.fillStyle):""}this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}}const TM={Circle:s_,Default:tl,Image:MM,LineString:CM,Polygon:s_,Text:IM};class PM{constructor(e,t,i,r){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=r,this.resolution_=i,this.buildersByZIndex_={}}finish(){const e={};for(const t in this.buildersByZIndex_){e[t]=e[t]||{};const i=this.buildersByZIndex_[t];for(const r in i){const o=i[r].finish();e[t][r]=o}}return e}getBuilder(e,t){const i=e!==void 0?e.toString():"0";let r=this.buildersByZIndex_[i];r===void 0&&(r={},this.buildersByZIndex_[i]=r);let o=r[t];if(o===void 0){const l=TM[t];o=new l(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[t]=o}return o}}function LM(n,e,t,i,r,o,l,u,c,d,g,p,_=!0){let v=n[e],x=n[e+1],M=0,w=0,C=0,S=0;function L(){M=v,w=x,e+=i,v=n[e],x=n[e+1],S+=C,C=Math.sqrt((v-M)*(v-M)+(x-w)*(x-w))}do L();while(e<t-i&&S+C<o);let I=C===0?0:(o-S)/C;const A=un(M,v,I),F=un(w,x,I),U=e-i,z=S,W=o+u*c(d,r,g);for(;e<t-i&&S+C<W;)L();I=C===0?0:(W-S)/C;const K=un(M,v,I),te=un(w,x,I);let ue=!1;if(_)if(p){const re=[A,F,K,te];oy(re,0,4,2,p,re,re),ue=re[0]>re[2]}else ue=A>K;const de=Math.PI,ie=[],Ce=U+i===e;e=U,C=0,S=z,v=n[e],x=n[e+1];let ae;if(Ce){L(),ae=Math.atan2(x-w,v-M),ue&&(ae+=ae>0?-de:de);const re=(K+A)/2,G=(te+F)/2;return ie[0]=[re,G,(W-o)/2,ae,r],ie}r=r.replace(/\n/g," ");for(let re=0,G=r.length;re<G;){L();let Z=Math.atan2(x-w,v-M);if(ue&&(Z+=Z>0?-de:de),ae!==void 0){let ye=Z-ae;if(ye+=ye>de?-2*de:ye<-de?2*de:0,Math.abs(ye)>l)return null}ae=Z;const X=re;let P=0;for(;re<G;++re){const ye=ue?G-re-1:re,we=u*c(d,r[ye],g);if(e+i<t&&S+C<o+P+we/2)break;P+=we}if(re===X)continue;const O=ue?r.substring(G-X,G-re):r.substring(X,re);I=C===0?0:(o+P/2-S)/C;const ce=un(M,v,I),ge=un(w,x,I);ie.push([ce,ge,P/2,Z,O]),o+=P}return ie}class Qy{constructor(){Jm(this,"pushMethodArgs_",(...e)=>(this.instructions_[this.zIndex+this.offset_].push(e),this));this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(Ku(),{get:(e,t)=>{if(typeof Ku()[t]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(t),this.pushMethodArgs_},set:(e,t,i)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(t,i),!0)})}pushFunction(e){this.instructions_[this.zIndex+this.offset_].push(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(t=>{for(let i=0,r=t.length;i<r;++i){const o=t[i];if(typeof o=="function"){o(e);continue}const l=t[++i];if(typeof e[o]=="function")e[o](...l);else{if(typeof l=="function"){e[o]=l(e);continue}e[o]=l}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const Fs=Dn(),er=[],gi=[],mi=[],tr=[];function a_(n){return n[3].declutterBox}const o_=new RegExp("[-----]");function zf(n,e){return e==="start"?e=o_.test(n)?"right":"left":e==="end"&&(e=o_.test(n)?"left":"right"),sh[e]}function AM(n,e,t){return t>0&&n.push(`
`,""),n.push(e,""),n}class kM{constructor(e,t,i,r,o){this.overlaps=i,this.pixelRatio=t,this.resolution=e,this.alignAndScaleFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=On(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=o?new Qy:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,t,i,r){const o=e+t+i+r;if(this.labels_[o])return this.labels_[o];const l=r?this.strokeStates[r]:null,u=i?this.fillStates[i]:null,c=this.textStates[t],d=this.pixelRatio,g=[c.scale[0]*d,c.scale[1]*d],p=c.justify?sh[c.justify]:zf(Array.isArray(e)?e[0]:e,c.textAlign||bo),_=r&&l.lineWidth?l.lineWidth:0,v=Array.isArray(e)?e:String(e).split(`
`).reduce(AM,[]),{width:x,height:M,widths:w,heights:C,lineWidths:S}=Nw(c,v),L=x+_,I=[],A=(L+2)*g[0],F=(M+_)*g[1],U={width:A<0?Math.floor(A):Math.ceil(A),height:F<0?Math.floor(F):Math.ceil(F),contextInstructions:I};(g[0]!=1||g[1]!=1)&&I.push("scale",g),r&&(I.push("strokeStyle",l.strokeStyle),I.push("lineWidth",_),I.push("lineCap",l.lineCap),I.push("lineJoin",l.lineJoin),I.push("miterLimit",l.miterLimit),I.push("setLineDash",[l.lineDash]),I.push("lineDashOffset",l.lineDashOffset)),i&&I.push("fillStyle",u.fillStyle),I.push("textBaseline","middle"),I.push("textAlign","center");const z=.5-p;let W=p*L+z*_;const K=[],te=[];let ue=0,de=0,ie=0,Ce=0,ae;for(let re=0,G=v.length;re<G;re+=2){const Z=v[re];if(Z===`
`){de+=ue,ue=0,W=p*L+z*_,++Ce;continue}const X=v[re+1]||c.font;X!==ae&&(r&&K.push("font",X),i&&te.push("font",X),ae=X),ue=Math.max(ue,C[ie]);const P=[Z,W+z*w[ie]+p*(w[ie]-S[Ce]),.5*(_+ue)+de];W+=w[ie],r&&K.push("strokeText",P),i&&te.push("fillText",P),++ie}return Array.prototype.push.apply(I,K),Array.prototype.push.apply(I,te),this.labels_[o]=U,U}replayTextBackground_(e,t,i,r,o,l,u){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,i),e.lineTo.apply(e,r),e.lineTo.apply(e,o),e.lineTo.apply(e,t),l&&(this.alignAndScaleFill_=l[2],e.fillStyle=l[1],this.fill_(e)),u&&(this.setStrokeStyle_(e,u),e.stroke())}calculateImageOrLabelDimensions_(e,t,i,r,o,l,u,c,d,g,p,_,v,x,M,w){u*=_[0],c*=_[1];let C=i-u,S=r-c;const L=o+d>e?e-d:o,I=l+g>t?t-g:l,A=x[3]+L*_[0]+x[1],F=x[0]+I*_[1]+x[2],U=C-x[3],z=S-x[0];(M||p!==0)&&(er[0]=U,tr[0]=U,er[1]=z,gi[1]=z,gi[0]=U+A,mi[0]=gi[0],mi[1]=z+F,tr[1]=mi[1]);let W;return p!==0?(W=Mi(On(),i,r,1,1,p,-i,-r),xt(W,er),xt(W,gi),xt(W,mi),xt(W,tr),ea(Math.min(er[0],gi[0],mi[0],tr[0]),Math.min(er[1],gi[1],mi[1],tr[1]),Math.max(er[0],gi[0],mi[0],tr[0]),Math.max(er[1],gi[1],mi[1],tr[1]),Fs)):ea(Math.min(U,U+A),Math.min(z,z+F),Math.max(U,U+A),Math.max(z,z+F),Fs),v&&(C=Math.round(C),S=Math.round(S)),{drawImageX:C,drawImageY:S,drawImageW:L,drawImageH:I,originX:d,originY:g,declutterBox:{minX:Fs[0],minY:Fs[1],maxX:Fs[2],maxY:Fs[3],value:w},canvasTransform:W,scale:_}}replayImageOrLabel_(e,t,i,r,o,l,u){const c=!!(l||u),d=r.declutterBox,g=u?u[2]*r.scale[0]/2:0;return d.minX-g<=t[0]&&d.maxX+g>=0&&d.minY-g<=t[1]&&d.maxY+g>=0&&(c&&this.replayTextBackground_(e,er,gi,mi,tr,l,u),Dw(e,r.canvasTransform,o,i,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(e){const t=this.alignAndScaleFill_;if(t){const i=xt(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(i[0]%r,i[1]%r),t!==1&&e.scale(t,t),e.rotate(this.viewRotation_)}e.fill(),t&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6])}drawLabelWithPointPlacement_(e,t,i,r){const o=this.textStates[t],l=this.createLabel(e,t,r,i),u=this.strokeStates[i],c=this.pixelRatio,d=zf(Array.isArray(e)?e[0]:e,o.textAlign||bo),g=sh[o.textBaseline||Zu],p=u&&u.lineWidth?u.lineWidth:0,_=l.width/c-2*o.scale[0],v=d*_+2*(.5-d)*p,x=g*l.height/c+2*(.5-g)*p;return{label:l,anchorX:v,anchorY:x}}execute_(e,t,i,r,o,l,u,c){const d=this.zIndexContext_;let g;this.pixelCoordinates_&&_r(i,this.renderedTransform_)?g=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),g=ur(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),Vx(this.renderedTransform_,i));let p=0;const _=r.length;let v=0,x,M,w,C,S,L,I,A,F,U,z,W,K,te=0,ue=0;const de=this.coordinateCache_,ie=this.viewRotation_,Ce=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,ae={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:ie},re=this.instructions!=r||this.overlaps?0:200;let G,Z,X,P;for(;p<_;){const O=r[p];switch(O[0]){case me.BEGIN_GEOMETRY:G=O[1],P=O[3],G.getGeometry()?u!==void 0&&!jt(u,P.getExtent())?p=O[2]+1:++p:p=O[2],d&&(d.zIndex=O[4]);break;case me.BEGIN_PATH:te>re&&(this.fill_(e),te=0),ue>re&&(e.stroke(),ue=0),!te&&!ue&&(e.beginPath(),S=NaN,L=NaN),++p;break;case me.CIRCLE:v=O[1];const ge=g[v],ye=g[v+1],we=g[v+2],Re=g[v+3],Ie=we-ge,Oe=Re-ye,Be=Math.sqrt(Ie*Ie+Oe*Oe);e.moveTo(ge+Be,ye),e.arc(ge,ye,Be,0,2*Math.PI,!0),++p;break;case me.CLOSE_PATH:e.closePath(),++p;break;case me.CUSTOM:v=O[1],x=O[2];const ti=O[3],ns=O[4],vr=O[5];ae.geometry=ti,ae.feature=G,p in de||(de[p]=[]);const ni=de[p];vr?vr(g,v,x,2,ni):(ni[0]=g[v],ni[1]=g[v+1],ni.length=2),d&&(d.zIndex=O[6]),ns(ni,ae),++p;break;case me.DRAW_IMAGE:v=O[1],x=O[2],F=O[3],M=O[4],w=O[5];let is=O[6];const ul=O[7],pa=O[8],hl=O[9],rs=O[10];let ii=O[11];const Ti=O[12];let Pi=O[13];C=O[14]||"declutter";const Li=O[15];if(!F&&O.length>=20){U=O[19],z=O[20],W=O[21],K=O[22];const At=this.drawLabelWithPointPlacement_(U,z,W,K);F=At.label,O[3]=F;const zn=O[23];M=(At.anchorX-zn)*this.pixelRatio,O[4]=M;const kt=O[24];w=(At.anchorY-kt)*this.pixelRatio,O[5]=w,is=F.height,O[6]=is,Pi=F.width,O[13]=Pi}let ss;O.length>25&&(ss=O[25]);let as,xr,Ai;O.length>17?(as=O[16],xr=O[17],Ai=O[18]):(as=Br,xr=null,Ai=null),rs&&Ce?ii+=ie:!rs&&!Ce&&(ii-=ie);let os=0;for(;v<x;v+=2){if(ss&&ss[os++]<Pi/this.pixelRatio)continue;const At=this.calculateImageOrLabelDimensions_(F.width,F.height,g[v],g[v+1],Pi,is,M,w,pa,hl,ii,Ti,o,as,!!xr||!!Ai,G),zn=[e,t,F,At,ul,xr,Ai];if(c){let kt,Bt,Ot;if(Li){const We=x-v;if(!Li[We]){Li[We]={args:zn,declutterMode:C};continue}const pt=Li[We];kt=pt.args,Bt=pt.declutterMode,delete Li[We],Ot=a_(kt)}let Nt,rn;if(kt&&(Bt!=="declutter"||!c.collides(Ot))&&(Nt=!0),(C!=="declutter"||!c.collides(At.declutterBox))&&(rn=!0),Bt==="declutter"&&C==="declutter"){const We=Nt&&rn;Nt=We,rn=We}Nt&&(Bt!=="none"&&c.insert(Ot),this.replayImageOrLabel_.apply(this,kt)),rn&&(C!=="none"&&c.insert(At.declutterBox),this.replayImageOrLabel_.apply(this,zn))}else this.replayImageOrLabel_.apply(this,zn)}++p;break;case me.DRAW_CHARS:const _a=O[1],ki=O[2],ri=O[3],Fh=O[4];K=O[5];const cl=O[6],ya=O[7],fl=O[8];W=O[9];const Er=O[10];U=O[11],z=O[12];const ls=[O[13],O[13]];C=O[14]||"declutter";const va=O[15],wr=this.textStates[z],si=wr.font,cn=[wr.scale[0]*ya,wr.scale[1]*ya];let fn;si in this.widths_?fn=this.widths_[si]:(fn={},this.widths_[si]=fn);const xa=Vy(g,_a,ki,2),Ea=Math.abs(cn[0])*$p(si,U,fn);if(Fh||Ea<=xa){const At=this.textStates[z].textAlign,zn=(xa-Ea)*zf(U,At),kt=LM(g,_a,ki,2,U,zn,cl,Math.abs(cn[0]),$p,si,fn,Ce?0:this.viewRotation_,va);e:if(kt){const Bt=[];let Ot,Nt,rn,We,pt;if(W)for(Ot=0,Nt=kt.length;Ot<Nt;++Ot){pt=kt[Ot],rn=pt[4],We=this.createLabel(rn,z,"",W),M=pt[2]+(cn[0]<0?-Er:Er),w=ri*We.height+(.5-ri)*2*Er*cn[1]/cn[0]-fl;const Dt=this.calculateImageOrLabelDimensions_(We.width,We.height,pt[0],pt[1],We.width,We.height,M,w,0,0,pt[3],ls,!1,Br,!1,G);if(c&&C==="declutter"&&c.collides(Dt.declutterBox))break e;Bt.push([e,t,We,Dt,1,null,null])}if(K)for(Ot=0,Nt=kt.length;Ot<Nt;++Ot){pt=kt[Ot],rn=pt[4],We=this.createLabel(rn,z,K,""),M=pt[2],w=ri*We.height-fl;const Dt=this.calculateImageOrLabelDimensions_(We.width,We.height,pt[0],pt[1],We.width,We.height,M,w,0,0,pt[3],ls,!1,Br,!1,G);if(c&&C==="declutter"&&c.collides(Dt.declutterBox))break e;Bt.push([e,t,We,Dt,1,null,null])}c&&C!=="none"&&c.load(Bt.map(a_));for(let Dt=0,us=Bt.length;Dt<us;++Dt)this.replayImageOrLabel_.apply(this,Bt[Dt])}}++p;break;case me.END_GEOMETRY:if(l!==void 0){G=O[1];const At=l(G,P,C);if(At)return At}++p;break;case me.FILL:re?te++:this.fill_(e),++p;break;case me.MOVE_TO_LINE_TO:for(v=O[1],x=O[2],Z=g[v],X=g[v+1],e.moveTo(Z,X),S=Z+.5|0,L=X+.5|0,v+=2;v<x;v+=2)Z=g[v],X=g[v+1],I=Z+.5|0,A=X+.5|0,(v==x-2||I!==S||A!==L)&&(e.lineTo(Z,X),S=I,L=A);++p;break;case me.SET_FILL_STYLE:this.alignAndScaleFill_=O[2],te&&(this.fill_(e),te=0,ue&&(e.stroke(),ue=0)),e.fillStyle=O[1],++p;break;case me.SET_STROKE_STYLE:ue&&(e.stroke(),ue=0),this.setStrokeStyle_(e,O),++p;break;case me.STROKE:re?ue++:e.stroke(),++p;break;default:++p;break}}te&&this.fill_(e),ue&&e.stroke()}execute(e,t,i,r,o,l){this.viewRotation_=r,this.execute_(e,t,i,this.instructions,o,void 0,void 0,l)}executeHitDetection(e,t,i,r,o){return this.viewRotation_=i,this.execute_(e,[e.canvas.width,e.canvas.height],t,this.hitDetectionInstructions,!0,r,o)}}const Us=["Polygon","Circle","LineString","Image","Text","Default"],Jy=["Image","Text"],OM=Us.filter(n=>!Jy.includes(n));class NM{constructor(e,t,i,r,o,l,u){this.maxExtent_=e,this.overlaps_=r,this.pixelRatio_=i,this.resolution_=t,this.renderBuffer_=l,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=On(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(o,u)}clip(e,t){const i=this.getClipCoords(t);e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.lineTo(i[4],i[5]),e.lineTo(i[6],i[7]),e.clip()}createExecutors_(e,t){for(const i in e){let r=this.executorsByZIndex_[i];r===void 0&&(r={},this.executorsByZIndex_[i]=r);const o=e[i];for(const l in o){const u=o[l];r[l]=new kM(this.resolution_,this.pixelRatio_,this.overlaps_,u,t)}}}hasExecutors(e){for(const t in this.executorsByZIndex_){const i=this.executorsByZIndex_[t];for(let r=0,o=e.length;r<o;++r)if(e[r]in i)return!0}return!1}forEachFeatureAtCoordinate(e,t,i,r,o,l){r=Math.round(r);const u=r*2+1,c=Mi(this.hitDetectionTransform_,r+.5,r+.5,1/t,-1/t,-i,-e[0],-e[1]),d=!this.hitDetectionContext_;d&&(this.hitDetectionContext_=Mt(u,u,void 0,{willReadFrequently:!0}));const g=this.hitDetectionContext_;g.canvas.width!==u||g.canvas.height!==u?(g.canvas.width=u,g.canvas.height=u):d||g.clearRect(0,0,u,u);let p;this.renderBuffer_!==void 0&&(p=Dn(),Eo(p,e),Ed(p,t*(this.renderBuffer_+r),p));const _=DM(r);let v;function x(A,F,U){const z=g.getImageData(0,0,u,u).data;for(let W=0,K=_.length;W<K;W++)if(z[_[W]]>0){if(!l||U==="none"||v!=="Image"&&v!=="Text"||l.includes(A)){const te=(_[W]-3)/4,ue=r-te%u,de=r-(te/u|0),ie=o(A,F,ue*ue+de*de);if(ie)return ie}g.clearRect(0,0,u,u);break}}const M=Object.keys(this.executorsByZIndex_).map(Number);M.sort($r);let w,C,S,L,I;for(w=M.length-1;w>=0;--w){const A=M[w].toString();for(S=this.executorsByZIndex_[A],C=Us.length-1;C>=0;--C)if(v=Us[C],L=S[v],L!==void 0&&(I=L.executeHitDetection(g,c,i,x,p),I))return I}}getClipCoords(e){const t=this.maxExtent_;if(!t)return null;const i=t[0],r=t[1],o=t[2],l=t[3],u=[i,r,i,l,o,l,o,r];return ur(u,0,8,2,e,u),u}isEmpty(){return Xr(this.executorsByZIndex_)}execute(e,t,i,r,o,l,u){const c=Object.keys(this.executorsByZIndex_).map(Number);c.sort(u?$2:$r),l=l||Us;const d=Us.length;for(let g=0,p=c.length;g<p;++g){const _=c[g].toString(),v=this.executorsByZIndex_[_];for(let x=0,M=l.length;x<M;++x){const w=l[x],C=v[w];if(C!==void 0){const S=u===null?void 0:C.getZIndexContext(),L=S?S.getContext():e,I=this.maxExtent_&&w!=="Image"&&w!=="Text";if(I&&(L.save(),this.clip(L,i)),!S||w==="Text"||w==="Image"?C.execute(L,t,i,r,o,u):S.pushFunction(A=>C.execute(A,t,i,r,o,u)),I&&L.restore(),S){S.offset();const A=c[g]*d+x;this.deferredZIndexContexts_[A]||(this.deferredZIndexContexts_[A]=[]),this.deferredZIndexContexts_[A].push(S)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const e=this.deferredZIndexContexts_,t=Object.keys(e).map(Number).sort($r);for(let i=0,r=t.length;i<r;++i)e[t[i]].forEach(o=>{o.draw(this.renderedContext_),o.clear()}),e[t[i]].length=0}}const Gf={};function DM(n){if(Gf[n]!==void 0)return Gf[n];const e=n*2+1,t=n*n,i=new Array(t+1);for(let o=0;o<=n;++o)for(let l=0;l<=n;++l){const u=o*o+l*l;if(u>t)break;let c=i[u];c||(c=[],i[u]=c),c.push(((n+o)*e+(n+l))*4+3),o>0&&c.push(((n-o)*e+(n+l))*4+3),l>0&&(c.push(((n+o)*e+(n-l))*4+3),o>0&&c.push(((n-o)*e+(n-l))*4+3))}const r=[];for(let o=0,l=i.length;o<l;++o)i[o]&&r.push(...i[o]);return Gf[n]=r,r}const Xn=.5;function FM(n,e,t,i,r,o,l,u,c){const d=r,g=n[0]*Xn,p=n[1]*Xn,_=Mt(g,p);_.imageSmoothingEnabled=!1;const v=_.canvas,x=new oM(_,Xn,r,null,l,u,null),M=t.length,w=Math.floor((256*256*256-1)/M),C={};for(let L=1;L<=M;++L){const I=t[L-1],A=I.getStyleFunction()||i;if(!A)continue;let F=A(I,o);if(!F)continue;Array.isArray(F)||(F=[F]);const z=(L*w).toString(16).padStart(7,"#00000");for(let W=0,K=F.length;W<K;++W){const te=F[W],ue=te.getGeometryFunction()(I);if(!ue||!jt(d,ue.getExtent()))continue;const de=te.clone(),ie=de.getFill();ie&&ie.setColor(z);const Ce=de.getStroke();Ce&&(Ce.setColor(z),Ce.setLineDash(null)),de.setText(void 0);const ae=te.getImage();if(ae){const X=ae.getImageSize();if(!X)continue;const P=Mt(X[0],X[1],void 0,{alpha:!1}),O=P.canvas;P.fillStyle=z,P.fillRect(0,0,O.width,O.height),de.setImage(new Ih({img:O,anchor:ae.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:ae.getOrigin(),opacity:1,size:ae.getSize(),scale:ae.getScale(),rotation:ae.getRotation(),rotateWithView:ae.getRotateWithView()}))}const re=de.getZIndex()||0;let G=C[re];G||(G={},C[re]=G,G.Polygon=[],G.Circle=[],G.LineString=[],G.Point=[]);const Z=ue.getType();if(Z==="GeometryCollection"){const X=ue.getGeometriesArrayRecursive();for(let P=0,O=X.length;P<O;++P){const ce=X[P];G[ce.getType().replace("Multi","")].push(ce,de)}}else G[Z.replace("Multi","")].push(ue,de)}}const S=Object.keys(C).map(Number).sort($r);for(let L=0,I=S.length;L<I;++L){const A=C[S[L]];for(const F in A){const U=A[F];for(let z=0,W=U.length;z<W;z+=2){x.setStyle(U[z+1]);for(let K=0,te=e.length;K<te;++K)x.setTransform(e[K]),x.drawGeometry(U[z])}}}return _.getImageData(0,0,v.width,v.height)}function bM(n,e,t){const i=[];if(t){const r=Math.floor(Math.round(n[0])*Xn),o=Math.floor(Math.round(n[1])*Xn),l=(lt(r,0,t.width-1)+lt(o,0,t.height-1)*t.width)*4,u=t.data[l],c=t.data[l+1],g=t.data[l+2]+256*(c+256*u),p=Math.floor((256*256*256-1)/e.length);g&&g%p===0&&i.push(e[g/p-1])}return i}const zM=5;class GM extends Ho{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=zM}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return Me()}getData(e){return null}prepareFrame(e){return Me()}renderFrame(e,t){return Me()}forEachFeatureAtCoordinate(e,t,i,r,o){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const t=e.target;(t.getState()===fe.LOADED||t.getState()===fe.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=fe.LOADED&&t!=fe.ERROR&&e.addEventListener(Se.CHANGE,this.boundHandleImageChange_),t==fe.IDLE&&(e.load(),t=e.getState()),t==fe.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}}const l_=[];let js=null;function jM(){js=Mt(1,1,void 0,{willReadFrequently:!0})}class e1 extends GM{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=On(),this.pixelTransform=On(),this.inversePixelTransform=On(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,t,i){js||jM(),js.clearRect(0,0,1,1);let r;try{js.drawImage(e,t,i,1,1,0,0,1,1),r=js.getImageData(0,0,1,1).data}catch{return js=null,null}return r}getBackground(e){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(e.viewState.resolution)),i||void 0}useContainer(e,t,i){const r=this.getLayer().getClassName();let o,l;if(e&&e.className===r&&(!i||e&&e.style.backgroundColor&&_r(na(e.style.backgroundColor),na(i)))){const u=e.firstElementChild;u instanceof HTMLCanvasElement&&(l=u.getContext("2d"))}if(l&&l.canvas.style.transform===t?(this.container=e,this.context=l,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){o=document.createElement("div"),o.className=r;let u=o.style;u.position="absolute",u.width="100%",u.height="100%",l=Mt();const c=l.canvas;o.appendChild(c),u=c.style,u.position="absolute",u.left="0",u.transformOrigin="top left",this.container=o,this.context=l}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(e,t,i){const r=mh(i),o=Id(i),l=Sd(i),u=Cd(i);xt(t.coordinateToPixelTransform,r),xt(t.coordinateToPixelTransform,o),xt(t.coordinateToPixelTransform,l),xt(t.coordinateToPixelTransform,u);const c=this.inversePixelTransform;xt(c,r),xt(c,o),xt(c,l),xt(c,u),e.save(),e.beginPath(),e.moveTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(l[0]),Math.round(l[1])),e.lineTo(Math.round(u[0]),Math.round(u[1])),e.clip()}prepareContainer(e,t){const i=e.extent,r=e.viewState.resolution,o=e.viewState.rotation,l=e.pixelRatio,u=Math.round(De(i)/r*l),c=Math.round(mt(i)/r*l);Mi(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/l,1/l,o,-u/2,-c/2),ay(this.inversePixelTransform,this.pixelTransform);const d=Hx(this.pixelTransform);if(this.useContainer(t,d,this.getBackground(e)),!this.containerReused){const g=this.context.canvas;g.width!=u||g.height!=c?(g.width=u,g.height=c):this.context.clearRect(0,0,u,c),d!==g.style.transform&&(g.style.transform=d)}}dispatchRenderEvent_(e,t,i){const r=this.getLayer();if(r.hasListener(e)){const o=new By(e,this.inversePixelTransform,i,t);r.dispatchEvent(o)}}preRender(e,t){this.frameState=t,!t.declutter&&this.dispatchRenderEvent_(En.PRERENDER,e,t)}postRender(e,t){t.declutter||this.dispatchRenderEvent_(En.POSTRENDER,e,t)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new Qy),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(En.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(En.POSTRENDER,this.context,e))}getRenderTransform(e,t,i,r,o,l,u){const c=o/2,d=l/2,g=r/t,p=-g,_=-e[0]+u,v=-e[1];return Mi(this.tempTransform,c,d,g,p,-i,_,v)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class WM extends e1{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Dn(),this.wrappedRenderedExtent_=Dn(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,t,i){const r=t.extent,o=t.viewState,l=o.center,u=o.resolution,c=o.projection,d=o.rotation,g=c.getExtent(),p=this.getLayer().getSource(),_=this.getLayer().getDeclutter(),v=t.pixelRatio,x=t.viewHints,M=!(x[gt.ANIMATING]||x[gt.INTERACTING]),w=this.context,C=Math.round(De(r)/u*v),S=Math.round(mt(r)/u*v),L=p.getWrapX()&&c.canWrapX(),I=L?De(g):null,A=L?Math.ceil((r[2]-g[2])/I)+1:1;let F=L?Math.floor((r[0]-g[0])/I):0;do{let U=this.getRenderTransform(l,u,0,v,C,S,F*I);t.declutter&&(U=U.slice(0)),e.execute(w,[w.canvas.width,w.canvas.height],U,d,M,i===void 0?Us:i?Jy:OM,i?_&&t.declutter[_]:void 0)}while(++F<A)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=Mt(this.context.canvas.width,this.context.canvas.height,l_))}resetDrawContext_(){if(this.opacity_!==1){const e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,Hd(this.context),l_.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,t){const i=e.layerStatesArray[e.layerIndex];this.opacity_=i.opacity;const r=e.viewState;this.prepareContainer(e,t);const o=this.context,l=this.replayGroup_;let u=l&&!l.isEmpty();if(!u&&!(this.getLayer().hasListener(En.PRERENDER)||this.getLayer().hasListener(En.POSTRENDER)))return null;if(this.setDrawContext_(),this.preRender(o,e),r.projection,this.clipped_=!1,u&&i.extent&&this.clipping){const c=jr(i.extent);u=jt(c,e.extent),this.clipped_=u&&!sr(c,e.extent),this.clipped_&&this.clipUnrotated(o,e,c)}return u&&this.renderWorlds(l,e,this.getLayer().getDeclutter()?!1:void 0),!e.declutter&&this.clipped_&&o.restore(),this.postRender(o,e),this.renderedRotation_!==r.rotation&&(this.renderedRotation_=r.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(t=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const i=this.frameState.size.slice(),r=this.renderedCenter_,o=this.renderedResolution_,l=this.renderedRotation_,u=this.renderedProjection_,c=this.wrappedRenderedExtent_,d=this.getLayer(),g=[],p=i[0]*Xn,_=i[1]*Xn;g.push(this.getRenderTransform(r,o,l,Xn,p,_,0).slice());const v=d.getSource(),x=u.getExtent();if(v.getWrapX()&&u.canWrapX()&&!sr(x,c)){let M=c[0];const w=De(x);let C=0,S;for(;M<x[0];)--C,S=w*C,g.push(this.getRenderTransform(r,o,l,Xn,p,_,S).slice()),M+=w;for(C=0,M=c[2];M>x[2];)++C,S=w*C,g.push(this.getRenderTransform(r,o,l,Xn,p,_,S).slice()),M-=w}this.hitDetectionImageData_=FM(i,g,this.renderedFeatures_,d.getStyleFunction(),c,o,l,Qp(o,this.renderedPixelRatio_))}t(bM(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,t,i,r,o){var _,v;if(!this.replayGroup_)return;const l=t.viewState.resolution,u=t.viewState.rotation,c=this.getLayer(),d={},g=function(x,M,w){const C=it(x),S=d[C];if(S){if(S!==!0&&w<S.distanceSq){if(w===0)return d[C]=!0,o.splice(o.lastIndexOf(S),1),r(x,c,M);S.geometry=M,S.distanceSq=w}}else{if(w===0)return d[C]=!0,r(x,c,M);o.push(d[C]={feature:x,layer:c,geometry:M,distanceSq:w,callback:r})}},p=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(e,l,u,i,g,p?(v=(_=t.declutter)==null?void 0:_[p])==null?void 0:v.all().map(x=>x.value):null)}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const t=this.getLayer(),i=t.getSource();if(!i)return!1;const r=e.viewHints[gt.ANIMATING],o=e.viewHints[gt.INTERACTING],l=t.getUpdateWhileAnimating(),u=t.getUpdateWhileInteracting();if(this.ready&&!l&&r||!u&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const c=e.extent,d=e.viewState,g=d.projection,p=d.resolution,_=e.pixelRatio,v=t.getRevision(),x=t.getRenderBuffer();let M=t.getRenderOrder();M===void 0&&(M=uM);const w=d.center.slice(),C=Ed(c,x*p),S=C.slice(),L=[C.slice()],I=g.getExtent();if(i.getWrapX()&&g.canWrapX()&&!sr(I,e.extent)){const ie=De(I),Ce=Math.max(De(C)/2,ie);C[0]=I[0]-Ce,C[2]=I[2]+Ce,q_(w,g);const ae=Y_(L[0],g);ae[0]<I[0]&&ae[2]<I[2]?L.push([ae[0]+ie,ae[1],ae[2]+ie,ae[3]]):ae[0]>I[0]&&ae[2]>I[2]&&L.push([ae[0]-ie,ae[1],ae[2]-ie,ae[3]])}if(this.ready&&this.renderedResolution_==p&&this.renderedRevision_==v&&this.renderedRenderOrder_==M&&this.renderedFrameDeclutter_===!!e.declutter&&sr(this.wrappedRenderedExtent_,C))return _r(this.renderedExtent_,S)||(this.hitDetectionImageData_=null,this.renderedExtent_=S),this.renderedCenter_=w,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const A=new PM(Yy(p,_),C,p,_);let F;for(let ie=0,Ce=L.length;ie<Ce;++ie)i.loadFeatures(L[ie],p,g);const U=Qp(p,_);let z=!0;const W=(ie,Ce)=>{let ae;const re=ie.getStyleFunction()||t.getStyleFunction();if(re&&(ae=re(ie,p)),ae){const G=this.renderFeature(ie,U,ae,A,F,this.getLayer().getDeclutter(),Ce);z=z&&!G}},K=sy(C),te=i.getFeaturesInExtent(K);M&&te.sort(M);for(let ie=0,Ce=te.length;ie<Ce;++ie)W(te[ie],ie);this.renderedFeatures_=te,this.ready=z;const ue=A.finish(),de=new NM(C,p,_,i.getOverlaps(),ue,t.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=p,this.renderedRevision_=v,this.renderedRenderOrder_=M,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=S,this.wrappedRenderedExtent_=C,this.renderedCenter_=w,this.renderedProjection_=g,this.renderedPixelRatio_=_,this.replayGroup_=de,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,i,r,o,l,u){if(!i)return!1;let c=!1;if(Array.isArray(i))for(let d=0,g=i.length;d<g;++d)c=Jp(r,e,i[d],t,this.boundHandleStyleImageChange_,o,l,u)||c;else c=Jp(r,e,i,t,this.boundHandleStyleImageChange_,o,l,u);return c}}class BM extends Wy{constructor(e){super(e)}createRenderer(){return new WM(this)}}let jf;const wo=[];function u_(n,e,t,i,r){n.beginPath(),n.moveTo(0,0),n.lineTo(e,t),n.lineTo(i,r),n.closePath(),n.save(),n.clip(),n.fillRect(0,0,Math.max(e,i)+1,Math.max(t,r)),n.restore()}function Wf(n,e){return Math.abs(n[e*4]-210)>2||Math.abs(n[e*4+3]-.75*255)>2}function UM(){if(jf===void 0){const n=Mt(6,6,wo);n.globalCompositeOperation="lighter",n.fillStyle="rgba(210, 0, 0, 0.75)",u_(n,4,5,4,0),u_(n,4,5,0,5);const e=n.getImageData(0,0,3,3).data;jf=Wf(e,0)||Wf(e,4)||Wf(e,8),Hd(n),wo.push(n.canvas)}return jf}function $M(n,e,t,i){const r=ry(t,e,n);let o=Mp(e,i,t);const l=e.getMetersPerUnit();l!==void 0&&(o*=l);const u=n.getMetersPerUnit();u!==void 0&&(o/=u);const c=n.getExtent();if(!c||Po(c,r)){const d=Mp(n,o,r)/o;isFinite(d)&&d>0&&(o/=d)}return o}function VM(n,e,t,i,r,o,l,u,c,d,g,p,_,v){const x=Mt(Math.round(t*n),Math.round(t*e),wo);if(p||(x.imageSmoothingEnabled=!1),c.length===0)return x.canvas;x.scale(t,t);function M(A){return Math.round(A*t)/t}x.globalCompositeOperation="lighter";const w=Dn();c.forEach(function(A,F,U){X_(w,A.extent)});let C;const S=t/i,L=(p?1:1+Math.pow(2,-24))/S;(c.length!==1||d!==0)&&(C=Mt(Math.round(De(w)*S),Math.round(mt(w)*S),wo),p||(C.imageSmoothingEnabled=!1),c.forEach(function(A,F,U){if(A.image.width>0&&A.image.height>0){if(A.clipExtent){C.save();const ue=(A.clipExtent[0]-w[0])*S,de=-(A.clipExtent[3]-w[3])*S,ie=De(A.clipExtent)*S,Ce=mt(A.clipExtent)*S;C.rect(p?ue:Math.round(ue),p?de:Math.round(de),p?ie:Math.round(ue+ie)-Math.round(ue),p?Ce:Math.round(de+Ce)-Math.round(de)),C.clip()}const z=(A.extent[0]-w[0])*S,W=-(A.extent[3]-w[3])*S,K=De(A.extent)*S,te=mt(A.extent)*S;C.drawImage(A.image,d,d,A.image.width-2*d,A.image.height-2*d,p?z:Math.round(z),p?W:Math.round(W),p?K:Math.round(z+K)-Math.round(z),p?te:Math.round(W+te)-Math.round(W)),A.clipExtent&&C.restore()}}));const I=mh(l);return u.getTriangles().forEach(function(A,F,U){const z=A.source,W=A.target;let K=z[0][0],te=z[0][1],ue=z[1][0],de=z[1][1],ie=z[2][0],Ce=z[2][1];const ae=M((W[0][0]-I[0])/o),re=M(-(W[0][1]-I[1])/o),G=M((W[1][0]-I[0])/o),Z=M(-(W[1][1]-I[1])/o),X=M((W[2][0]-I[0])/o),P=M(-(W[2][1]-I[1])/o),O=K,ce=te;K=0,te=0,ue-=O,de-=ce,ie-=O,Ce-=ce;const ge=[[ue,de,0,0,G-ae],[ie,Ce,0,0,X-ae],[0,0,ue,de,Z-re],[0,0,ie,Ce,P-re]],ye=nx(ge);if(!ye)return;if(x.save(),x.beginPath(),UM()||!p){x.moveTo(G,Z);const Re=4,Ie=ae-G,Oe=re-Z;for(let Be=0;Be<Re;Be++)x.lineTo(G+M((Be+1)*Ie/Re),Z+M(Be*Oe/(Re-1))),Be!=Re-1&&x.lineTo(G+M((Be+1)*Ie/Re),Z+M((Be+1)*Oe/(Re-1)));x.lineTo(X,P)}else x.moveTo(G,Z),x.lineTo(ae,re),x.lineTo(X,P);x.clip(),x.transform(ye[0],ye[2],ye[1],ye[3],ae,re),x.translate(w[0]-O,w[3]-ce);let we;if(C)we=C.canvas,x.scale(L,-L);else{const Re=c[0],Ie=Re.extent;we=Re.image,x.scale(De(Ie)/we.width,-mt(Ie)/we.height)}x.drawImage(we,0,0),x.restore()}),C&&(Hd(C),wo.push(C.canvas)),x.canvas}const XM=10,h_=.25;class HM{constructor(e,t,i,r,o,l,u){this.sourceProj_=e,this.targetProj_=t;let c={};const d=u?ed(L=>xt(u,ry(L,this.targetProj_,this.sourceProj_))):Ao(this.targetProj_,this.sourceProj_);this.transformInv_=function(L){const I=L[0]+"/"+L[1];return c[I]||(c[I]=d(L)),c[I]},this.maxSourceExtent_=r,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&De(r)>=De(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?De(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?De(this.targetProj_.getExtent()):null;const g=mh(i),p=Id(i),_=Sd(i),v=Cd(i),x=this.transformInv_(g),M=this.transformInv_(p),w=this.transformInv_(_),C=this.transformInv_(v),S=XM+(l?Math.max(0,Math.ceil(Math.log2(ax(i)/(l*l*256*256)))):0);if(this.addQuad_(g,p,_,v,x,M,w,C,S),this.wrapsXInSource_){let L=1/0;this.triangles_.forEach(function(I,A,F){L=Math.min(L,I.source[0][0],I.source[1][0],I.source[2][0])}),this.triangles_.forEach(I=>{if(Math.max(I.source[0][0],I.source[1][0],I.source[2][0])-L>this.sourceWorldWidth_/2){const A=[[I.source[0][0],I.source[0][1]],[I.source[1][0],I.source[1][1]],[I.source[2][0],I.source[2][1]]];A[0][0]-L>this.sourceWorldWidth_/2&&(A[0][0]-=this.sourceWorldWidth_),A[1][0]-L>this.sourceWorldWidth_/2&&(A[1][0]-=this.sourceWorldWidth_),A[2][0]-L>this.sourceWorldWidth_/2&&(A[2][0]-=this.sourceWorldWidth_);const F=Math.min(A[0][0],A[1][0],A[2][0]);Math.max(A[0][0],A[1][0],A[2][0])-F<this.sourceWorldWidth_/2&&(I.source=A)}})}c={}}addTriangle_(e,t,i,r,o,l){this.triangles_.push({source:[r,o,l],target:[e,t,i]})}addQuad_(e,t,i,r,o,l,u,c,d){const g=gp([o,l,u,c]),p=this.sourceWorldWidth_?De(g)/this.sourceWorldWidth_:null,_=this.sourceWorldWidth_,v=this.sourceProj_.canWrapX()&&p>.5&&p<1;let x=!1;if(d>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const w=gp([e,t,i,r]);x=De(w)/this.targetWorldWidth_>h_||x}!v&&this.sourceProj_.isGlobal()&&p&&(x=p>h_||x)}if(!x&&this.maxSourceExtent_&&isFinite(g[0])&&isFinite(g[1])&&isFinite(g[2])&&isFinite(g[3])&&!jt(g,this.maxSourceExtent_))return;let M=0;if(!x&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(l[0])||!isFinite(l[1])||!isFinite(u[0])||!isFinite(u[1])||!isFinite(c[0])||!isFinite(c[1]))){if(d>0)x=!0;else if(M=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(l[0])||!isFinite(l[1])?4:0)+(!isFinite(u[0])||!isFinite(u[1])?2:0)+(!isFinite(c[0])||!isFinite(c[1])?1:0),M!=1&&M!=2&&M!=4&&M!=8)return}if(d>0){if(!x){const w=[(e[0]+i[0])/2,(e[1]+i[1])/2],C=this.transformInv_(w);let S;v?S=(xo(o[0],_)+xo(u[0],_))/2-xo(C[0],_):S=(o[0]+u[0])/2-C[0];const L=(o[1]+u[1])/2-C[1];x=S*S+L*L>this.errorThresholdSquared_}if(x){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){const w=[(t[0]+i[0])/2,(t[1]+i[1])/2],C=this.transformInv_(w),S=[(r[0]+e[0])/2,(r[1]+e[1])/2],L=this.transformInv_(S);this.addQuad_(e,t,w,S,o,l,C,L,d-1),this.addQuad_(S,w,i,r,L,C,u,c,d-1)}else{const w=[(e[0]+t[0])/2,(e[1]+t[1])/2],C=this.transformInv_(w),S=[(i[0]+r[0])/2,(i[1]+r[1])/2],L=this.transformInv_(S);this.addQuad_(e,w,S,r,o,C,L,c,d-1),this.addQuad_(w,t,i,S,C,l,u,L,d-1)}return}}if(v){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}M&11||this.addTriangle_(e,i,r,o,u,c),M&14||this.addTriangle_(e,i,t,o,u,l),M&&(M&13||this.addTriangle_(t,r,e,l,c,o),M&7||this.addTriangle_(t,r,i,l,c,u))}calculateSourceExtent(){const e=Dn();return this.triangles_.forEach(function(t,i,r){const o=t.source;Eo(e,o[0]),Eo(e,o[1]),Eo(e,o[2])}),e}getTriangles(){return this.triangles_}}const YM=.5;class qM extends e1{constructor(e){super(e),this.image=null}getImage(){return this.image?this.image.getImage():null}prepareFrame(e){const t=e.layerStatesArray[e.layerIndex],i=e.pixelRatio,r=e.viewState,o=r.resolution,l=this.getLayer().getSource(),u=e.viewHints;let c=e.extent;if(t.extent!==void 0&&(c=Rd(c,jr(t.extent,r.projection))),!u[gt.ANIMATING]&&!u[gt.INTERACTING]&&!ua(c))if(l){const d=r.projection,g=l.getImage(c,o,i,d);g&&(this.loadImage(g)?this.image=g:g.getState()===fe.EMPTY&&(this.image=null))}else this.image=null;return!!this.image}getData(e){const t=this.frameState;if(!t)return null;const i=this.getLayer(),r=xt(t.pixelToCoordinateTransform,e.slice()),o=i.getExtent();if(o&&!Po(o,r))return null;const l=this.image.getExtent(),u=this.image.getImage(),c=De(l),d=Math.floor(u.width*((r[0]-l[0])/c));if(d<0||d>=u.width)return null;const g=mt(l),p=Math.floor(u.height*((l[3]-r[1])/g));return p<0||p>=u.height?null:this.getImageData(u,d,p)}renderFrame(e,t){const i=this.image,r=i.getExtent(),o=i.getResolution(),[l,u]=Array.isArray(o)?o:[o,o],c=i.getPixelRatio(),d=e.layerStatesArray[e.layerIndex],g=e.pixelRatio,p=e.viewState,_=p.center,v=p.resolution,x=g*l/(v*c),M=g*u/(v*c);this.prepareContainer(e,t);const w=this.context.canvas.width,C=this.context.canvas.height,S=this.getRenderContext(e);let L=!1,I=!0;if(d.extent){const W=jr(d.extent,p.projection);I=jt(W,e.extent),L=I&&!sr(W,e.extent),L&&this.clipUnrotated(S,e,W)}const A=i.getImage(),F=Mi(this.tempTransform,w/2,C/2,x,M,0,c*(r[0]-_[0])/l,c*(_[1]-r[3])/u);this.renderedResolution=u*g/c;const U=A.width*F[0],z=A.height*F[3];if(this.getLayer().getSource().getInterpolate()||(S.imageSmoothingEnabled=!1),this.preRender(S,e),I&&U>=.5&&z>=.5){const W=F[4],K=F[5],te=d.opacity;te!==1&&(S.save(),S.globalAlpha=te),S.drawImage(A,0,0,+A.width,+A.height,W,K,U,z),te!==1&&S.restore()}return this.postRender(this.context,e),L&&S.restore(),S.imageSmoothingEnabled=!0,this.container}}class KM extends Mh{constructor(e){e=e||{},super(e)}}class ZM extends KM{constructor(e){super(e)}createRenderer(){return new qM(this)}getData(e){return super.getData(e)}}function cd(n){return Array.isArray(n)?Math.min(...n):n}class QM extends ig{constructor(e,t,i,r,o,l,u){let c=e.getExtent();c&&e.canWrapX()&&(c=c.slice(),c[0]=-1/0,c[2]=1/0);let d=t.getExtent();d&&t.canWrapX()&&(d=d.slice(),d[0]=-1/0,d[2]=1/0);const g=d?Rd(i,d):i,p=wi(g),_=$M(e,t,p,r),v=YM,x=new HM(e,t,g,c,_*v,r),M=x.calculateSourceExtent(),w=ua(M)?null:l(M,_,o),C=w?fe.IDLE:fe.EMPTY,S=w?w.getPixelRatio():1;super(i,r,S,C),this.targetProj_=t,this.maxSourceExtent_=c,this.triangulation_=x,this.targetResolution_=r,this.targetExtent_=i,this.sourceImage_=w,this.sourcePixelRatio_=S,this.interpolate_=u,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){this.state==fe.LOADING&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const e=this.sourceImage_.getState();if(e==fe.LOADED){const t=De(this.targetExtent_)/this.targetResolution_,i=mt(this.targetExtent_)/this.targetResolution_;this.canvas_=VM(t,i,this.sourcePixelRatio_,cd(this.sourceImage_.getResolution()),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_)}this.state=e,this.changed()}load(){if(this.state==fe.IDLE){this.state=fe.LOADING,this.changed();const e=this.sourceImage_.getState();e==fe.LOADED||e==fe.ERROR?this.reproject_():(this.sourceListenerKey_=ke(this.sourceImage_,Se.CHANGE,t=>{const i=this.sourceImage_.getState();(i==fe.LOADED||i==fe.ERROR)&&(this.unlistenSource_(),this.reproject_())}),this.sourceImage_.load())}}unlistenSource_(){Ze(this.sourceListenerKey_),this.sourceListenerKey_=null}}const Pu=4,Bf={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};class JM extends Ci{constructor(e,t){super(e),this.image=t}}class eC extends Zy{constructor(e){super({attributions:e.attributions,projection:e.projection,state:e.state,interpolate:e.interpolate!==void 0?e.interpolate:!0}),this.on,this.once,this.un,this.loader=e.loader||null,this.resolutions_=e.resolutions!==void 0?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0,this.image=null,this.wantedExtent_,this.wantedResolution_,this.static_=e.loader?e.loader.length===0:!1,this.wantedProjection_=null}getResolutions(){return this.resolutions_}setResolutions(e){this.resolutions_=e}findNearestResolution(e){const t=this.getResolutions();if(t){const i=xd(t,e,0);e=t[i]}return e}getImage(e,t,i,r){const o=this.getProjection();if(!o||!r||td(o,r))return o&&(r=o),this.getImageInternal(e,t,i,r);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&td(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==t&&Lo(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new QM(o,r,e,t,i,(l,u,c)=>this.getImageInternal(l,u,c,o),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(e,t,i,r){if(this.loader){const o=nC(e,t,i,1),l=this.findNearestResolution(t);if(this.image&&(this.static_||this.wantedProjection_===r&&(this.wantedExtent_&&sr(this.wantedExtent_,o)||sr(this.image.getExtent(),o))&&(this.wantedResolution_&&cd(this.wantedResolution_)===l||cd(this.image.getResolution())===l)))return this.image;this.wantedProjection_=r,this.wantedExtent_=o,this.wantedResolution_=l,this.image=new ig(o,l,i,this.loader),this.image.addEventListener(Se.CHANGE,this.handleImageChange.bind(this))}return this.image}handleImageChange(e){const t=e.target;let i;switch(t.getState()){case fe.LOADING:this.loading=!0,i=Bf.IMAGELOADSTART;break;case fe.LOADED:this.loading=!1,i=Bf.IMAGELOADEND;break;case fe.ERROR:this.loading=!1,i=Bf.IMAGELOADERROR;break;default:return}this.hasListener(i)&&this.dispatchEvent(new JM(i,t))}}function tC(n,e){n.getImage().src=e}function nC(n,e,t,i){const r=e/t,o=wi(n),l=Eu(De(n)/r,Pu),u=Eu(mt(n)/r,Pu),c=Eu((i-1)*l/2,Pu),d=l+2*c,g=Eu((i-1)*u/2,Pu),p=u+2*g;return Uu(o,r,0,[d,p])}function iC(n){const e=n.load||ky,t=n.imageExtent,i=n.crossOrigin??null;return()=>{const r=new Image;return r.crossOrigin=i,e(r,n.url).then(o=>{const l=De(t)/o.width,u=mt(t)/o.height;return{image:o,extent:t,resolution:l!==u?[l,u]:u,pixelRatio:1}})}}class rC extends eC{constructor(e){const t=e.crossOrigin!==void 0?e.crossOrigin:null,i=e.imageLoadFunction!==void 0?e.imageLoadFunction:tC;super({attributions:e.attributions,interpolate:e.interpolate,projection:et(e.projection)}),this.url_=e.url,this.imageExtent_=e.imageExtent,this.image=null,this.image=new ig(this.imageExtent_,void 0,1,iC({url:e.url,imageExtent:e.imageExtent,crossOrigin:t,load:(r,o)=>(this.image.setImage(r),i(this.image,o),ky(r))})),this.image.addEventListener(Se.CHANGE,this.handleImageChange.bind(this))}getImageExtent(){return this.imageExtent_}getImageInternal(e,t,i,r){return jt(e,this.image.getExtent())?this.image:null}getUrl(){return this.url_}}class sC{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=Lh,this.supportedMediaTypes=null}getReadOptions(e,t){if(t){let i=t.dataProjection?et(t.dataProjection):this.readProjection(e);t.extent&&i&&i.getUnits()==="tile-pixels"&&(i=et(i),i.setWorldExtent(t.extent)),t={dataProjection:i,featureProjection:t.featureProjection}}return this.adaptOptions(t)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return Me()}readFeature(e,t){return Me()}readFeatures(e,t){return Me()}readGeometry(e,t){return Me()}readProjection(e){return Me()}writeFeature(e,t){return Me()}writeFeatures(e,t){return Me()}writeGeometry(e,t){return Me()}}function og(n,e,t){const i=t?et(t.featureProjection):null,r=t?et(t.dataProjection):null;let o=n;if(i&&r&&!td(i,r)){e&&(o=n.clone());const l=e?i:r,u=e?r:i;l.getUnits()==="tile-pixels"?o.transform(l,u):o.applyTransform(Ao(l,u))}if(e&&t&&t.decimals!==void 0){const l=Math.pow(10,t.decimals),u=function(c){for(let d=0,g=c.length;d<g;++d)c[d]=Math.round(c[d]*l)/l;return c};o===n&&(o=n.clone()),o.applyTransform(u)}return o}const aC={Point:Yu,LineString:aa,Polygon:dr,MultiPoint:Ah,MultiLineString:ih,MultiPolygon:rh};function oC(n,e,t){return Array.isArray(e[0])?(_y(n,0,e,t)||(n=n.slice(),rd(n,0,e,t)),n):(Bd(n,0,e,t)||(n=n.slice(),qu(n,0,e,t)),n)}function t1(n,e){var o;const t=n.geometry;if(!t)return[];if(Array.isArray(t))return t.map(l=>t1({...n,geometry:l})).flat();const i=t.type==="MultiPolygon"?"Polygon":t.type;if(i==="GeometryCollection"||i==="Circle")throw new Error("Unsupported geometry type: "+i);const r=t.layout.length;return og(new hn(i,i==="Polygon"?oC(t.flatCoordinates,t.ends,r):t.flatCoordinates,(o=t.ends)==null?void 0:o.flat(),r,n.properties||{},n.id).enableSimplifyTransformed(),!1,e)}function lg(n,e){if(!n)return null;if(Array.isArray(n)){const i=n.map(r=>lg(r,e));return new nh(i)}const t=aC[n.type];return og(new t(n.flatCoordinates,n.layout||"XY",n.ends),!1,e)}class lC extends sC{constructor(){super()}getType(){return"json"}readFeature(e,t){return this.readFeatureFromObject(Lu(e),this.getReadOptions(e,t))}readFeatures(e,t){return this.readFeaturesFromObject(Lu(e),this.getReadOptions(e,t))}readFeatureFromObject(e,t){return Me()}readFeaturesFromObject(e,t){return Me()}readGeometry(e,t){return this.readGeometryFromObject(Lu(e),this.getReadOptions(e,t))}readGeometryFromObject(e,t){return Me()}readProjection(e){return this.readProjectionFromObject(Lu(e))}readProjectionFromObject(e){return Me()}writeFeature(e,t){return JSON.stringify(this.writeFeatureObject(e,t))}writeFeatureObject(e,t){return Me()}writeFeatures(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))}writeFeaturesObject(e,t){return Me()}writeGeometry(e,t){return JSON.stringify(this.writeGeometryObject(e,t))}writeGeometryObject(e,t){return Me()}}function Lu(n){if(typeof n=="string"){const e=JSON.parse(n);return e||null}return n!==null?n:null}class uC extends lC{constructor(e){e=e||{},super(),this.dataProjection=et(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=et(e.featureProjection)),e.featureClass&&(this.featureClass=e.featureClass),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,t){let i=null;e.type==="Feature"?i=e:i={type:"Feature",geometry:e,properties:null};const r=ug(i.geometry);if(this.featureClass===hn)return t1({geometry:r,id:i.id,properties:i.properties},t);const o=new Lh;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&i.geometry_name&&o.setGeometryName(i.geometry_name),o.setGeometry(lg(r,t)),"id"in i&&o.setId(i.id),i.properties&&o.setProperties(i.properties,!0),o}readFeaturesFromObject(e,t){const i=e;let r=null;if(i.type==="FeatureCollection"){const o=e;r=[];const l=o.features;for(let u=0,c=l.length;u<c;++u){const d=this.readFeatureFromObject(l[u],t);d&&r.push(d)}}else r=[this.readFeatureFromObject(e,t)];return r.flat()}readGeometryFromObject(e,t){return hC(e,t)}readProjectionFromObject(e){const t=e.crs;let i;if(t)if(t.type=="name")i=et(t.properties.name);else if(t.type==="EPSG")i=et("EPSG:"+t.properties.code);else throw new Error("Unknown SRS type");else i=this.dataProjection;return i}writeFeatureObject(e,t){t=this.adaptOptions(t);const i={type:"Feature",geometry:null,properties:null},r=e.getId();if(r!==void 0&&(i.id=r),!e.hasProperties())return i;const o=e.getProperties(),l=e.getGeometry();return l&&(i.geometry=fd(l,t),delete o[e.getGeometryName()]),Xr(o)||(i.properties=o),i}writeFeaturesObject(e,t){t=this.adaptOptions(t);const i=[];for(let r=0,o=e.length;r<o;++r)i.push(this.writeFeatureObject(e[r],t));return{type:"FeatureCollection",features:i}}writeGeometryObject(e,t){return fd(e,this.adaptOptions(t))}}function ug(n,e){if(!n)return null;let t;switch(n.type){case"Point":{t=fC(n);break}case"LineString":{t=dC(n);break}case"Polygon":{t=_C(n);break}case"MultiPoint":{t=mC(n);break}case"MultiLineString":{t=gC(n);break}case"MultiPolygon":{t=pC(n);break}case"GeometryCollection":{t=cC(n);break}default:throw new Error("Unsupported GeoJSON type: "+n.type)}return t}function hC(n,e){const t=ug(n);return lg(t,e)}function cC(n,e){return n.geometries.map(function(i){return ug(i)})}function fC(n){const e=n.coordinates;return{type:"Point",flatCoordinates:e,layout:Jr(e.length)}}function dC(n){var i;const e=n.coordinates,t=e.flat();return{type:"LineString",flatCoordinates:t,ends:[t.length],layout:Jr(((i=e[0])==null?void 0:i.length)||2)}}function gC(n){var o,l;const e=n.coordinates,t=((l=(o=e[0])==null?void 0:o[0])==null?void 0:l.length)||2,i=[],r=Ko(i,0,e,t);return{type:"MultiLineString",flatCoordinates:i,ends:r,layout:Jr(t)}}function mC(n){var t;const e=n.coordinates;return{type:"MultiPoint",flatCoordinates:e.flat(),layout:Jr(((t=e[0])==null?void 0:t.length)||2)}}function pC(n){var o,l;const e=n.coordinates,t=[],i=((l=(o=e[0])==null?void 0:o[0])==null?void 0:l[0].length)||2,r=cy(t,0,e,i);return{type:"MultiPolygon",flatCoordinates:t,ends:r,layout:Jr(i)}}function _C(n){var o,l;const e=n.coordinates,t=[],i=(l=(o=e[0])==null?void 0:o[0])==null?void 0:l.length,r=Ko(t,0,e,i);return{type:"Polygon",flatCoordinates:t,ends:r,layout:Jr(i)}}function fd(n,e){n=og(n,!0,e);const t=n.getType();let i;switch(t){case"Point":{i=MC(n);break}case"LineString":{i=vC(n);break}case"Polygon":{i=CC(n,e);break}case"MultiPoint":{i=EC(n);break}case"MultiLineString":{i=xC(n);break}case"MultiPolygon":{i=wC(n,e);break}case"GeometryCollection":{i=yC(n,e);break}case"Circle":{i={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+t)}return i}function yC(n,e){return e=Object.assign({},e),delete e.featureProjection,{type:"GeometryCollection",geometries:n.getGeometriesArray().map(function(i){return fd(i,e)})}}function vC(n,e){return{type:"LineString",coordinates:n.getCoordinates()}}function xC(n,e){return{type:"MultiLineString",coordinates:n.getCoordinates()}}function EC(n,e){return{type:"MultiPoint",coordinates:n.getCoordinates()}}function wC(n,e){let t;return e&&(t=e.rightHanded),{type:"MultiPolygon",coordinates:n.getCoordinates(t)}}function MC(n,e){return{type:"Point",coordinates:n.getCoordinates()}}function CC(n,e){let t;return e&&(t=e.rightHanded),{type:"Polygon",coordinates:n.getCoordinates(t)}}function SC(n){n("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),n("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),n("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");for(var e=1;e<=60;++e)n("EPSG:"+(32600+e),"+proj=utm +zone="+e+" +datum=WGS84 +units=m"),n("EPSG:"+(32700+e),"+proj=utm +zone="+e+" +south +datum=WGS84 +units=m");n.WGS84=n["EPSG:4326"],n["EPSG:3785"]=n["EPSG:3857"],n.GOOGLE=n["EPSG:3857"],n["EPSG:900913"]=n["EPSG:3857"],n["EPSG:102113"]=n["EPSG:3857"]}var qr=1,Kr=2,Ks=3,RC=4,dd=5,c_=6378137,IC=6356752314e-3,f_=.0066943799901413165,Mo=484813681109536e-20,H=Math.PI/2,TC=.16666666666666666,PC=.04722222222222222,LC=.022156084656084655,Q=1e-10,vt=.017453292519943295,qn=57.29577951308232,be=Math.PI/4,Wo=Math.PI*2,Et=3.14159265359,nn={};nn.greenwich=0;nn.lisbon=-9.131906111111;nn.paris=2.337229166667;nn.bogota=-74.080916666667;nn.madrid=-3.687938888889;nn.rome=12.452333333333;nn.bern=7.439583333333;nn.jakarta=106.807719444444;nn.ferro=-17.666666666667;nn.brussels=4.367975;nn.stockholm=18.058277777778;nn.athens=23.7163375;nn.oslo=10.722916666667;const AC={mm:{to_meter:.001},cm:{to_meter:.01},ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937},fath:{to_meter:1.8288},kmi:{to_meter:1852},"us-ch":{to_meter:20.1168402336805},"us-mi":{to_meter:1609.34721869444},km:{to_meter:1e3},"ind-ft":{to_meter:.30479841},"ind-yd":{to_meter:.91439523},mi:{to_meter:1609.344},yd:{to_meter:.9144},ch:{to_meter:20.1168},link:{to_meter:.201168},dm:{to_meter:.01},in:{to_meter:.0254},"ind-ch":{to_meter:20.11669506},"us-in":{to_meter:.025400050800101},"us-yd":{to_meter:.914401828803658}};var d_=/[\s_\-\/\(\)]/g;function gr(n,e){if(n[e])return n[e];for(var t=Object.keys(n),i=e.toLowerCase().replace(d_,""),r=-1,o,l;++r<t.length;)if(o=t[r],l=o.toLowerCase().replace(d_,""),l===i)return n[o]}function gd(n){var e={},t=n.split("+").map(function(u){return u.trim()}).filter(function(u){return u}).reduce(function(u,c){var d=c.split("=");return d.push(!0),u[d[0].toLowerCase()]=d[1],u},{}),i,r,o,l={proj:"projName",datum:"datumCode",rf:function(u){e.rf=parseFloat(u)},lat_0:function(u){e.lat0=u*vt},lat_1:function(u){e.lat1=u*vt},lat_2:function(u){e.lat2=u*vt},lat_ts:function(u){e.lat_ts=u*vt},lon_0:function(u){e.long0=u*vt},lon_1:function(u){e.long1=u*vt},lon_2:function(u){e.long2=u*vt},alpha:function(u){e.alpha=parseFloat(u)*vt},gamma:function(u){e.rectified_grid_angle=parseFloat(u)},lonc:function(u){e.longc=u*vt},x_0:function(u){e.x0=parseFloat(u)},y_0:function(u){e.y0=parseFloat(u)},k_0:function(u){e.k0=parseFloat(u)},k:function(u){e.k0=parseFloat(u)},a:function(u){e.a=parseFloat(u)},b:function(u){e.b=parseFloat(u)},r:function(u){e.a=e.b=parseFloat(u)},r_a:function(){e.R_A=!0},zone:function(u){e.zone=parseInt(u,10)},south:function(){e.utmSouth=!0},towgs84:function(u){e.datum_params=u.split(",").map(function(c){return parseFloat(c)})},to_meter:function(u){e.to_meter=parseFloat(u)},units:function(u){e.units=u;var c=gr(AC,u);c&&(e.to_meter=c.to_meter)},from_greenwich:function(u){e.from_greenwich=u*vt},pm:function(u){var c=gr(nn,u);e.from_greenwich=(c||parseFloat(u))*vt},nadgrids:function(u){u==="@null"?e.datumCode="none":e.nadgrids=u},axis:function(u){var c="ewnsud";u.length===3&&c.indexOf(u.substr(0,1))!==-1&&c.indexOf(u.substr(1,1))!==-1&&c.indexOf(u.substr(2,1))!==-1&&(e.axis=u)},approx:function(){e.approx=!0}};for(i in t)r=t[i],i in l?(o=l[i],typeof o=="function"?o(r):e[o]=r):e[i]=r;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e}var Bo=1,n1=2,i1=3,ah=4,r1=5,hg=-1,kC=/\s/,OC=/[A-Za-z]/,NC=/[A-Za-z84_]/,kh=/[,\]]/,s1=/[\d\.E\-\+]/;function Ri(n){if(typeof n!="string")throw new Error("not a string");this.text=n.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Bo}Ri.prototype.readCharicter=function(){var n=this.text[this.place++];if(this.state!==ah)for(;kC.test(n);){if(this.place>=this.text.length)return;n=this.text[this.place++]}switch(this.state){case Bo:return this.neutral(n);case n1:return this.keyword(n);case ah:return this.quoted(n);case r1:return this.afterquote(n);case i1:return this.number(n);case hg:return}};Ri.prototype.afterquote=function(n){if(n==='"'){this.word+='"',this.state=ah;return}if(kh.test(n)){this.word=this.word.trim(),this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in afterquote yet, index '+this.place)};Ri.prototype.afterItem=function(n){if(n===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=Bo;return}if(n==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=Bo,this.currentObject=this.stack.pop(),this.currentObject||(this.state=hg);return}};Ri.prototype.number=function(n){if(s1.test(n)){this.word+=n;return}if(kh.test(n)){this.word=parseFloat(this.word),this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in number yet, index '+this.place)};Ri.prototype.quoted=function(n){if(n==='"'){this.state=r1;return}this.word+=n};Ri.prototype.keyword=function(n){if(NC.test(n)){this.word+=n;return}if(n==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=Bo;return}if(kh.test(n)){this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in keyword yet, index '+this.place)};Ri.prototype.neutral=function(n){if(OC.test(n)){this.word=n,this.state=n1;return}if(n==='"'){this.word="",this.state=ah;return}if(s1.test(n)){this.word=n,this.state=i1;return}if(kh.test(n)){this.afterItem(n);return}throw new Error(`havn't handled "`+n+'" in neutral yet, index '+this.place)};Ri.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===hg)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function DC(n){var e=new Ri(n);return e.output()}function Uf(n,e,t){Array.isArray(e)&&(t.unshift(e),e=null);var i=e?{}:n,r=t.reduce(function(o,l){return $s(l,o),o},i);e&&(n[e]=r)}function $s(n,e){if(!Array.isArray(n)){e[n]=!0;return}var t=n.shift();if(t==="PARAMETER"&&(t=n.shift()),n.length===1){if(Array.isArray(n[0])){e[t]={},$s(n[0],e[t]);return}e[t]=n[0];return}if(!n.length){e[t]=!0;return}if(t==="TOWGS84"){e[t]=n;return}if(t==="AXIS"){t in e||(e[t]=[]),e[t].push(n);return}Array.isArray(t)||(e[t]={});var i;switch(t){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[t]={name:n[0].toLowerCase(),convert:n[1]},n.length===3&&$s(n[2],e[t]);return;case"SPHEROID":case"ELLIPSOID":e[t]={name:n[0],a:n[1],rf:n[2]},n.length===4&&$s(n[3],e[t]);return;case"EDATUM":case"ENGINEERINGDATUM":case"LOCAL_DATUM":case"DATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":n[0]=["name",n[0]],Uf(e,t,n);return;case"COMPD_CS":case"COMPOUNDCRS":case"FITTED_CS":case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"ENGCRS":case"ENGINEERINGCRS":n[0]=["name",n[0]],Uf(e,t,n),e[t].type=t;return;default:for(i=-1;++i<n.length;)if(!Array.isArray(n[i]))return $s(n,e[t]);return Uf(e,t,n)}}var FC=.017453292519943295,bC=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function zC(n,e){var t=e[0],i=e[1];!(t in n)&&i in n&&(n[t]=n[i],e.length===3&&(n[t]=e[2](n[t])))}function $n(n){return n*FC}function a1(n){for(var e=Object.keys(n),t=0,i=e.length;t<i;++t){var r=e[t];bC.indexOf(r)!==-1&&GC(n[r]),typeof n[r]=="object"&&a1(n[r])}}function GC(n){if(n.AUTHORITY){var e=Object.keys(n.AUTHORITY)[0];e&&e in n.AUTHORITY&&(n.title=e+":"+n.AUTHORITY[e])}if(n.type==="GEOGCS"?n.projName="longlat":n.type==="LOCAL_CS"?(n.projName="identity",n.local=!0):typeof n.PROJECTION=="object"?n.projName=Object.keys(n.PROJECTION)[0]:n.projName=n.PROJECTION,n.AXIS){for(var t="",i=0,r=n.AXIS.length;i<r;++i){var o=[n.AXIS[i][0].toLowerCase(),n.AXIS[i][1].toLowerCase()];o[0].indexOf("north")!==-1||(o[0]==="y"||o[0]==="lat")&&o[1]==="north"?t+="n":o[0].indexOf("south")!==-1||(o[0]==="y"||o[0]==="lat")&&o[1]==="south"?t+="s":o[0].indexOf("east")!==-1||(o[0]==="x"||o[0]==="lon")&&o[1]==="east"?t+="e":(o[0].indexOf("west")!==-1||(o[0]==="x"||o[0]==="lon")&&o[1]==="west")&&(t+="w")}t.length===2&&(t+="u"),t.length===3&&(n.axis=t)}n.UNIT&&(n.units=n.UNIT.name.toLowerCase(),n.units==="metre"&&(n.units="meter"),n.UNIT.convert&&(n.type==="GEOGCS"?n.DATUM&&n.DATUM.SPHEROID&&(n.to_meter=n.UNIT.convert*n.DATUM.SPHEROID.a):n.to_meter=n.UNIT.convert));var l=n.GEOGCS;n.type==="GEOGCS"&&(l=n),l&&(l.DATUM?n.datumCode=l.DATUM.name.toLowerCase():n.datumCode=l.name.toLowerCase(),n.datumCode.slice(0,2)==="d_"&&(n.datumCode=n.datumCode.slice(2)),n.datumCode==="new_zealand_1949"&&(n.datumCode="nzgd49"),(n.datumCode==="wgs_1984"||n.datumCode==="world_geodetic_system_1984")&&(n.PROJECTION==="Mercator_Auxiliary_Sphere"&&(n.sphere=!0),n.datumCode="wgs84"),n.datumCode==="belge_1972"&&(n.datumCode="rnb72"),l.DATUM&&l.DATUM.SPHEROID&&(n.ellps=l.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),n.ellps.toLowerCase().slice(0,13)==="international"&&(n.ellps="intl"),n.a=l.DATUM.SPHEROID.a,n.rf=parseFloat(l.DATUM.SPHEROID.rf,10)),l.DATUM&&l.DATUM.TOWGS84&&(n.datum_params=l.DATUM.TOWGS84),~n.datumCode.indexOf("osgb_1936")&&(n.datumCode="osgb36"),~n.datumCode.indexOf("osni_1952")&&(n.datumCode="osni52"),(~n.datumCode.indexOf("tm65")||~n.datumCode.indexOf("geodetic_datum_of_1965"))&&(n.datumCode="ire65"),n.datumCode==="ch1903+"&&(n.datumCode="ch1903"),~n.datumCode.indexOf("israel")&&(n.datumCode="isr93")),n.b&&!isFinite(n.b)&&(n.b=n.a);function u(g){var p=n.to_meter||1;return g*p}var c=function(g){return zC(n,g)},d=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",$n],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",$n],["x0","false_easting",u],["y0","false_northing",u],["long0","central_meridian",$n],["lat0","latitude_of_origin",$n],["lat0","standard_parallel_1",$n],["lat1","standard_parallel_1",$n],["lat2","standard_parallel_2",$n],["azimuth","Azimuth"],["alpha","azimuth",$n],["srsCode","name"]];d.forEach(c),!n.long0&&n.longc&&(n.projName==="Albers_Conic_Equal_Area"||n.projName==="Lambert_Azimuthal_Equal_Area")&&(n.long0=n.longc),!n.lat_ts&&n.lat1&&(n.projName==="Stereographic_South_Pole"||n.projName==="Polar Stereographic (variant B)")?(n.lat0=$n(n.lat1>0?90:-90),n.lat_ts=n.lat1):!n.lat_ts&&n.lat0&&n.projName==="Polar_Stereographic"&&(n.lat_ts=n.lat0,n.lat0=$n(n.lat0>0?90:-90))}function o1(n){var e=DC(n),t=e[0],i={};return $s(e,i),a1(i),i[t]}function zt(n){var e=this;if(arguments.length===2){var t=arguments[1];typeof t=="string"?t.charAt(0)==="+"?zt[n]=gd(arguments[1]):zt[n]=o1(arguments[1]):zt[n]=t}else if(arguments.length===1){if(Array.isArray(n))return n.map(function(i){Array.isArray(i)?zt.apply(e,i):zt(i)});if(typeof n=="string"){if(n in zt)return zt[n]}else"EPSG"in n?zt["EPSG:"+n.EPSG]=n:"ESRI"in n?zt["ESRI:"+n.ESRI]=n:"IAU2000"in n?zt["IAU2000:"+n.IAU2000]=n:console.log(n);return}}SC(zt);function jC(n){return typeof n=="string"}function WC(n){return n in zt}var BC=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function UC(n){return BC.some(function(e){return n.indexOf(e)>-1})}var $C=["3857","900913","3785","102113"];function VC(n){var e=gr(n,"authority");if(e){var t=gr(e,"epsg");return t&&$C.indexOf(t)>-1}}function XC(n){var e=gr(n,"extension");if(e)return gr(e,"proj4")}function HC(n){return n[0]==="+"}function YC(n){if(jC(n)){if(WC(n))return zt[n];if(UC(n)){var e=o1(n);if(VC(e))return zt["EPSG:3857"];var t=XC(e);return t?gd(t):e}if(HC(n))return gd(n)}else return n}function g_(n,e){n=n||{};var t,i;if(!e)return n;for(i in e)t=e[i],t!==void 0&&(n[i]=t);return n}function Qn(n,e,t){var i=n*e;return t/Math.sqrt(1-i*i)}function nl(n){return n<0?-1:1}function J(n){return Math.abs(n)<=Et?n:n-nl(n)*Wo}function Nn(n,e,t){var i=n*t,r=.5*n;return i=Math.pow((1-i)/(1+i),r),Math.tan(.5*(H-e))/i}function Uo(n,e){for(var t=.5*n,i,r,o=H-2*Math.atan(e),l=0;l<=15;l++)if(i=n*Math.sin(o),r=H-2*Math.atan(e*Math.pow((1-i)/(1+i),t))-o,o+=r,Math.abs(r)<=1e-10)return o;return-9999}function qC(){var n=this.b/this.a;this.es=1-n*n,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Qn(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function KC(n){var e=n.x,t=n.y;if(t*qn>90&&t*qn<-90&&e*qn>180&&e*qn<-180)return null;var i,r;if(Math.abs(Math.abs(t)-H)<=Q)return null;if(this.sphere)i=this.x0+this.a*this.k0*J(e-this.long0),r=this.y0+this.a*this.k0*Math.log(Math.tan(be+.5*t));else{var o=Math.sin(t),l=Nn(this.e,t,o);i=this.x0+this.a*this.k0*J(e-this.long0),r=this.y0-this.a*this.k0*Math.log(l)}return n.x=i,n.y=r,n}function ZC(n){var e=n.x-this.x0,t=n.y-this.y0,i,r;if(this.sphere)r=H-2*Math.atan(Math.exp(-t/(this.a*this.k0)));else{var o=Math.exp(-t/(this.a*this.k0));if(r=Uo(this.e,o),r===-9999)return null}return i=J(this.long0+e/(this.a*this.k0)),n.x=i,n.y=r,n}var QC=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const JC={init:qC,forward:KC,inverse:ZC,names:QC};function eS(){}function m_(n){return n}var tS=["longlat","identity"];const nS={init:eS,forward:m_,inverse:m_,names:tS};var iS=[JC,nS],Fu={},oh=[];function l1(n,e){var t=oh.length;return n.names?(oh[t]=n,n.names.forEach(function(i){Fu[i.toLowerCase()]=t}),this):(console.log(e),!0)}function rS(n){if(!n)return!1;var e=n.toLowerCase();if(typeof Fu[e]<"u"&&oh[Fu[e]])return oh[Fu[e]]}function sS(){iS.forEach(l1)}const aS={start:sS,add:l1,get:rS};var Ee={};Ee.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};Ee.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};Ee.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};Ee.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};Ee.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};Ee.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};Ee.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};Ee.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};Ee.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};Ee.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};Ee.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};Ee.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};Ee.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};Ee.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};Ee.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};Ee.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"};Ee.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};Ee.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};Ee.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};Ee.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};Ee.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};Ee.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};Ee.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};Ee.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};Ee.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};Ee.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};Ee.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};Ee.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};Ee.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};Ee.hough={a:6378270,rf:297,ellipseName:"Hough"};Ee.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};Ee.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};Ee.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};Ee.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};Ee.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};Ee.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};Ee.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};Ee.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};Ee.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};Ee.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};Ee.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};Ee.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var oS=Ee.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Ee.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function lS(n,e,t,i){var r=n*n,o=e*e,l=(r-o)/r,u=0;i?(n*=1-l*(TC+l*(PC+l*LC)),r=n*n,l=0):u=Math.sqrt(l);var c=(r-o)/o;return{es:l,e:u,ep2:c}}function uS(n,e,t,i,r){if(!n){var o=gr(Ee,i);o||(o=oS),n=o.a,e=o.b,t=o.rf}return t&&!e&&(e=(1-1/t)*n),(t===0||Math.abs(n-e)<Q)&&(r=!0,e=n),{a:n,b:e,rf:t,sphere:r}}var bu={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},mgi:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Ordnance Survey of Great Britain 1936"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}};for(var hS in bu){var p_=bu[hS];bu[p_.datumName]=p_}function cS(n,e,t,i,r,o,l){var u={};return n===void 0||n==="none"?u.datum_type=dd:u.datum_type=RC,e&&(u.datum_params=e.map(parseFloat),(u.datum_params[0]!==0||u.datum_params[1]!==0||u.datum_params[2]!==0)&&(u.datum_type=qr),u.datum_params.length>3&&(u.datum_params[3]!==0||u.datum_params[4]!==0||u.datum_params[5]!==0||u.datum_params[6]!==0)&&(u.datum_type=Kr,u.datum_params[3]*=Mo,u.datum_params[4]*=Mo,u.datum_params[5]*=Mo,u.datum_params[6]=u.datum_params[6]/1e6+1)),l&&(u.datum_type=Ks,u.grids=l),u.a=t,u.b=i,u.es=r,u.ep2=o,u}var u1={};function fS(n,e){var t=new DataView(e),i=mS(t),r=pS(t,i),o=_S(t,r,i),l={header:r,subgrids:o};return u1[n]=l,l}function dS(n){if(n===void 0)return null;var e=n.split(",");return e.map(gS)}function gS(n){if(n.length===0)return null;var e=n[0]==="@";return e&&(n=n.slice(1)),n==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:n,mandatory:!e,grid:u1[n]||null,isNull:!1}}function Vs(n){return n/3600*Math.PI/180}function mS(n){var e=n.getInt32(8,!1);return e===11?!1:(e=n.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function pS(n,e){return{nFields:n.getInt32(8,e),nSubgridFields:n.getInt32(24,e),nSubgrids:n.getInt32(40,e),shiftType:md(n,56,64).trim(),fromSemiMajorAxis:n.getFloat64(120,e),fromSemiMinorAxis:n.getFloat64(136,e),toSemiMajorAxis:n.getFloat64(152,e),toSemiMinorAxis:n.getFloat64(168,e)}}function md(n,e,t){return String.fromCharCode.apply(null,new Uint8Array(n.buffer.slice(e,t)))}function _S(n,e,t){for(var i=176,r=[],o=0;o<e.nSubgrids;o++){var l=vS(n,i,t),u=xS(n,i,l,t),c=Math.round(1+(l.upperLongitude-l.lowerLongitude)/l.longitudeInterval),d=Math.round(1+(l.upperLatitude-l.lowerLatitude)/l.latitudeInterval);r.push({ll:[Vs(l.lowerLongitude),Vs(l.lowerLatitude)],del:[Vs(l.longitudeInterval),Vs(l.latitudeInterval)],lim:[c,d],count:l.gridNodeCount,cvs:yS(u)}),i+=176+l.gridNodeCount*16}return r}function yS(n){return n.map(function(e){return[Vs(e.longitudeShift),Vs(e.latitudeShift)]})}function vS(n,e,t){return{name:md(n,e+8,e+16).trim(),parent:md(n,e+24,e+24+8).trim(),lowerLatitude:n.getFloat64(e+72,t),upperLatitude:n.getFloat64(e+88,t),lowerLongitude:n.getFloat64(e+104,t),upperLongitude:n.getFloat64(e+120,t),latitudeInterval:n.getFloat64(e+136,t),longitudeInterval:n.getFloat64(e+152,t),gridNodeCount:n.getInt32(e+168,t)}}function xS(n,e,t,i){for(var r=e+176,o=16,l=[],u=0;u<t.gridNodeCount;u++){var c={latitudeShift:n.getFloat32(r+u*o,i),longitudeShift:n.getFloat32(r+u*o+4,i),latitudeAccuracy:n.getFloat32(r+u*o+8,i),longitudeAccuracy:n.getFloat32(r+u*o+12,i)};l.push(c)}return l}function Zn(n,e){if(!(this instanceof Zn))return new Zn(n);e=e||function(d){if(d)throw d};var t=YC(n);if(typeof t!="object"){e("Could not parse to valid json: "+n);return}var i=Zn.projections.get(t.projName);if(!i){e("Could not get projection name from: "+n);return}if(t.datumCode&&t.datumCode!=="none"){var r=gr(bu,t.datumCode);r&&(t.datum_params=t.datum_params||(r.towgs84?r.towgs84.split(","):null),t.ellps=r.ellipse,t.datumName=r.datumName?r.datumName:t.datumCode)}t.k0=t.k0||1,t.axis=t.axis||"enu",t.ellps=t.ellps||"wgs84",t.lat1=t.lat1||t.lat0;var o=uS(t.a,t.b,t.rf,t.ellps,t.sphere),l=lS(o.a,o.b,o.rf,t.R_A),u=dS(t.nadgrids),c=t.datum||cS(t.datumCode,t.datum_params,o.a,o.b,l.es,l.ep2,u);g_(this,t),g_(this,i),this.a=o.a,this.b=o.b,this.rf=o.rf,this.sphere=o.sphere,this.es=l.es,this.e=l.e,this.ep2=l.ep2,this.datum=c,this.init(),e(null,this)}Zn.projections=aS;Zn.projections.start();function ES(n,e){return n.datum_type!==e.datum_type||n.a!==e.a||Math.abs(n.es-e.es)>5e-11?!1:n.datum_type===qr?n.datum_params[0]===e.datum_params[0]&&n.datum_params[1]===e.datum_params[1]&&n.datum_params[2]===e.datum_params[2]:n.datum_type===Kr?n.datum_params[0]===e.datum_params[0]&&n.datum_params[1]===e.datum_params[1]&&n.datum_params[2]===e.datum_params[2]&&n.datum_params[3]===e.datum_params[3]&&n.datum_params[4]===e.datum_params[4]&&n.datum_params[5]===e.datum_params[5]&&n.datum_params[6]===e.datum_params[6]:!0}function h1(n,e,t){var i=n.x,r=n.y,o=n.z?n.z:0,l,u,c,d;if(r<-H&&r>-1.001*H)r=-H;else if(r>H&&r<1.001*H)r=H;else{if(r<-H)return{x:-1/0,y:-1/0,z:n.z};if(r>H)return{x:1/0,y:1/0,z:n.z}}return i>Math.PI&&(i-=2*Math.PI),u=Math.sin(r),d=Math.cos(r),c=u*u,l=t/Math.sqrt(1-e*c),{x:(l+o)*d*Math.cos(i),y:(l+o)*d*Math.sin(i),z:(l*(1-e)+o)*u}}function c1(n,e,t,i){var r=1e-12,o=r*r,l=30,u,c,d,g,p,_,v,x,M,w,C,S,L,I=n.x,A=n.y,F=n.z?n.z:0,U,z,W;if(u=Math.sqrt(I*I+A*A),c=Math.sqrt(I*I+A*A+F*F),u/t<r){if(U=0,c/t<r)return z=H,W=-i,{x:n.x,y:n.y,z:n.z}}else U=Math.atan2(A,I);d=F/c,g=u/c,p=1/Math.sqrt(1-e*(2-e)*g*g),x=g*(1-e)*p,M=d*p,L=0;do L++,v=t/Math.sqrt(1-e*M*M),W=u*x+F*M-v*(1-e*M*M),_=e*v/(v+W),p=1/Math.sqrt(1-_*(2-_)*g*g),w=g*(1-_)*p,C=d*p,S=C*x-w*M,x=w,M=C;while(S*S>o&&L<l);return z=Math.atan(C/Math.abs(w)),{x:U,y:z,z:W}}function wS(n,e,t){if(e===qr)return{x:n.x+t[0],y:n.y+t[1],z:n.z+t[2]};if(e===Kr){var i=t[0],r=t[1],o=t[2],l=t[3],u=t[4],c=t[5],d=t[6];return{x:d*(n.x-c*n.y+u*n.z)+i,y:d*(c*n.x+n.y-l*n.z)+r,z:d*(-u*n.x+l*n.y+n.z)+o}}}function MS(n,e,t){if(e===qr)return{x:n.x-t[0],y:n.y-t[1],z:n.z-t[2]};if(e===Kr){var i=t[0],r=t[1],o=t[2],l=t[3],u=t[4],c=t[5],d=t[6],g=(n.x-i)/d,p=(n.y-r)/d,_=(n.z-o)/d;return{x:g+c*p-u*_,y:-c*g+p+l*_,z:u*g-l*p+_}}}function Au(n){return n===qr||n===Kr}function CS(n,e,t){if(ES(n,e)||n.datum_type===dd||e.datum_type===dd)return t;var i=n.a,r=n.es;if(n.datum_type===Ks){var o=__(n,!1,t);if(o!==0)return;i=c_,r=f_}var l=e.a,u=e.b,c=e.es;if(e.datum_type===Ks&&(l=c_,u=IC,c=f_),r===c&&i===l&&!Au(n.datum_type)&&!Au(e.datum_type))return t;if(t=h1(t,r,i),Au(n.datum_type)&&(t=wS(t,n.datum_type,n.datum_params)),Au(e.datum_type)&&(t=MS(t,e.datum_type,e.datum_params)),t=c1(t,c,l,u),e.datum_type===Ks){var d=__(e,!0,t);if(d!==0)return}return t}function __(n,e,t){if(n.grids===null||n.grids.length===0)return console.log("Grid shift grids not found"),-1;var i={x:-t.x,y:t.y},r={x:Number.NaN,y:Number.NaN},o=[];e:for(var l=0;l<n.grids.length;l++){var u=n.grids[l];if(o.push(u.name),u.isNull){r=i;break}if(u.mandatory,u.grid===null){if(u.mandatory)return console.log("Unable to find mandatory grid '"+u.name+"'"),-1;continue}for(var c=u.grid.subgrids,d=0,g=c.length;d<g;d++){var p=c[d],_=(Math.abs(p.del[1])+Math.abs(p.del[0]))/1e4,v=p.ll[0]-_,x=p.ll[1]-_,M=p.ll[0]+(p.lim[0]-1)*p.del[0]+_,w=p.ll[1]+(p.lim[1]-1)*p.del[1]+_;if(!(x>i.y||v>i.x||w<i.y||M<i.x)&&(r=SS(i,e,p),!isNaN(r.x)))break e}}return isNaN(r.x)?(console.log("Failed to find a grid shift table for location '"+-i.x*qn+" "+i.y*qn+" tried: '"+o+"'"),-1):(t.x=-r.x,t.y=r.y,0)}function SS(n,e,t){var i={x:Number.NaN,y:Number.NaN};if(isNaN(n.x))return i;var r={x:n.x,y:n.y};r.x-=t.ll[0],r.y-=t.ll[1],r.x=J(r.x-Math.PI)+Math.PI;var o=y_(r,t);if(e){if(isNaN(o.x))return i;o.x=r.x-o.x,o.y=r.y-o.y;var l=9,u=1e-12,c,d;do{if(d=y_(o,t),isNaN(d.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}c={x:r.x-(d.x+o.x),y:r.y-(d.y+o.y)},o.x+=c.x,o.y+=c.y}while(l--&&Math.abs(c.x)>u&&Math.abs(c.y)>u);if(l<0)return console.log("Inverse grid shift iterator failed to converge."),i;i.x=J(o.x+t.ll[0]),i.y=o.y+t.ll[1]}else isNaN(o.x)||(i.x=n.x+o.x,i.y=n.y+o.y);return i}function y_(n,e){var t={x:n.x/e.del[0],y:n.y/e.del[1]},i={x:Math.floor(t.x),y:Math.floor(t.y)},r={x:t.x-1*i.x,y:t.y-1*i.y},o={x:Number.NaN,y:Number.NaN},l;if(i.x<0||i.x>=e.lim[0]||i.y<0||i.y>=e.lim[1])return o;l=i.y*e.lim[0]+i.x;var u={x:e.cvs[l][0],y:e.cvs[l][1]};l++;var c={x:e.cvs[l][0],y:e.cvs[l][1]};l+=e.lim[0];var d={x:e.cvs[l][0],y:e.cvs[l][1]};l--;var g={x:e.cvs[l][0],y:e.cvs[l][1]},p=r.x*r.y,_=r.x*(1-r.y),v=(1-r.x)*(1-r.y),x=(1-r.x)*r.y;return o.x=v*u.x+_*c.x+x*g.x+p*d.x,o.y=v*u.y+_*c.y+x*g.y+p*d.y,o}function v_(n,e,t){var i=t.x,r=t.y,o=t.z||0,l,u,c,d={};for(c=0;c<3;c++)if(!(e&&c===2&&t.z===void 0))switch(c===0?(l=i,"ew".indexOf(n.axis[c])!==-1?u="x":u="y"):c===1?(l=r,"ns".indexOf(n.axis[c])!==-1?u="y":u="x"):(l=o,u="z"),n.axis[c]){case"e":d[u]=l;break;case"w":d[u]=-l;break;case"n":d[u]=l;break;case"s":d[u]=-l;break;case"u":t[u]!==void 0&&(d.z=l);break;case"d":t[u]!==void 0&&(d.z=-l);break;default:return null}return d}function f1(n){var e={x:n[0],y:n[1]};return n.length>2&&(e.z=n[2]),n.length>3&&(e.m=n[3]),e}function RS(n){x_(n.x),x_(n.y)}function x_(n){if(typeof Number.isFinite=="function"){if(Number.isFinite(n))return;throw new TypeError("coordinates must be finite numbers")}if(typeof n!="number"||n!==n||!isFinite(n))throw new TypeError("coordinates must be finite numbers")}function IS(n,e){return(n.datum.datum_type===qr||n.datum.datum_type===Kr||n.datum.datum_type===Ks)&&e.datumCode!=="WGS84"||(e.datum.datum_type===qr||e.datum.datum_type===Kr||e.datum.datum_type===Ks)&&n.datumCode!=="WGS84"}function lh(n,e,t,i){var r;Array.isArray(t)?t=f1(t):t={x:t.x,y:t.y,z:t.z,m:t.m};var o=t.z!==void 0;if(RS(t),n.datum&&e.datum&&IS(n,e)&&(r=new Zn("WGS84"),t=lh(n,r,t,i),n=r),i&&n.axis!=="enu"&&(t=v_(n,!1,t)),n.projName==="longlat")t={x:t.x*vt,y:t.y*vt,z:t.z||0};else if(n.to_meter&&(t={x:t.x*n.to_meter,y:t.y*n.to_meter,z:t.z||0}),t=n.inverse(t),!t)return;if(n.from_greenwich&&(t.x+=n.from_greenwich),t=CS(n.datum,e.datum,t),!!t)return e.from_greenwich&&(t={x:t.x-e.from_greenwich,y:t.y,z:t.z||0}),e.projName==="longlat"?t={x:t.x*qn,y:t.y*qn,z:t.z||0}:(t=e.forward(t),e.to_meter&&(t={x:t.x/e.to_meter,y:t.y/e.to_meter,z:t.z||0})),i&&e.axis!=="enu"?v_(e,!0,t):(t&&!o&&delete t.z,t)}var E_=Zn("WGS84");function $f(n,e,t,i){var r,o,l;return Array.isArray(t)?(r=lh(n,e,t,i)||{x:NaN,y:NaN},t.length>2?typeof n.name<"u"&&n.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof r.z=="number"?[r.x,r.y,r.z].concat(t.slice(3)):[r.x,r.y,t[2]].concat(t.slice(3)):[r.x,r.y].concat(t.slice(2)):[r.x,r.y]):(o=lh(n,e,t,i),l=Object.keys(t),l.length===2||l.forEach(function(u){if(typeof n.name<"u"&&n.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(u==="x"||u==="y"||u==="z")return}else if(u==="x"||u==="y")return;o[u]=t[u]}),o)}function w_(n){return n instanceof Zn?n:n.oProj?n.oProj:Zn(n)}function tn(n,e,t){n=w_(n);var i=!1,r;return typeof e>"u"?(e=n,n=E_,i=!0):(typeof e.x<"u"||Array.isArray(e))&&(t=e,e=n,n=E_,i=!0),e=w_(e),t?$f(n,e,t):(r={forward:function(o,l){return $f(n,e,o,l)},inverse:function(o,l){return $f(e,n,o,l)}},i&&(r.oProj=e),r)}var M_=6,d1="AJSAJS",g1="AFAFAF",Xs=65,qt=73,xn=79,_o=86,yo=90;const TS={forward:m1,inverse:PS,toPoint:p1};function m1(n,e){return e=e||5,kS(LS({lat:n[1],lon:n[0]}),e)}function PS(n){var e=cg(y1(n.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function p1(n){var e=cg(y1(n.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function Vf(n){return n*(Math.PI/180)}function C_(n){return 180*(n/Math.PI)}function LS(n){var e=n.lat,t=n.lon,i=6378137,r=.00669438,o=.9996,l,u,c,d,g,p,_,v=Vf(e),x=Vf(t),M,w;w=Math.floor((t+180)/6)+1,t===180&&(w=60),e>=56&&e<64&&t>=3&&t<12&&(w=32),e>=72&&e<84&&(t>=0&&t<9?w=31:t>=9&&t<21?w=33:t>=21&&t<33?w=35:t>=33&&t<42&&(w=37)),l=(w-1)*6-180+3,M=Vf(l),u=r/(1-r),c=i/Math.sqrt(1-r*Math.sin(v)*Math.sin(v)),d=Math.tan(v)*Math.tan(v),g=u*Math.cos(v)*Math.cos(v),p=Math.cos(v)*(x-M),_=i*((1-r/4-3*r*r/64-5*r*r*r/256)*v-(3*r/8+3*r*r/32+45*r*r*r/1024)*Math.sin(2*v)+(15*r*r/256+45*r*r*r/1024)*Math.sin(4*v)-35*r*r*r/3072*Math.sin(6*v));var C=o*c*(p+(1-d+g)*p*p*p/6+(5-18*d+d*d+72*g-58*u)*p*p*p*p*p/120)+5e5,S=o*(_+c*Math.tan(v)*(p*p/2+(5-d+9*g+4*g*g)*p*p*p*p/24+(61-58*d+d*d+600*g-330*u)*p*p*p*p*p*p/720));return e<0&&(S+=1e7),{northing:Math.round(S),easting:Math.round(C),zoneNumber:w,zoneLetter:AS(e)}}function cg(n){var e=n.northing,t=n.easting,i=n.zoneLetter,r=n.zoneNumber;if(r<0||r>60)return null;var o=.9996,l=6378137,u=.00669438,c,d=(1-Math.sqrt(1-u))/(1+Math.sqrt(1-u)),g,p,_,v,x,M,w,C,S,L=t-5e5,I=e;i<"N"&&(I-=1e7),w=(r-1)*6-180+3,c=u/(1-u),M=I/o,C=M/(l*(1-u/4-3*u*u/64-5*u*u*u/256)),S=C+(3*d/2-27*d*d*d/32)*Math.sin(2*C)+(21*d*d/16-55*d*d*d*d/32)*Math.sin(4*C)+151*d*d*d/96*Math.sin(6*C),g=l/Math.sqrt(1-u*Math.sin(S)*Math.sin(S)),p=Math.tan(S)*Math.tan(S),_=c*Math.cos(S)*Math.cos(S),v=l*(1-u)/Math.pow(1-u*Math.sin(S)*Math.sin(S),1.5),x=L/(g*o);var A=S-g*Math.tan(S)/v*(x*x/2-(5+3*p+10*_-4*_*_-9*c)*x*x*x*x/24+(61+90*p+298*_+45*p*p-252*c-3*_*_)*x*x*x*x*x*x/720);A=C_(A);var F=(x-(1+2*p+_)*x*x*x/6+(5-2*_+28*p-3*_*_+8*c+24*p*p)*x*x*x*x*x/120)/Math.cos(S);F=w+C_(F);var U;if(n.accuracy){var z=cg({northing:n.northing+n.accuracy,easting:n.easting+n.accuracy,zoneLetter:n.zoneLetter,zoneNumber:n.zoneNumber});U={top:z.lat,right:z.lon,bottom:A,left:F}}else U={lat:A,lon:F};return U}function AS(n){var e="Z";return 84>=n&&n>=72?e="X":72>n&&n>=64?e="W":64>n&&n>=56?e="V":56>n&&n>=48?e="U":48>n&&n>=40?e="T":40>n&&n>=32?e="S":32>n&&n>=24?e="R":24>n&&n>=16?e="Q":16>n&&n>=8?e="P":8>n&&n>=0?e="N":0>n&&n>=-8?e="M":-8>n&&n>=-16?e="L":-16>n&&n>=-24?e="K":-24>n&&n>=-32?e="J":-32>n&&n>=-40?e="H":-40>n&&n>=-48?e="G":-48>n&&n>=-56?e="F":-56>n&&n>=-64?e="E":-64>n&&n>=-72?e="D":-72>n&&n>=-80&&(e="C"),e}function kS(n,e){var t="00000"+n.easting,i="00000"+n.northing;return n.zoneNumber+n.zoneLetter+OS(n.easting,n.northing,n.zoneNumber)+t.substr(t.length-5,e)+i.substr(i.length-5,e)}function OS(n,e,t){var i=_1(t),r=Math.floor(n/1e5),o=Math.floor(e/1e5)%20;return NS(r,o,i)}function _1(n){var e=n%M_;return e===0&&(e=M_),e}function NS(n,e,t){var i=t-1,r=d1.charCodeAt(i),o=g1.charCodeAt(i),l=r+n-1,u=o+e,c=!1;l>yo&&(l=l-yo+Xs-1,c=!0),(l===qt||r<qt&&l>qt||(l>qt||r<qt)&&c)&&l++,(l===xn||r<xn&&l>xn||(l>xn||r<xn)&&c)&&(l++,l===qt&&l++),l>yo&&(l=l-yo+Xs-1),u>_o?(u=u-_o+Xs-1,c=!0):c=!1,(u===qt||o<qt&&u>qt||(u>qt||o<qt)&&c)&&u++,(u===xn||o<xn&&u>xn||(u>xn||o<xn)&&c)&&(u++,u===qt&&u++),u>_o&&(u=u-_o+Xs-1);var d=String.fromCharCode(l)+String.fromCharCode(u);return d}function y1(n){if(n&&n.length===0)throw"MGRSPoint coverting from nothing";for(var e=n.length,t=null,i="",r,o=0;!/[A-Z]/.test(r=n.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+n;i+=r,o++}var l=parseInt(i,10);if(o===0||o+3>e)throw"MGRSPoint bad conversion from: "+n;var u=n.charAt(o++);if(u<="A"||u==="B"||u==="Y"||u>="Z"||u==="I"||u==="O")throw"MGRSPoint zone letter "+u+" not handled: "+n;t=n.substring(o,o+=2);for(var c=_1(l),d=DS(t.charAt(0),c),g=FS(t.charAt(1),c);g<bS(u);)g+=2e6;var p=e-o;if(p%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+n;var _=p/2,v=0,x=0,M,w,C,S,L;return _>0&&(M=1e5/Math.pow(10,_),w=n.substring(o,o+_),v=parseFloat(w)*M,C=n.substring(o+_),x=parseFloat(C)*M),S=v+d,L=x+g,{easting:S,northing:L,zoneLetter:u,zoneNumber:l,accuracy:M}}function DS(n,e){for(var t=d1.charCodeAt(e-1),i=1e5,r=!1;t!==n.charCodeAt(0);){if(t++,t===qt&&t++,t===xn&&t++,t>yo){if(r)throw"Bad character: "+n;t=Xs,r=!0}i+=1e5}return i}function FS(n,e){if(n>"V")throw"MGRSPoint given invalid Northing "+n;for(var t=g1.charCodeAt(e-1),i=0,r=!1;t!==n.charCodeAt(0);){if(t++,t===qt&&t++,t===xn&&t++,t>_o){if(r)throw"Bad character: "+n;t=Xs,r=!0}i+=1e5}return i}function bS(n){var e;switch(n){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+n}function oa(n,e,t){if(!(this instanceof oa))return new oa(n,e,t);if(Array.isArray(n))this.x=n[0],this.y=n[1],this.z=n[2]||0;else if(typeof n=="object")this.x=n.x,this.y=n.y,this.z=n.z||0;else if(typeof n=="string"&&typeof e>"u"){var i=n.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=n,this.y=e,this.z=t||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}oa.fromMGRS=function(n){return new oa(p1(n))};oa.prototype.toMGRS=function(n){return m1([this.x,this.y],n)};var zS=1,GS=.25,S_=.046875,R_=.01953125,I_=.01068115234375,jS=.75,WS=.46875,BS=.013020833333333334,US=.007120768229166667,$S=.3645833333333333,VS=.005696614583333333,XS=.3076171875;function fg(n){var e=[];e[0]=zS-n*(GS+n*(S_+n*(R_+n*I_))),e[1]=n*(jS-n*(S_+n*(R_+n*I_)));var t=n*n;return e[2]=t*(WS-n*(BS+n*US)),t*=n,e[3]=t*($S-n*VS),e[4]=t*n*XS,e}function da(n,e,t,i){return t*=e,e*=e,i[0]*n-t*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))}var HS=20;function dg(n,e,t){for(var i=1/(1-e),r=n,o=HS;o;--o){var l=Math.sin(r),u=1-e*l*l;if(u=(da(r,l,Math.cos(r),t)-n)*(u*Math.sqrt(u))*i,r-=u,Math.abs(u)<Q)return r}return r}function YS(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=fg(this.es),this.ml0=da(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function qS(n){var e=n.x,t=n.y,i=J(e-this.long0),r,o,l,u=Math.sin(t),c=Math.cos(t);if(this.es){var g=c*i,p=Math.pow(g,2),_=this.ep2*Math.pow(c,2),v=Math.pow(_,2),x=Math.abs(c)>Q?Math.tan(t):0,M=Math.pow(x,2),w=Math.pow(M,2);r=1-this.es*Math.pow(u,2),g=g/Math.sqrt(r);var C=da(t,u,c,this.en);o=this.a*(this.k0*g*(1+p/6*(1-M+_+p/20*(5-18*M+w+14*_-58*M*_+p/42*(61+179*w-w*M-479*M)))))+this.x0,l=this.a*(this.k0*(C-this.ml0+u*i*g/2*(1+p/12*(5-M+9*_+4*v+p/30*(61+w-58*M+270*_-330*M*_+p/56*(1385+543*w-w*M-3111*M))))))+this.y0}else{var d=c*Math.sin(i);if(Math.abs(Math.abs(d)-1)<Q)return 93;if(o=.5*this.a*this.k0*Math.log((1+d)/(1-d))+this.x0,l=c*Math.cos(i)/Math.sqrt(1-Math.pow(d,2)),d=Math.abs(l),d>=1){if(d-1>Q)return 93;l=0}else l=Math.acos(l);t<0&&(l=-l),l=this.a*this.k0*(l-this.lat0)+this.y0}return n.x=o,n.y=l,n}function KS(n){var e,t,i,r,o=(n.x-this.x0)*(1/this.a),l=(n.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+l/this.k0,t=dg(e,this.es,this.en),Math.abs(t)<H){var p=Math.sin(t),_=Math.cos(t),v=Math.abs(_)>Q?Math.tan(t):0,x=this.ep2*Math.pow(_,2),M=Math.pow(x,2),w=Math.pow(v,2),C=Math.pow(w,2);e=1-this.es*Math.pow(p,2);var S=o*Math.sqrt(e)/this.k0,L=Math.pow(S,2);e=e*v,i=t-e*L/(1-this.es)*.5*(1-L/12*(5+3*w-9*x*w+x-4*M-L/30*(61+90*w-252*x*w+45*C+46*x-L/56*(1385+3633*w+4095*C+1574*C*w)))),r=J(this.long0+S*(1-L/6*(1+2*w+x-L/20*(5+28*w+24*C+8*x*w+6*x-L/42*(61+662*w+1320*C+720*C*w))))/_)}else i=H*nl(l),r=0;else{var u=Math.exp(o/this.k0),c=.5*(u-1/u),d=this.lat0+l/this.k0,g=Math.cos(d);e=Math.sqrt((1-Math.pow(g,2))/(1+Math.pow(c,2))),i=Math.asin(e),l<0&&(i=-i),c===0&&g===0?r=0:r=J(Math.atan2(c,g)+this.long0)}return n.x=r,n.y=i,n}var ZS=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const zu={init:YS,forward:qS,inverse:KS,names:ZS};function v1(n){var e=Math.exp(n);return e=(e-1/e)/2,e}function en(n,e){n=Math.abs(n),e=Math.abs(e);var t=Math.max(n,e),i=Math.min(n,e)/(t||1);return t*Math.sqrt(1+Math.pow(i,2))}function QS(n){var e=1+n,t=e-1;return t===0?n:n*Math.log(e)/t}function JS(n){var e=Math.abs(n);return e=QS(e*(1+e/(en(1,e)+1))),n<0?-e:e}function gg(n,e){for(var t=2*Math.cos(2*e),i=n.length-1,r=n[i],o=0,l;--i>=0;)l=-o+t*r+n[i],o=r,r=l;return e+l*Math.sin(2*e)}function eR(n,e){for(var t=2*Math.cos(e),i=n.length-1,r=n[i],o=0,l;--i>=0;)l=-o+t*r+n[i],o=r,r=l;return Math.sin(e)*l}function tR(n){var e=Math.exp(n);return e=(e+1/e)/2,e}function x1(n,e,t){for(var i=Math.sin(e),r=Math.cos(e),o=v1(t),l=tR(t),u=2*r*l,c=-2*i*o,d=n.length-1,g=n[d],p=0,_=0,v=0,x,M;--d>=0;)x=_,M=p,_=g,p=v,g=-x+u*_-c*p+n[d],v=-M+c*_+u*p;return u=i*l,c=r*o,[u*g-c*v,u*v+c*g]}function nR(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(zu.init.apply(this),this.forward=zu.forward,this.inverse=zu.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var n=this.es/(1+Math.sqrt(1-this.es)),e=n/(2-n),t=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),t=t*e,this.cgb[1]=t*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=t*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),t=t*e,this.cgb[2]=t*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=t*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),t=t*e,this.cgb[3]=t*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=t*(1237/630+e*(-12/5+e*(-24832/14175))),t=t*e,this.cgb[4]=t*(4174/315+e*(-144838/6237)),this.cbg[4]=t*(-734/315+e*(109598/31185)),t=t*e,this.cgb[5]=t*(601676/22275),this.cbg[5]=t*(444337/155925),t=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+t*(1/4+t*(1/64+t/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=t*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=t*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),t=t*e,this.utg[2]=t*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=t*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),t=t*e,this.utg[3]=t*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=t*(49561/161280+e*(-179/168+e*(6601661/7257600))),t=t*e,this.utg[4]=t*(-4583/161280+e*(108847/3991680)),this.gtu[4]=t*(34729/80640+e*(-3418889/1995840)),t=t*e,this.utg[5]=t*(-20648693/638668800),this.gtu[5]=t*(212378941/319334400);var i=gg(this.cbg,this.lat0);this.Zb=-this.Qn*(i+eR(this.gtu,2*i))}function iR(n){var e=J(n.x-this.long0),t=n.y;t=gg(this.cbg,t);var i=Math.sin(t),r=Math.cos(t),o=Math.sin(e),l=Math.cos(e);t=Math.atan2(i,l*r),e=Math.atan2(o*r,en(i,r*l)),e=JS(Math.tan(e));var u=x1(this.gtu,2*t,2*e);t=t+u[0],e=e+u[1];var c,d;return Math.abs(e)<=2.623395162778?(c=this.a*(this.Qn*e)+this.x0,d=this.a*(this.Qn*t+this.Zb)+this.y0):(c=1/0,d=1/0),n.x=c,n.y=d,n}function rR(n){var e=(n.x-this.x0)*(1/this.a),t=(n.y-this.y0)*(1/this.a);t=(t-this.Zb)/this.Qn,e=e/this.Qn;var i,r;if(Math.abs(e)<=2.623395162778){var o=x1(this.utg,2*t,2*e);t=t+o[0],e=e+o[1],e=Math.atan(v1(e));var l=Math.sin(t),u=Math.cos(t),c=Math.sin(e),d=Math.cos(e);t=Math.atan2(l*d,en(c,d*u)),e=Math.atan2(c,d*u),i=J(e+this.long0),r=gg(this.cgb,t)}else i=1/0,r=1/0;return n.x=i,n.y=r,n}var sR=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const Gu={init:nR,forward:iR,inverse:rR,names:sR};function aR(n,e){if(n===void 0){if(n=Math.floor((J(e)+Math.PI)*30/Math.PI)+1,n<0)return 0;if(n>60)return 60}return n}var oR="etmerc";function lR(){var n=aR(this.zone,this.long0);if(n===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(n)-183)*vt,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Gu.init.apply(this),this.forward=Gu.forward,this.inverse=Gu.inverse}var uR=["Universal Transverse Mercator System","utm"];const hR={init:lR,names:uR,dependsOn:oR};function mg(n,e){return Math.pow((1-n)/(1+n),e)}var cR=20;function fR(){var n=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*n*n),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(n/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+be)/(Math.pow(Math.tan(.5*this.lat0+be),this.C)*mg(this.e*n,this.ratexp))}function dR(n){var e=n.x,t=n.y;return n.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*t+be),this.C)*mg(this.e*Math.sin(t),this.ratexp))-H,n.x=this.C*e,n}function gR(n){for(var e=1e-14,t=n.x/this.C,i=n.y,r=Math.pow(Math.tan(.5*i+be)/this.K,1/this.C),o=cR;o>0&&(i=2*Math.atan(r*mg(this.e*Math.sin(n.y),-.5*this.e))-H,!(Math.abs(i-n.y)<e));--o)n.y=i;return o?(n.x=t,n.y=i,n):null}var mR=["gauss"];const pg={init:fR,forward:dR,inverse:gR,names:mR};function pR(){pg.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function _R(n){var e,t,i,r;return n.x=J(n.x-this.long0),pg.forward.apply(this,[n]),e=Math.sin(n.y),t=Math.cos(n.y),i=Math.cos(n.x),r=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*t*i),n.x=r*t*Math.sin(n.x),n.y=r*(this.cosc0*e-this.sinc0*t*i),n.x=this.a*n.x+this.x0,n.y=this.a*n.y+this.y0,n}function yR(n){var e,t,i,r,o;if(n.x=(n.x-this.x0)/this.a,n.y=(n.y-this.y0)/this.a,n.x/=this.k0,n.y/=this.k0,o=en(n.x,n.y)){var l=2*Math.atan2(o,this.R2);e=Math.sin(l),t=Math.cos(l),r=Math.asin(t*this.sinc0+n.y*e*this.cosc0/o),i=Math.atan2(n.x*e,o*this.cosc0*t-n.y*this.sinc0*e)}else r=this.phic0,i=0;return n.x=i,n.y=r,pg.inverse.apply(this,[n]),n.x=J(n.x+this.long0),n}var vR=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const xR={init:pR,forward:_R,inverse:yR,names:vR};function ER(n,e,t){return e*=t,Math.tan(.5*(H+n))*Math.pow((1-e)/(1+e),.5*t)}function wR(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Q&&(this.k0=.5*(1+nl(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=Q&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Q&&Math.abs(Math.cos(this.lat_ts))>Q&&(this.k0=.5*this.cons*Qn(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Nn(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Qn(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-H,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function MR(n){var e=n.x,t=n.y,i=Math.sin(t),r=Math.cos(t),o,l,u,c,d,g,p=J(e-this.long0);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=Q&&Math.abs(t+this.lat0)<=Q?(n.x=NaN,n.y=NaN,n):this.sphere?(o=2*this.k0/(1+this.sinlat0*i+this.coslat0*r*Math.cos(p)),n.x=this.a*o*r*Math.sin(p)+this.x0,n.y=this.a*o*(this.coslat0*i-this.sinlat0*r*Math.cos(p))+this.y0,n):(l=2*Math.atan(this.ssfn_(t,i,this.e))-H,c=Math.cos(l),u=Math.sin(l),Math.abs(this.coslat0)<=Q?(d=Nn(this.e,t*this.con,this.con*i),g=2*this.a*this.k0*d/this.cons,n.x=this.x0+g*Math.sin(e-this.long0),n.y=this.y0-this.con*g*Math.cos(e-this.long0),n):(Math.abs(this.sinlat0)<Q?(o=2*this.a*this.k0/(1+c*Math.cos(p)),n.y=o*u):(o=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*u+this.cosX0*c*Math.cos(p))),n.y=o*(this.cosX0*u-this.sinX0*c*Math.cos(p))+this.y0),n.x=o*c*Math.sin(p)+this.x0,n))}function CR(n){n.x-=this.x0,n.y-=this.y0;var e,t,i,r,o,l=Math.sqrt(n.x*n.x+n.y*n.y);if(this.sphere){var u=2*Math.atan(l/(2*this.a*this.k0));return e=this.long0,t=this.lat0,l<=Q?(n.x=e,n.y=t,n):(t=Math.asin(Math.cos(u)*this.sinlat0+n.y*Math.sin(u)*this.coslat0/l),Math.abs(this.coslat0)<Q?this.lat0>0?e=J(this.long0+Math.atan2(n.x,-1*n.y)):e=J(this.long0+Math.atan2(n.x,n.y)):e=J(this.long0+Math.atan2(n.x*Math.sin(u),l*this.coslat0*Math.cos(u)-n.y*this.sinlat0*Math.sin(u))),n.x=e,n.y=t,n)}else if(Math.abs(this.coslat0)<=Q){if(l<=Q)return t=this.lat0,e=this.long0,n.x=e,n.y=t,n;n.x*=this.con,n.y*=this.con,i=l*this.cons/(2*this.a*this.k0),t=this.con*Uo(this.e,i),e=this.con*J(this.con*this.long0+Math.atan2(n.x,-1*n.y))}else r=2*Math.atan(l*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,l<=Q?o=this.X0:(o=Math.asin(Math.cos(r)*this.sinX0+n.y*Math.sin(r)*this.cosX0/l),e=J(this.long0+Math.atan2(n.x*Math.sin(r),l*this.cosX0*Math.cos(r)-n.y*this.sinX0*Math.sin(r)))),t=-1*Uo(this.e,Math.tan(.5*(H+o)));return n.x=e,n.y=t,n}var SR=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const RR={init:wR,forward:MR,inverse:CR,names:SR,ssfn_:ER};function IR(){var n=this.lat0;this.lambda0=this.long0;var e=Math.sin(n),t=this.a,i=this.rf,r=1/i,o=2*r-Math.pow(r,2),l=this.e=Math.sqrt(o);this.R=this.k0*t*Math.sqrt(1-o)/(1-o*Math.pow(e,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(n),4)),this.b0=Math.asin(e/this.alpha);var u=Math.log(Math.tan(Math.PI/4+this.b0/2)),c=Math.log(Math.tan(Math.PI/4+n/2)),d=Math.log((1+l*e)/(1-l*e));this.K=u-this.alpha*c+this.alpha*l/2*d}function TR(n){var e=Math.log(Math.tan(Math.PI/4-n.y/2)),t=this.e/2*Math.log((1+this.e*Math.sin(n.y))/(1-this.e*Math.sin(n.y))),i=-this.alpha*(e+t)+this.K,r=2*(Math.atan(Math.exp(i))-Math.PI/4),o=this.alpha*(n.x-this.lambda0),l=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(o))),u=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(o));return n.y=this.R/2*Math.log((1+Math.sin(u))/(1-Math.sin(u)))+this.y0,n.x=this.R*l+this.x0,n}function PR(n){for(var e=n.x-this.x0,t=n.y-this.y0,i=e/this.R,r=2*(Math.atan(Math.exp(t/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(i)),l=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(r))),u=this.lambda0+l/this.alpha,c=0,d=o,g=-1e3,p=0;Math.abs(d-g)>1e-7;){if(++p>20)return;c=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(d))/2)),g=d,d=2*Math.atan(Math.exp(c))-Math.PI/2}return n.x=u,n.y=d,n}var LR=["somerc"];const AR={init:IR,forward:TR,inverse:PR,names:LR};var Ws=1e-7;function kR(n){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],t=typeof n.PROJECTION=="object"?Object.keys(n.PROJECTION)[0]:n.PROJECTION;return"no_uoff"in n||"no_off"in n||e.indexOf(t)!==-1}function OR(){var n,e,t,i,r,o,l,u,c,d,g=0,p,_=0,v=0,x=0,M=0,w=0,C=0;this.no_off=kR(this),this.no_rot="no_rot"in this;var S=!1;"alpha"in this&&(S=!0);var L=!1;if("rectified_grid_angle"in this&&(L=!0),S&&(C=this.alpha),L&&(g=this.rectified_grid_angle*vt),S||L)_=this.longc;else if(v=this.long1,M=this.lat1,x=this.long2,w=this.lat2,Math.abs(M-w)<=Ws||(n=Math.abs(M))<=Ws||Math.abs(n-H)<=Ws||Math.abs(Math.abs(this.lat0)-H)<=Ws||Math.abs(Math.abs(w)-H)<=Ws)throw new Error;var I=1-this.es;e=Math.sqrt(I),Math.abs(this.lat0)>Q?(u=Math.sin(this.lat0),t=Math.cos(this.lat0),n=1-this.es*u*u,this.B=t*t,this.B=Math.sqrt(1+this.es*this.B*this.B/I),this.A=this.B*this.k0*e/n,i=this.B*e/(t*Math.sqrt(n)),r=i*i-1,r<=0?r=0:(r=Math.sqrt(r),this.lat0<0&&(r=-r)),this.E=r+=i,this.E*=Math.pow(Nn(this.e,this.lat0,u),this.B)):(this.B=1/e,this.A=this.k0,this.E=i=r=1),S||L?(S?(p=Math.asin(Math.sin(C)/i),L||(g=C)):(p=g,C=Math.asin(i*Math.sin(p))),this.lam0=_-Math.asin(.5*(r-1/r)*Math.tan(p))/this.B):(o=Math.pow(Nn(this.e,M,Math.sin(M)),this.B),l=Math.pow(Nn(this.e,w,Math.sin(w)),this.B),r=this.E/o,c=(l-o)/(l+o),d=this.E*this.E,d=(d-l*o)/(d+l*o),n=v-x,n<-Math.pi?x-=Wo:n>Math.pi&&(x+=Wo),this.lam0=J(.5*(v+x)-Math.atan(d*Math.tan(.5*this.B*(v-x))/c)/this.B),p=Math.atan(2*Math.sin(this.B*J(v-this.lam0))/(r-1/r)),g=C=Math.asin(i*Math.sin(p))),this.singam=Math.sin(p),this.cosgam=Math.cos(p),this.sinrot=Math.sin(g),this.cosrot=Math.cos(g),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(i*i-1)/Math.cos(C))),this.lat0<0&&(this.u_0=-this.u_0)),r=.5*p,this.v_pole_n=this.ArB*Math.log(Math.tan(be-r)),this.v_pole_s=this.ArB*Math.log(Math.tan(be+r))}function NR(n){var e={},t,i,r,o,l,u,c,d;if(n.x=n.x-this.lam0,Math.abs(Math.abs(n.y)-H)>Q){if(l=this.E/Math.pow(Nn(this.e,n.y,Math.sin(n.y)),this.B),u=1/l,t=.5*(l-u),i=.5*(l+u),o=Math.sin(this.B*n.x),r=(t*this.singam-o*this.cosgam)/i,Math.abs(Math.abs(r)-1)<Q)throw new Error;d=.5*this.ArB*Math.log((1-r)/(1+r)),u=Math.cos(this.B*n.x),Math.abs(u)<Ws?c=this.A*n.x:c=this.ArB*Math.atan2(t*this.cosgam+o*this.singam,u)}else d=n.y>0?this.v_pole_n:this.v_pole_s,c=this.ArB*n.y;return this.no_rot?(e.x=c,e.y=d):(c-=this.u_0,e.x=d*this.cosrot+c*this.sinrot,e.y=c*this.cosrot-d*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function DR(n){var e,t,i,r,o,l,u,c={};if(n.x=(n.x-this.x0)*(1/this.a),n.y=(n.y-this.y0)*(1/this.a),this.no_rot?(t=n.y,e=n.x):(t=n.x*this.cosrot-n.y*this.sinrot,e=n.y*this.cosrot+n.x*this.sinrot+this.u_0),i=Math.exp(-this.BrA*t),r=.5*(i-1/i),o=.5*(i+1/i),l=Math.sin(this.BrA*e),u=(l*this.cosgam+r*this.singam)/o,Math.abs(Math.abs(u)-1)<Q)c.x=0,c.y=u<0?-H:H;else{if(c.y=this.E/Math.sqrt((1+u)/(1-u)),c.y=Uo(this.e,Math.pow(c.y,1/this.B)),c.y===1/0)throw new Error;c.x=-this.rB*Math.atan2(r*this.cosgam-l*this.singam,Math.cos(this.BrA*e))}return c.x+=this.lam0,c}var FR=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const bR={init:OR,forward:NR,inverse:DR,names:FR};function zR(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<Q)){var n=this.b/this.a;this.e=Math.sqrt(1-n*n);var e=Math.sin(this.lat1),t=Math.cos(this.lat1),i=Qn(this.e,e,t),r=Nn(this.e,this.lat1,e),o=Math.sin(this.lat2),l=Math.cos(this.lat2),u=Qn(this.e,o,l),c=Nn(this.e,this.lat2,o),d=Nn(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>Q?this.ns=Math.log(i/u)/Math.log(r/c):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=i/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(d,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function GR(n){var e=n.x,t=n.y;Math.abs(2*Math.abs(t)-Math.PI)<=Q&&(t=nl(t)*(H-2*Q));var i=Math.abs(Math.abs(t)-H),r,o;if(i>Q)r=Nn(this.e,t,Math.sin(t)),o=this.a*this.f0*Math.pow(r,this.ns);else{if(i=t*this.ns,i<=0)return null;o=0}var l=this.ns*J(e-this.long0);return n.x=this.k0*(o*Math.sin(l))+this.x0,n.y=this.k0*(this.rh-o*Math.cos(l))+this.y0,n}function jR(n){var e,t,i,r,o,l=(n.x-this.x0)/this.k0,u=this.rh-(n.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(l*l+u*u),t=1):(e=-Math.sqrt(l*l+u*u),t=-1);var c=0;if(e!==0&&(c=Math.atan2(t*l,t*u)),e!==0||this.ns>0){if(t=1/this.ns,i=Math.pow(e/(this.a*this.f0),t),r=Uo(this.e,i),r===-9999)return null}else r=-H;return o=J(c/this.ns+this.long0),n.x=o,n.y=r,n}var WR=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const BR={init:zR,forward:GR,inverse:jR,names:WR};function UR(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function $R(n){var e,t,i,r,o,l,u,c=n.x,d=n.y,g=J(c-this.long0);return e=Math.pow((1+this.e*Math.sin(d))/(1-this.e*Math.sin(d)),this.alfa*this.e/2),t=2*(Math.atan(this.k*Math.pow(Math.tan(d/2+this.s45),this.alfa)/e)-this.s45),i=-g*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(t)+Math.sin(this.ad)*Math.cos(t)*Math.cos(i)),o=Math.asin(Math.cos(t)*Math.sin(i)/Math.cos(r)),l=this.n*o,u=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),n.y=u*Math.cos(l)/1,n.x=u*Math.sin(l)/1,this.czech||(n.y*=-1,n.x*=-1),n}function VR(n){var e,t,i,r,o,l,u,c,d=n.x;n.x=n.y,n.y=d,this.czech||(n.y*=-1,n.x*=-1),l=Math.sqrt(n.x*n.x+n.y*n.y),o=Math.atan2(n.y,n.x),r=o/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/l,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),t=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(e)),n.x=this.long0-t/this.alfa,u=e,c=0;var g=0;do n.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.e/2))-this.s45),Math.abs(u-n.y)<1e-10&&(c=1),u=n.y,g+=1;while(c===0&&g<15);return g>=15?null:n}var XR=["Krovak","krovak"];const HR={init:UR,forward:$R,inverse:VR,names:XR};function Wt(n,e,t,i,r){return n*r-e*Math.sin(2*r)+t*Math.sin(4*r)-i*Math.sin(6*r)}function il(n){return 1-.25*n*(1+n/16*(3+1.25*n))}function rl(n){return .375*n*(1+.25*n*(1+.46875*n))}function sl(n){return .05859375*n*n*(1+.75*n)}function al(n){return n*n*n*(35/3072)}function la(n,e,t){var i=e*t;return n/Math.sqrt(1-i*i)}function yr(n){return Math.abs(n)<H?n:n-nl(n)*Math.PI}function uh(n,e,t,i,r){var o,l;o=n/e;for(var u=0;u<15;u++)if(l=(n-(e*o-t*Math.sin(2*o)+i*Math.sin(4*o)-r*Math.sin(6*o)))/(e-2*t*Math.cos(2*o)+4*i*Math.cos(4*o)-6*r*Math.cos(6*o)),o+=l,Math.abs(l)<=1e-10)return o;return NaN}function YR(){this.sphere||(this.e0=il(this.es),this.e1=rl(this.es),this.e2=sl(this.es),this.e3=al(this.es),this.ml0=this.a*Wt(this.e0,this.e1,this.e2,this.e3,this.lat0))}function qR(n){var e,t,i=n.x,r=n.y;if(i=J(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(i)),t=this.a*(Math.atan2(Math.tan(r),Math.cos(i))-this.lat0);else{var o=Math.sin(r),l=Math.cos(r),u=la(this.a,this.e,o),c=Math.tan(r)*Math.tan(r),d=i*Math.cos(r),g=d*d,p=this.es*l*l/(1-this.es),_=this.a*Wt(this.e0,this.e1,this.e2,this.e3,r);e=u*d*(1-g*c*(1/6-(8-c+8*p)*g/120)),t=_-this.ml0+u*o/l*g*(.5+(5-c+6*p)*g/24)}return n.x=e+this.x0,n.y=t+this.y0,n}function KR(n){n.x-=this.x0,n.y-=this.y0;var e=n.x/this.a,t=n.y/this.a,i,r;if(this.sphere){var o=t+this.lat0;i=Math.asin(Math.sin(o)*Math.cos(e)),r=Math.atan2(Math.tan(e),Math.cos(o))}else{var l=this.ml0/this.a+t,u=uh(l,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(u)-H)<=Q)return n.x=this.long0,n.y=H,t<0&&(n.y*=-1),n;var c=la(this.a,this.e,Math.sin(u)),d=c*c*c/this.a/this.a*(1-this.es),g=Math.pow(Math.tan(u),2),p=e*this.a/c,_=p*p;i=u-c*Math.tan(u)/d*p*p*(.5-(1+3*g)*p*p/24),r=p*(1-_*(g/3+(1+3*g)*g*_/15))/Math.cos(u)}return n.x=J(r+this.long0),n.y=yr(i),n}var ZR=["Cassini","Cassini_Soldner","cass"];const QR={init:YR,forward:qR,inverse:KR,names:ZR};function cr(n,e){var t;return n>1e-7?(t=n*e,(1-n*n)*(e/(1-t*t)-.5/n*Math.log((1-t)/(1+t)))):2*e}var JR=1,eI=2,tI=3,nI=4;function iI(){var n=Math.abs(this.lat0);if(Math.abs(n-H)<Q?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(n)<Q?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=cr(this.e,1),this.mmf=.5/(1-this.es),this.apa=fI(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=cr(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function rI(n){var e,t,i,r,o,l,u,c,d,g,p=n.x,_=n.y;if(p=J(p-this.long0),this.sphere){if(o=Math.sin(_),g=Math.cos(_),i=Math.cos(p),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(t=this.mode===this.EQUIT?1+g*i:1+this.sinph0*o+this.cosph0*g*i,t<=Q)return null;t=Math.sqrt(2/t),e=t*g*Math.sin(p),t*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*g*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(_+this.lat0)<Q)return null;t=be-_*.5,t=2*(this.mode===this.S_POLE?Math.cos(t):Math.sin(t)),e=t*Math.sin(p),t*=i}}else{switch(u=0,c=0,d=0,i=Math.cos(p),r=Math.sin(p),o=Math.sin(_),l=cr(this.e,o),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(u=l/this.qp,c=Math.sqrt(1-u*u)),this.mode){case this.OBLIQ:d=1+this.sinb1*u+this.cosb1*c*i;break;case this.EQUIT:d=1+c*i;break;case this.N_POLE:d=H+_,l=this.qp-l;break;case this.S_POLE:d=_-H,l=this.qp+l;break}if(Math.abs(d)<Q)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:d=Math.sqrt(2/d),this.mode===this.OBLIQ?t=this.ymf*d*(this.cosb1*u-this.sinb1*c*i):t=(d=Math.sqrt(2/(1+c*i)))*u*this.ymf,e=this.xmf*d*c*r;break;case this.N_POLE:case this.S_POLE:l>=0?(e=(d=Math.sqrt(l))*r,t=i*(this.mode===this.S_POLE?d:-d)):e=t=0;break}}return n.x=this.a*e+this.x0,n.y=this.a*t+this.y0,n}function sI(n){n.x-=this.x0,n.y-=this.y0;var e=n.x/this.a,t=n.y/this.a,i,r,o,l,u,c,d;if(this.sphere){var g=0,p,_=0;if(p=Math.sqrt(e*e+t*t),r=p*.5,r>1)return null;switch(r=2*Math.asin(r),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(_=Math.sin(r),g=Math.cos(r)),this.mode){case this.EQUIT:r=Math.abs(p)<=Q?0:Math.asin(t*_/p),e*=_,t=g*p;break;case this.OBLIQ:r=Math.abs(p)<=Q?this.lat0:Math.asin(g*this.sinph0+t*_*this.cosph0/p),e*=_*this.cosph0,t=(g-Math.sin(r)*this.sinph0)*p;break;case this.N_POLE:t=-t,r=H-r;break;case this.S_POLE:r-=H;break}i=t===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,t)}else{if(d=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,t*=this.dd,c=Math.sqrt(e*e+t*t),c<Q)return n.x=this.long0,n.y=this.lat0,n;l=2*Math.asin(.5*c/this.rq),o=Math.cos(l),e*=l=Math.sin(l),this.mode===this.OBLIQ?(d=o*this.sinb1+t*l*this.cosb1/c,u=this.qp*d,t=c*this.cosb1*o-t*this.sinb1*l):(d=t*l/c,u=this.qp*d,t=c*o)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(t=-t),u=e*e+t*t,!u)return n.x=this.long0,n.y=this.lat0,n;d=1-u/this.qp,this.mode===this.S_POLE&&(d=-d)}i=Math.atan2(e,t),r=dI(Math.asin(d),this.apa)}return n.x=J(this.long0+i),n.y=r,n}var aI=.3333333333333333,oI=.17222222222222222,lI=.10257936507936508,uI=.06388888888888888,hI=.0664021164021164,cI=.016415012942191543;function fI(n){var e,t=[];return t[0]=n*aI,e=n*n,t[0]+=e*oI,t[1]=e*uI,e*=n,t[0]+=e*lI,t[1]+=e*hI,t[2]=e*cI,t}function dI(n,e){var t=n+n;return n+e[0]*Math.sin(t)+e[1]*Math.sin(t+t)+e[2]*Math.sin(t+t+t)}var gI=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const mI={init:iI,forward:rI,inverse:sI,names:gI,S_POLE:JR,N_POLE:eI,EQUIT:tI,OBLIQ:nI};function mr(n){return Math.abs(n)>1&&(n=n>1?1:-1),Math.asin(n)}function pI(){Math.abs(this.lat1+this.lat2)<Q||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Qn(this.e3,this.sin_po,this.cos_po),this.qs1=cr(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Qn(this.e3,this.sin_po,this.cos_po),this.qs2=cr(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=cr(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>Q?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function _I(n){var e=n.x,t=n.y;this.sin_phi=Math.sin(t),this.cos_phi=Math.cos(t);var i=cr(this.e3,this.sin_phi),r=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,o=this.ns0*J(e-this.long0),l=r*Math.sin(o)+this.x0,u=this.rh-r*Math.cos(o)+this.y0;return n.x=l,n.y=u,n}function yI(n){var e,t,i,r,o,l;return n.x-=this.x0,n.y=this.rh-n.y+this.y0,this.ns0>=0?(e=Math.sqrt(n.x*n.x+n.y*n.y),i=1):(e=-Math.sqrt(n.x*n.x+n.y*n.y),i=-1),r=0,e!==0&&(r=Math.atan2(i*n.x,i*n.y)),i=e*this.ns0/this.a,this.sphere?l=Math.asin((this.c-i*i)/(2*this.ns0)):(t=(this.c-i*i)/this.ns0,l=this.phi1z(this.e3,t)),o=J(r/this.ns0+this.long0),n.x=o,n.y=l,n}function vI(n,e){var t,i,r,o,l,u=mr(.5*e);if(n<Q)return u;for(var c=n*n,d=1;d<=25;d++)if(t=Math.sin(u),i=Math.cos(u),r=n*t,o=1-r*r,l=.5*o*o/i*(e/(1-c)-t/o+.5/n*Math.log((1-r)/(1+r))),u=u+l,Math.abs(l)<=1e-7)return u;return null}var xI=["Albers_Conic_Equal_Area","Albers","aea"];const EI={init:pI,forward:_I,inverse:yI,names:xI,phi1z:vI};function wI(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function MI(n){var e,t,i,r,o,l,u,c,d=n.x,g=n.y;return i=J(d-this.long0),e=Math.sin(g),t=Math.cos(g),r=Math.cos(i),l=this.sin_p14*e+this.cos_p14*t*r,o=1,l>0||Math.abs(l)<=Q?(u=this.x0+this.a*o*t*Math.sin(i)/l,c=this.y0+this.a*o*(this.cos_p14*e-this.sin_p14*t*r)/l):(u=this.x0+this.infinity_dist*t*Math.sin(i),c=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*t*r)),n.x=u,n.y=c,n}function CI(n){var e,t,i,r,o,l;return n.x=(n.x-this.x0)/this.a,n.y=(n.y-this.y0)/this.a,n.x/=this.k0,n.y/=this.k0,(e=Math.sqrt(n.x*n.x+n.y*n.y))?(r=Math.atan2(e,this.rc),t=Math.sin(r),i=Math.cos(r),l=mr(i*this.sin_p14+n.y*t*this.cos_p14/e),o=Math.atan2(n.x*t,e*this.cos_p14*i-n.y*this.sin_p14*t),o=J(this.long0+o)):(l=this.phic0,o=0),n.x=o,n.y=l,n}var SI=["gnom"];const RI={init:wI,forward:MI,inverse:CI,names:SI};function II(n,e){var t=1-(1-n*n)/(2*n)*Math.log((1-n)/(1+n));if(Math.abs(Math.abs(e)-t)<1e-6)return e<0?-1*H:H;for(var i=Math.asin(.5*e),r,o,l,u,c=0;c<30;c++)if(o=Math.sin(i),l=Math.cos(i),u=n*o,r=Math.pow(1-u*u,2)/(2*l)*(e/(1-n*n)-o/(1-u*u)+.5/n*Math.log((1-u)/(1+u))),i+=r,Math.abs(r)<=1e-10)return i;return NaN}function TI(){this.sphere||(this.k0=Qn(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function PI(n){var e=n.x,t=n.y,i,r,o=J(e-this.long0);if(this.sphere)i=this.x0+this.a*o*Math.cos(this.lat_ts),r=this.y0+this.a*Math.sin(t)/Math.cos(this.lat_ts);else{var l=cr(this.e,Math.sin(t));i=this.x0+this.a*this.k0*o,r=this.y0+this.a*l*.5/this.k0}return n.x=i,n.y=r,n}function LI(n){n.x-=this.x0,n.y-=this.y0;var e,t;return this.sphere?(e=J(this.long0+n.x/this.a/Math.cos(this.lat_ts)),t=Math.asin(n.y/this.a*Math.cos(this.lat_ts))):(t=II(this.e,2*n.y*this.k0/this.a),e=J(this.long0+n.x/(this.a*this.k0))),n.x=e,n.y=t,n}var AI=["cea"];const kI={init:TI,forward:PI,inverse:LI,names:AI};function OI(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function NI(n){var e=n.x,t=n.y,i=J(e-this.long0),r=yr(t-this.lat0);return n.x=this.x0+this.a*i*this.rc,n.y=this.y0+this.a*r,n}function DI(n){var e=n.x,t=n.y;return n.x=J(this.long0+(e-this.x0)/(this.a*this.rc)),n.y=yr(this.lat0+(t-this.y0)/this.a),n}var FI=["Equirectangular","Equidistant_Cylindrical","eqc"];const bI={init:OI,forward:NI,inverse:DI,names:FI};var T_=20;function zI(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=il(this.es),this.e1=rl(this.es),this.e2=sl(this.es),this.e3=al(this.es),this.ml0=this.a*Wt(this.e0,this.e1,this.e2,this.e3,this.lat0)}function GI(n){var e=n.x,t=n.y,i,r,o,l=J(e-this.long0);if(o=l*Math.sin(t),this.sphere)Math.abs(t)<=Q?(i=this.a*l,r=-1*this.a*this.lat0):(i=this.a*Math.sin(o)/Math.tan(t),r=this.a*(yr(t-this.lat0)+(1-Math.cos(o))/Math.tan(t)));else if(Math.abs(t)<=Q)i=this.a*l,r=-1*this.ml0;else{var u=la(this.a,this.e,Math.sin(t))/Math.tan(t);i=u*Math.sin(o),r=this.a*Wt(this.e0,this.e1,this.e2,this.e3,t)-this.ml0+u*(1-Math.cos(o))}return n.x=i+this.x0,n.y=r+this.y0,n}function jI(n){var e,t,i,r,o,l,u,c,d;if(i=n.x-this.x0,r=n.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=Q)e=J(i/this.a+this.long0),t=0;else{l=this.lat0+r/this.a,u=i*i/this.a/this.a+l*l,c=l;var g;for(o=T_;o;--o)if(g=Math.tan(c),d=-1*(l*(c*g+1)-c-.5*(c*c+u)*g)/((c-l)/g-1),c+=d,Math.abs(d)<=Q){t=c;break}e=J(this.long0+Math.asin(i*Math.tan(c)/this.a)/Math.sin(t))}else if(Math.abs(r+this.ml0)<=Q)t=0,e=J(this.long0+i/this.a);else{l=(this.ml0+r)/this.a,u=i*i/this.a/this.a+l*l,c=l;var p,_,v,x,M;for(o=T_;o;--o)if(M=this.e*Math.sin(c),p=Math.sqrt(1-M*M)*Math.tan(c),_=this.a*Wt(this.e0,this.e1,this.e2,this.e3,c),v=this.e0-2*this.e1*Math.cos(2*c)+4*this.e2*Math.cos(4*c)-6*this.e3*Math.cos(6*c),x=_/this.a,d=(l*(p*x+1)-x-.5*p*(x*x+u))/(this.es*Math.sin(2*c)*(x*x+u-2*l*x)/(4*p)+(l-x)*(p*v-2/Math.sin(2*c))-v),c-=d,Math.abs(d)<=Q){t=c;break}p=Math.sqrt(1-this.es*Math.pow(Math.sin(t),2))*Math.tan(t),e=J(this.long0+Math.asin(i*p/this.a)/Math.sin(t))}return n.x=e,n.y=t,n}var WI=["Polyconic","poly"];const BI={init:zI,forward:GI,inverse:jI,names:WI};function UI(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function $I(n){var e,t=n.x,i=n.y,r=i-this.lat0,o=t-this.long0,l=r/Mo*1e-5,u=o,c=1,d=0;for(e=1;e<=10;e++)c=c*l,d=d+this.A[e]*c;var g=d,p=u,_=1,v=0,x,M,w=0,C=0;for(e=1;e<=6;e++)x=_*g-v*p,M=v*g+_*p,_=x,v=M,w=w+this.B_re[e]*_-this.B_im[e]*v,C=C+this.B_im[e]*_+this.B_re[e]*v;return n.x=C*this.a+this.x0,n.y=w*this.a+this.y0,n}function VI(n){var e,t=n.x,i=n.y,r=t-this.x0,o=i-this.y0,l=o/this.a,u=r/this.a,c=1,d=0,g,p,_=0,v=0;for(e=1;e<=6;e++)g=c*l-d*u,p=d*l+c*u,c=g,d=p,_=_+this.C_re[e]*c-this.C_im[e]*d,v=v+this.C_im[e]*c+this.C_re[e]*d;for(var x=0;x<this.iterations;x++){var M=_,w=v,C,S,L=l,I=u;for(e=2;e<=6;e++)C=M*_-w*v,S=w*_+M*v,M=C,w=S,L=L+(e-1)*(this.B_re[e]*M-this.B_im[e]*w),I=I+(e-1)*(this.B_im[e]*M+this.B_re[e]*w);M=1,w=0;var A=this.B_re[1],F=this.B_im[1];for(e=2;e<=6;e++)C=M*_-w*v,S=w*_+M*v,M=C,w=S,A=A+e*(this.B_re[e]*M-this.B_im[e]*w),F=F+e*(this.B_im[e]*M+this.B_re[e]*w);var U=A*A+F*F;_=(L*A+I*F)/U,v=(I*A-L*F)/U}var z=_,W=v,K=1,te=0;for(e=1;e<=9;e++)K=K*z,te=te+this.D[e]*K;var ue=this.lat0+te*Mo*1e5,de=this.long0+W;return n.x=de,n.y=ue,n}var XI=["New_Zealand_Map_Grid","nzmg"];const HI={init:UI,forward:$I,inverse:VI,names:XI};function YI(){}function qI(n){var e=n.x,t=n.y,i=J(e-this.long0),r=this.x0+this.a*i,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+t/2.5))*1.25;return n.x=r,n.y=o,n}function KI(n){n.x-=this.x0,n.y-=this.y0;var e=J(this.long0+n.x/this.a),t=2.5*(Math.atan(Math.exp(.8*n.y/this.a))-Math.PI/4);return n.x=e,n.y=t,n}var ZI=["Miller_Cylindrical","mill"];const QI={init:YI,forward:qI,inverse:KI,names:ZI};var JI=20;function e3(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=fg(this.es)}function t3(n){var e,t,i=n.x,r=n.y;if(i=J(i-this.long0),this.sphere){if(!this.m)r=this.n!==1?Math.asin(this.n*Math.sin(r)):r;else for(var o=this.n*Math.sin(r),l=JI;l;--l){var u=(this.m*r+Math.sin(r)-o)/(this.m+Math.cos(r));if(r-=u,Math.abs(u)<Q)break}e=this.a*this.C_x*i*(this.m+Math.cos(r)),t=this.a*this.C_y*r}else{var c=Math.sin(r),d=Math.cos(r);t=this.a*da(r,c,d,this.en),e=this.a*i*d/Math.sqrt(1-this.es*c*c)}return n.x=e,n.y=t,n}function n3(n){var e,t,i,r;return n.x-=this.x0,i=n.x/this.a,n.y-=this.y0,e=n.y/this.a,this.sphere?(e/=this.C_y,i=i/(this.C_x*(this.m+Math.cos(e))),this.m?e=mr((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=mr(Math.sin(e)/this.n)),i=J(i+this.long0),e=yr(e)):(e=dg(n.y/this.a,this.es,this.en),r=Math.abs(e),r<H?(r=Math.sin(e),t=this.long0+n.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(e)),i=J(t)):r-Q<H&&(i=this.long0)),n.x=i,n.y=e,n}var i3=["Sinusoidal","sinu"];const r3={init:e3,forward:t3,inverse:n3,names:i3};function s3(){}function a3(n){for(var e=n.x,t=n.y,i=J(e-this.long0),r=t,o=Math.PI*Math.sin(t);;){var l=-(r+Math.sin(r)-o)/(1+Math.cos(r));if(r+=l,Math.abs(l)<Q)break}r/=2,Math.PI/2-Math.abs(t)<Q&&(i=0);var u=.900316316158*this.a*i*Math.cos(r)+this.x0,c=1.4142135623731*this.a*Math.sin(r)+this.y0;return n.x=u,n.y=c,n}function o3(n){var e,t;n.x-=this.x0,n.y-=this.y0,t=n.y/(1.4142135623731*this.a),Math.abs(t)>.999999999999&&(t=.999999999999),e=Math.asin(t);var i=J(this.long0+n.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),t=(2*e+Math.sin(2*e))/Math.PI,Math.abs(t)>1&&(t=1);var r=Math.asin(t);return n.x=i,n.y=r,n}var l3=["Mollweide","moll"];const u3={init:s3,forward:a3,inverse:o3,names:l3};function h3(){Math.abs(this.lat1+this.lat2)<Q||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=il(this.es),this.e1=rl(this.es),this.e2=sl(this.es),this.e3=al(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Qn(this.e,this.sinphi,this.cosphi),this.ml1=Wt(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<Q?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Qn(this.e,this.sinphi,this.cosphi),this.ml2=Wt(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Wt(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function c3(n){var e=n.x,t=n.y,i;if(this.sphere)i=this.a*(this.g-t);else{var r=Wt(this.e0,this.e1,this.e2,this.e3,t);i=this.a*(this.g-r)}var o=this.ns*J(e-this.long0),l=this.x0+i*Math.sin(o),u=this.y0+this.rh-i*Math.cos(o);return n.x=l,n.y=u,n}function f3(n){n.x-=this.x0,n.y=this.rh-n.y+this.y0;var e,t,i,r;this.ns>=0?(t=Math.sqrt(n.x*n.x+n.y*n.y),e=1):(t=-Math.sqrt(n.x*n.x+n.y*n.y),e=-1);var o=0;if(t!==0&&(o=Math.atan2(e*n.x,e*n.y)),this.sphere)return r=J(this.long0+o/this.ns),i=yr(this.g-t/this.a),n.x=r,n.y=i,n;var l=this.g-t/this.a;return i=uh(l,this.e0,this.e1,this.e2,this.e3),r=J(this.long0+o/this.ns),n.x=r,n.y=i,n}var d3=["Equidistant_Conic","eqdc"];const g3={init:h3,forward:c3,inverse:f3,names:d3};function m3(){this.R=this.a}function p3(n){var e=n.x,t=n.y,i=J(e-this.long0),r,o;Math.abs(t)<=Q&&(r=this.x0+this.R*i,o=this.y0);var l=mr(2*Math.abs(t/Math.PI));(Math.abs(i)<=Q||Math.abs(Math.abs(t)-H)<=Q)&&(r=this.x0,t>=0?o=this.y0+Math.PI*this.R*Math.tan(.5*l):o=this.y0+Math.PI*this.R*-Math.tan(.5*l));var u=.5*Math.abs(Math.PI/i-i/Math.PI),c=u*u,d=Math.sin(l),g=Math.cos(l),p=g/(d+g-1),_=p*p,v=p*(2/d-1),x=v*v,M=Math.PI*this.R*(u*(p-x)+Math.sqrt(c*(p-x)*(p-x)-(x+c)*(_-x)))/(x+c);i<0&&(M=-M),r=this.x0+M;var w=c+p;return M=Math.PI*this.R*(v*w-u*Math.sqrt((x+c)*(c+1)-w*w))/(x+c),t>=0?o=this.y0+M:o=this.y0-M,n.x=r,n.y=o,n}function _3(n){var e,t,i,r,o,l,u,c,d,g,p,_,v;return n.x-=this.x0,n.y-=this.y0,p=Math.PI*this.R,i=n.x/p,r=n.y/p,o=i*i+r*r,l=-Math.abs(r)*(1+o),u=l-2*r*r+i*i,c=-2*l+1+2*r*r+o*o,v=r*r/c+(2*u*u*u/c/c/c-9*l*u/c/c)/27,d=(l-u*u/3/c)/c,g=2*Math.sqrt(-d/3),p=3*v/d/g,Math.abs(p)>1&&(p>=0?p=1:p=-1),_=Math.acos(p)/3,n.y>=0?t=(-g*Math.cos(_+Math.PI/3)-u/3/c)*Math.PI:t=-(-g*Math.cos(_+Math.PI/3)-u/3/c)*Math.PI,Math.abs(i)<Q?e=this.long0:e=J(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(i*i-r*r)+o*o))/2/i),n.x=e,n.y=t,n}var y3=["Van_der_Grinten_I","VanDerGrinten","vandg"];const v3={init:m3,forward:p3,inverse:_3,names:y3};function x3(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function E3(n){var e=n.x,t=n.y,i=Math.sin(n.y),r=Math.cos(n.y),o=J(e-this.long0),l,u,c,d,g,p,_,v,x,M,w,C,S,L,I,A,F,U,z,W,K,te,ue;return this.sphere?Math.abs(this.sin_p12-1)<=Q?(n.x=this.x0+this.a*(H-t)*Math.sin(o),n.y=this.y0-this.a*(H-t)*Math.cos(o),n):Math.abs(this.sin_p12+1)<=Q?(n.x=this.x0+this.a*(H+t)*Math.sin(o),n.y=this.y0+this.a*(H+t)*Math.cos(o),n):(U=this.sin_p12*i+this.cos_p12*r*Math.cos(o),A=Math.acos(U),F=A?A/Math.sin(A):1,n.x=this.x0+this.a*F*r*Math.sin(o),n.y=this.y0+this.a*F*(this.cos_p12*i-this.sin_p12*r*Math.cos(o)),n):(l=il(this.es),u=rl(this.es),c=sl(this.es),d=al(this.es),Math.abs(this.sin_p12-1)<=Q?(g=this.a*Wt(l,u,c,d,H),p=this.a*Wt(l,u,c,d,t),n.x=this.x0+(g-p)*Math.sin(o),n.y=this.y0-(g-p)*Math.cos(o),n):Math.abs(this.sin_p12+1)<=Q?(g=this.a*Wt(l,u,c,d,H),p=this.a*Wt(l,u,c,d,t),n.x=this.x0+(g+p)*Math.sin(o),n.y=this.y0+(g+p)*Math.cos(o),n):(_=i/r,v=la(this.a,this.e,this.sin_p12),x=la(this.a,this.e,i),M=Math.atan((1-this.es)*_+this.es*v*this.sin_p12/(x*r)),w=Math.atan2(Math.sin(o),this.cos_p12*Math.tan(M)-this.sin_p12*Math.cos(o)),w===0?z=Math.asin(this.cos_p12*Math.sin(M)-this.sin_p12*Math.cos(M)):Math.abs(Math.abs(w)-Math.PI)<=Q?z=-Math.asin(this.cos_p12*Math.sin(M)-this.sin_p12*Math.cos(M)):z=Math.asin(Math.sin(o)*Math.cos(M)/Math.sin(w)),C=this.e*this.sin_p12/Math.sqrt(1-this.es),S=this.e*this.cos_p12*Math.cos(w)/Math.sqrt(1-this.es),L=C*S,I=S*S,W=z*z,K=W*z,te=K*z,ue=te*z,A=v*z*(1-W*I*(1-I)/6+K/8*L*(1-2*I)+te/120*(I*(4-7*I)-3*C*C*(1-7*I))-ue/48*L),n.x=this.x0+A*Math.sin(w),n.y=this.y0+A*Math.cos(w),n))}function w3(n){n.x-=this.x0,n.y-=this.y0;var e,t,i,r,o,l,u,c,d,g,p,_,v,x,M,w,C,S,L,I,A,F,U,z;return this.sphere?(e=Math.sqrt(n.x*n.x+n.y*n.y),e>2*H*this.a?void 0:(t=e/this.a,i=Math.sin(t),r=Math.cos(t),o=this.long0,Math.abs(e)<=Q?l=this.lat0:(l=mr(r*this.sin_p12+n.y*i*this.cos_p12/e),u=Math.abs(this.lat0)-H,Math.abs(u)<=Q?this.lat0>=0?o=J(this.long0+Math.atan2(n.x,-n.y)):o=J(this.long0-Math.atan2(-n.x,n.y)):o=J(this.long0+Math.atan2(n.x*i,e*this.cos_p12*r-n.y*this.sin_p12*i))),n.x=o,n.y=l,n)):(c=il(this.es),d=rl(this.es),g=sl(this.es),p=al(this.es),Math.abs(this.sin_p12-1)<=Q?(_=this.a*Wt(c,d,g,p,H),e=Math.sqrt(n.x*n.x+n.y*n.y),v=_-e,l=uh(v/this.a,c,d,g,p),o=J(this.long0+Math.atan2(n.x,-1*n.y)),n.x=o,n.y=l,n):Math.abs(this.sin_p12+1)<=Q?(_=this.a*Wt(c,d,g,p,H),e=Math.sqrt(n.x*n.x+n.y*n.y),v=e-_,l=uh(v/this.a,c,d,g,p),o=J(this.long0+Math.atan2(n.x,n.y)),n.x=o,n.y=l,n):(e=Math.sqrt(n.x*n.x+n.y*n.y),w=Math.atan2(n.x,n.y),x=la(this.a,this.e,this.sin_p12),C=Math.cos(w),S=this.e*this.cos_p12*C,L=-S*S/(1-this.es),I=3*this.es*(1-L)*this.sin_p12*this.cos_p12*C/(1-this.es),A=e/x,F=A-L*(1+L)*Math.pow(A,3)/6-I*(1+3*L)*Math.pow(A,4)/24,U=1-L*F*F/2-A*F*F*F/6,M=Math.asin(this.sin_p12*Math.cos(F)+this.cos_p12*Math.sin(F)*C),o=J(this.long0+Math.asin(Math.sin(w)*Math.sin(F)/Math.cos(M))),z=Math.sin(M),l=Math.atan2((z-this.es*U*this.sin_p12)*Math.tan(M),z*(1-this.es)),n.x=o,n.y=l,n))}var M3=["Azimuthal_Equidistant","aeqd"];const C3={init:x3,forward:E3,inverse:w3,names:M3};function S3(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function R3(n){var e,t,i,r,o,l,u,c,d=n.x,g=n.y;return i=J(d-this.long0),e=Math.sin(g),t=Math.cos(g),r=Math.cos(i),l=this.sin_p14*e+this.cos_p14*t*r,o=1,(l>0||Math.abs(l)<=Q)&&(u=this.a*o*t*Math.sin(i),c=this.y0+this.a*o*(this.cos_p14*e-this.sin_p14*t*r)),n.x=u,n.y=c,n}function I3(n){var e,t,i,r,o,l,u;return n.x-=this.x0,n.y-=this.y0,e=Math.sqrt(n.x*n.x+n.y*n.y),t=mr(e/this.a),i=Math.sin(t),r=Math.cos(t),l=this.long0,Math.abs(e)<=Q?(u=this.lat0,n.x=l,n.y=u,n):(u=mr(r*this.sin_p14+n.y*i*this.cos_p14/e),o=Math.abs(this.lat0)-H,Math.abs(o)<=Q?(this.lat0>=0?l=J(this.long0+Math.atan2(n.x,-n.y)):l=J(this.long0-Math.atan2(-n.x,n.y)),n.x=l,n.y=u,n):(l=J(this.long0+Math.atan2(n.x*i,e*this.cos_p14*r-n.y*this.sin_p14*i)),n.x=l,n.y=u,n))}var T3=["ortho"];const P3={init:S3,forward:R3,inverse:I3,names:T3};var Ke={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},ze={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function L3(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=H-be/2?this.face=Ke.TOP:this.lat0<=-(H-be/2)?this.face=Ke.BOTTOM:Math.abs(this.long0)<=be?this.face=Ke.FRONT:Math.abs(this.long0)<=H+be?this.face=this.long0>0?Ke.RIGHT:Ke.LEFT:this.face=Ke.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function A3(n){var e={x:0,y:0},t,i,r,o,l,u,c={value:0};if(n.x-=this.long0,this.es!==0?t=Math.atan(this.one_minus_f_squared*Math.tan(n.y)):t=n.y,i=n.x,this.face===Ke.TOP)o=H-t,i>=be&&i<=H+be?(c.value=ze.AREA_0,r=i-H):i>H+be||i<=-(H+be)?(c.value=ze.AREA_1,r=i>0?i-Et:i+Et):i>-(H+be)&&i<=-be?(c.value=ze.AREA_2,r=i+H):(c.value=ze.AREA_3,r=i);else if(this.face===Ke.BOTTOM)o=H+t,i>=be&&i<=H+be?(c.value=ze.AREA_0,r=-i+H):i<be&&i>=-be?(c.value=ze.AREA_1,r=-i):i<-be&&i>=-(H+be)?(c.value=ze.AREA_2,r=-i-H):(c.value=ze.AREA_3,r=i>0?-i+Et:-i-Et);else{var d,g,p,_,v,x,M;this.face===Ke.RIGHT?i=Zs(i,+H):this.face===Ke.BACK?i=Zs(i,3.14159265359):this.face===Ke.LEFT&&(i=Zs(i,-H)),_=Math.sin(t),v=Math.cos(t),x=Math.sin(i),M=Math.cos(i),d=v*M,g=v*x,p=_,this.face===Ke.FRONT?(o=Math.acos(d),r=ku(o,p,g,c)):this.face===Ke.RIGHT?(o=Math.acos(g),r=ku(o,p,-d,c)):this.face===Ke.BACK?(o=Math.acos(-d),r=ku(o,p,-g,c)):this.face===Ke.LEFT?(o=Math.acos(-g),r=ku(o,p,d,c)):(o=r=0,c.value=ze.AREA_0)}return u=Math.atan(12/Et*(r+Math.acos(Math.sin(r)*Math.cos(be))-H)),l=Math.sqrt((1-Math.cos(o))/(Math.cos(u)*Math.cos(u))/(1-Math.cos(Math.atan(1/Math.cos(r))))),c.value===ze.AREA_1?u+=H:c.value===ze.AREA_2?u+=Et:c.value===ze.AREA_3&&(u+=1.5*Et),e.x=l*Math.cos(u),e.y=l*Math.sin(u),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,n.x=e.x,n.y=e.y,n}function k3(n){var e={lam:0,phi:0},t,i,r,o,l,u,c,d,g,p={value:0};if(n.x=(n.x-this.x0)/this.a,n.y=(n.y-this.y0)/this.a,i=Math.atan(Math.sqrt(n.x*n.x+n.y*n.y)),t=Math.atan2(n.y,n.x),n.x>=0&&n.x>=Math.abs(n.y)?p.value=ze.AREA_0:n.y>=0&&n.y>=Math.abs(n.x)?(p.value=ze.AREA_1,t-=H):n.x<0&&-n.x>=Math.abs(n.y)?(p.value=ze.AREA_2,t=t<0?t+Et:t-Et):(p.value=ze.AREA_3,t+=H),g=Et/12*Math.tan(t),l=Math.sin(g)/(Math.cos(g)-1/Math.sqrt(2)),u=Math.atan(l),r=Math.cos(t),o=Math.tan(i),c=1-r*r*o*o*(1-Math.cos(Math.atan(1/Math.cos(u)))),c<-1?c=-1:c>1&&(c=1),this.face===Ke.TOP)d=Math.acos(c),e.phi=H-d,p.value===ze.AREA_0?e.lam=u+H:p.value===ze.AREA_1?e.lam=u<0?u+Et:u-Et:p.value===ze.AREA_2?e.lam=u-H:e.lam=u;else if(this.face===Ke.BOTTOM)d=Math.acos(c),e.phi=d-H,p.value===ze.AREA_0?e.lam=-u+H:p.value===ze.AREA_1?e.lam=-u:p.value===ze.AREA_2?e.lam=-u-H:e.lam=u<0?-u-Et:-u+Et;else{var _,v,x;_=c,g=_*_,g>=1?x=0:x=Math.sqrt(1-g)*Math.sin(u),g+=x*x,g>=1?v=0:v=Math.sqrt(1-g),p.value===ze.AREA_1?(g=v,v=-x,x=g):p.value===ze.AREA_2?(v=-v,x=-x):p.value===ze.AREA_3&&(g=v,v=x,x=-g),this.face===Ke.RIGHT?(g=_,_=-v,v=g):this.face===Ke.BACK?(_=-_,v=-v):this.face===Ke.LEFT&&(g=_,_=v,v=-g),e.phi=Math.acos(-x)-H,e.lam=Math.atan2(v,_),this.face===Ke.RIGHT?e.lam=Zs(e.lam,-H):this.face===Ke.BACK?e.lam=Zs(e.lam,-3.14159265359):this.face===Ke.LEFT&&(e.lam=Zs(e.lam,+H))}if(this.es!==0){var M,w,C;M=e.phi<0?1:0,w=Math.tan(e.phi),C=this.b/Math.sqrt(w*w+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-C*C)/(this.one_minus_f*C)),M&&(e.phi=-e.phi)}return e.lam+=this.long0,n.x=e.lam,n.y=e.phi,n}function ku(n,e,t,i){var r;return n<Q?(i.value=ze.AREA_0,r=0):(r=Math.atan2(e,t),Math.abs(r)<=be?i.value=ze.AREA_0:r>be&&r<=H+be?(i.value=ze.AREA_1,r-=H):r>H+be||r<=-(H+be)?(i.value=ze.AREA_2,r=r>=0?r-Et:r+Et):(i.value=ze.AREA_3,r+=H)),r}function Zs(n,e){var t=n+e;return t<-3.14159265359?t+=Wo:t>3.14159265359&&(t-=Wo),t}var O3=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const N3={init:L3,forward:A3,inverse:k3,names:O3};var pd=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],vo=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],E1=.8487,w1=1.3523,M1=qn/5,D3=1/M1,Hs=18,hh=function(n,e){return n[0]+e*(n[1]+e*(n[2]+e*n[3]))},F3=function(n,e){return n[1]+e*(2*n[2]+e*3*n[3])};function b3(n,e,t,i){for(var r=e;i;--i){var o=n(r);if(r-=o,Math.abs(o)<t)break}return r}function z3(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function G3(n){var e=J(n.x-this.long0),t=Math.abs(n.y),i=Math.floor(t*M1);i<0?i=0:i>=Hs&&(i=Hs-1),t=qn*(t-D3*i);var r={x:hh(pd[i],t)*e,y:hh(vo[i],t)};return n.y<0&&(r.y=-r.y),r.x=r.x*this.a*E1+this.x0,r.y=r.y*this.a*w1+this.y0,r}function j3(n){var e={x:(n.x-this.x0)/(this.a*E1),y:Math.abs(n.y-this.y0)/(this.a*w1)};if(e.y>=1)e.x/=pd[Hs][0],e.y=n.y<0?-H:H;else{var t=Math.floor(e.y*Hs);for(t<0?t=0:t>=Hs&&(t=Hs-1);;)if(vo[t][0]>e.y)--t;else if(vo[t+1][0]<=e.y)++t;else break;var i=vo[t],r=5*(e.y-i[0])/(vo[t+1][0]-i[0]);r=b3(function(o){return(hh(i,o)-e.y)/F3(i,o)},r,Q,100),e.x/=hh(pd[t],r),e.y=(5*t+r)*vt,n.y<0&&(e.y=-e.y)}return e.x=J(e.x+this.long0),e}var W3=["Robinson","robin"];const B3={init:z3,forward:G3,inverse:j3,names:W3};function U3(){this.name="geocent"}function $3(n){var e=h1(n,this.es,this.a);return e}function V3(n){var e=c1(n,this.es,this.a,this.b);return e}var X3=["Geocentric","geocentric","geocent","Geocent"];const H3={init:U3,forward:$3,inverse:V3,names:X3};var Pt={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},oo={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function Y3(){if(Object.keys(oo).forEach((function(t){if(typeof this[t]>"u")this[t]=oo[t].def;else{if(oo[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);oo[t].num&&(this[t]=parseFloat(this[t]))}oo[t].degrees&&(this[t]=this[t]*vt)}).bind(this)),Math.abs(Math.abs(this.lat0)-H)<Q?this.mode=this.lat0<0?Pt.S_POLE:Pt.N_POLE:Math.abs(this.lat0)<Q?this.mode=Pt.EQUIT:(this.mode=Pt.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var n=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(n),this.sw=Math.sin(n)}function q3(n){n.x-=this.long0;var e=Math.sin(n.y),t=Math.cos(n.y),i=Math.cos(n.x),r,o;switch(this.mode){case Pt.OBLIQ:o=this.sinph0*e+this.cosph0*t*i;break;case Pt.EQUIT:o=t*i;break;case Pt.S_POLE:o=-e;break;case Pt.N_POLE:o=e;break}switch(o=this.pn1/(this.p-o),r=o*t*Math.sin(n.x),this.mode){case Pt.OBLIQ:o*=this.cosph0*e-this.sinph0*t*i;break;case Pt.EQUIT:o*=e;break;case Pt.N_POLE:o*=-(t*i);break;case Pt.S_POLE:o*=t*i;break}var l,u;return l=o*this.cg+r*this.sg,u=1/(l*this.sw*this.h1+this.cw),r=(r*this.cg-o*this.sg)*this.cw*u,o=l*u,n.x=r*this.a,n.y=o*this.a,n}function K3(n){n.x/=this.a,n.y/=this.a;var e={x:n.x,y:n.y},t,i,r;r=1/(this.pn1-n.y*this.sw),t=this.pn1*n.x*r,i=this.pn1*n.y*this.cw*r,n.x=t*this.cg+i*this.sg,n.y=i*this.cg-t*this.sg;var o=en(n.x,n.y);if(Math.abs(o)<Q)e.x=0,e.y=n.y;else{var l,u;switch(u=1-o*o*this.pfact,u=(this.p-Math.sqrt(u))/(this.pn1/o+o/this.pn1),l=Math.sqrt(1-u*u),this.mode){case Pt.OBLIQ:e.y=Math.asin(l*this.sinph0+n.y*u*this.cosph0/o),n.y=(l-this.sinph0*Math.sin(e.y))*o,n.x*=u*this.cosph0;break;case Pt.EQUIT:e.y=Math.asin(n.y*u/o),n.y=l*o,n.x*=u;break;case Pt.N_POLE:e.y=Math.asin(l),n.y=-n.y;break;case Pt.S_POLE:e.y=-Math.asin(l);break}e.x=Math.atan2(n.x,n.y)}return n.x=e.x+this.long0,n.y=e.y,n}var Z3=["Tilted_Perspective","tpers"];const Q3={init:Y3,forward:q3,inverse:K3,names:Z3};function J3(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var n=1-this.es,e=1/n;this.radius_p=Math.sqrt(n),this.radius_p2=n,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function eT(n){var e=n.x,t=n.y,i,r,o,l;if(e=e-this.long0,this.shape==="ellipse"){t=Math.atan(this.radius_p2*Math.tan(t));var u=this.radius_p/en(this.radius_p*Math.cos(t),Math.sin(t));if(r=u*Math.cos(e)*Math.cos(t),o=u*Math.sin(e)*Math.cos(t),l=u*Math.sin(t),(this.radius_g-r)*r-o*o-l*l*this.radius_p_inv2<0)return n.x=Number.NaN,n.y=Number.NaN,n;i=this.radius_g-r,this.flip_axis?(n.x=this.radius_g_1*Math.atan(o/en(l,i)),n.y=this.radius_g_1*Math.atan(l/i)):(n.x=this.radius_g_1*Math.atan(o/i),n.y=this.radius_g_1*Math.atan(l/en(o,i)))}else this.shape==="sphere"&&(i=Math.cos(t),r=Math.cos(e)*i,o=Math.sin(e)*i,l=Math.sin(t),i=this.radius_g-r,this.flip_axis?(n.x=this.radius_g_1*Math.atan(o/en(l,i)),n.y=this.radius_g_1*Math.atan(l/i)):(n.x=this.radius_g_1*Math.atan(o/i),n.y=this.radius_g_1*Math.atan(l/en(o,i))));return n.x=n.x*this.a,n.y=n.y*this.a,n}function tT(n){var e=-1,t=0,i=0,r,o,l,u;if(n.x=n.x/this.a,n.y=n.y/this.a,this.shape==="ellipse"){this.flip_axis?(i=Math.tan(n.y/this.radius_g_1),t=Math.tan(n.x/this.radius_g_1)*en(1,i)):(t=Math.tan(n.x/this.radius_g_1),i=Math.tan(n.y/this.radius_g_1)*en(1,t));var c=i/this.radius_p;if(r=t*t+c*c+e*e,o=2*this.radius_g*e,l=o*o-4*r*this.C,l<0)return n.x=Number.NaN,n.y=Number.NaN,n;u=(-o-Math.sqrt(l))/(2*r),e=this.radius_g+u*e,t*=u,i*=u,n.x=Math.atan2(t,e),n.y=Math.atan(i*Math.cos(n.x)/e),n.y=Math.atan(this.radius_p_inv2*Math.tan(n.y))}else if(this.shape==="sphere"){if(this.flip_axis?(i=Math.tan(n.y/this.radius_g_1),t=Math.tan(n.x/this.radius_g_1)*Math.sqrt(1+i*i)):(t=Math.tan(n.x/this.radius_g_1),i=Math.tan(n.y/this.radius_g_1)*Math.sqrt(1+t*t)),r=t*t+i*i+e*e,o=2*this.radius_g*e,l=o*o-4*r*this.C,l<0)return n.x=Number.NaN,n.y=Number.NaN,n;u=(-o-Math.sqrt(l))/(2*r),e=this.radius_g+u*e,t*=u,i*=u,n.x=Math.atan2(t,e),n.y=Math.atan(i*Math.cos(n.x)/e)}return n.x=n.x+this.long0,n}var nT=["Geostationary Satellite View","Geostationary_Satellite","geos"];const iT={init:J3,forward:eT,inverse:tT,names:nT};var Co=1.340264,So=-.081106,Ro=893e-6,Io=.003796,ch=Math.sqrt(3)/2;function rT(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function sT(n){var e=J(n.x-this.long0),t=n.y,i=Math.asin(ch*Math.sin(t)),r=i*i,o=r*r*r;return n.x=e*Math.cos(i)/(ch*(Co+3*So*r+o*(7*Ro+9*Io*r))),n.y=i*(Co+So*r+o*(Ro+Io*r)),n.x=this.a*n.x+this.x0,n.y=this.a*n.y+this.y0,n}function aT(n){n.x=(n.x-this.x0)/this.a,n.y=(n.y-this.y0)/this.a;var e=1e-9,t=12,i=n.y,r,o,l,u,c,d;for(d=0;d<t&&(r=i*i,o=r*r*r,l=i*(Co+So*r+o*(Ro+Io*r))-n.y,u=Co+3*So*r+o*(7*Ro+9*Io*r),i-=c=l/u,!(Math.abs(c)<e));++d);return r=i*i,o=r*r*r,n.x=ch*n.x*(Co+3*So*r+o*(7*Ro+9*Io*r))/Math.cos(i),n.y=Math.asin(Math.sin(i)/ch),n.x=J(n.x+this.long0),n}var oT=["eqearth","Equal Earth","Equal_Earth"];const lT={init:rT,forward:sT,inverse:aT,names:oT};var $o=1e-10;function uT(){var n;if(this.phi1=this.lat1,Math.abs(this.phi1)<$o)throw new Error;this.es?(this.en=fg(this.es),this.m1=da(this.phi1,this.am1=Math.sin(this.phi1),n=Math.cos(this.phi1),this.en),this.am1=n/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=cT,this.forward=hT):(Math.abs(this.phi1)+$o>=H?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=dT,this.forward=fT)}function hT(n){var e=J(n.x-(this.long0||0)),t=n.y,i,r,o;return i=this.am1+this.m1-da(t,r=Math.sin(t),o=Math.cos(t),this.en),r=o*e/(i*Math.sqrt(1-this.es*r*r)),n.x=i*Math.sin(r),n.y=this.am1-i*Math.cos(r),n.x=this.a*n.x+(this.x0||0),n.y=this.a*n.y+(this.y0||0),n}function cT(n){n.x=(n.x-(this.x0||0))/this.a,n.y=(n.y-(this.y0||0))/this.a;var e,t,i,r;if(t=en(n.x,n.y=this.am1-n.y),r=dg(this.am1+this.m1-t,this.es,this.en),(e=Math.abs(r))<H)e=Math.sin(r),i=t*Math.atan2(n.x,n.y)*Math.sqrt(1-this.es*e*e)/Math.cos(r);else if(Math.abs(e-H)<=$o)i=0;else throw new Error;return n.x=J(i+(this.long0||0)),n.y=yr(r),n}function fT(n){var e=J(n.x-(this.long0||0)),t=n.y,i,r;return r=this.cphi1+this.phi1-t,Math.abs(r)>$o?(n.x=r*Math.sin(i=e*Math.cos(t)/r),n.y=this.cphi1-r*Math.cos(i)):n.x=n.y=0,n.x=this.a*n.x+(this.x0||0),n.y=this.a*n.y+(this.y0||0),n}function dT(n){n.x=(n.x-(this.x0||0))/this.a,n.y=(n.y-(this.y0||0))/this.a;var e,t,i=en(n.x,n.y=this.cphi1-n.y);if(t=this.cphi1+this.phi1-i,Math.abs(t)>H)throw new Error;return Math.abs(Math.abs(t)-H)<=$o?e=0:e=i*Math.atan2(n.x,n.y)/Math.cos(t),n.x=J(e+(this.long0||0)),n.y=yr(t),n}var gT=["bonne","Bonne (Werner lat_1=90)"];const mT={init:uT,names:gT};function pT(n){n.Proj.projections.add(zu),n.Proj.projections.add(Gu),n.Proj.projections.add(hR),n.Proj.projections.add(xR),n.Proj.projections.add(RR),n.Proj.projections.add(AR),n.Proj.projections.add(bR),n.Proj.projections.add(BR),n.Proj.projections.add(HR),n.Proj.projections.add(QR),n.Proj.projections.add(mI),n.Proj.projections.add(EI),n.Proj.projections.add(RI),n.Proj.projections.add(kI),n.Proj.projections.add(bI),n.Proj.projections.add(BI),n.Proj.projections.add(HI),n.Proj.projections.add(QI),n.Proj.projections.add(r3),n.Proj.projections.add(u3),n.Proj.projections.add(g3),n.Proj.projections.add(v3),n.Proj.projections.add(C3),n.Proj.projections.add(P3),n.Proj.projections.add(N3),n.Proj.projections.add(B3),n.Proj.projections.add(H3),n.Proj.projections.add(Q3),n.Proj.projections.add(iT),n.Proj.projections.add(lT),n.Proj.projections.add(mT)}tn.defaultDatum="WGS84";tn.Proj=Zn;tn.WGS84=new tn.Proj("WGS84");tn.Point=oa;tn.toPoint=f1;tn.defs=zt;tn.nadgrid=fS;tn.transform=lh;tn.mgrs=TS;tn.version="__VERSION__";pT(tn);function _T(n){const e=Object.keys(n.defs),t=e.length;let i,r;for(i=0;i<t;++i){const o=e[i];if(!Nu(o)){const l=n.defs(o);let u=l.units;!u&&l.projName==="longlat"&&(u="degrees"),Hu(new ph({code:o,axisOrientation:l.axis,metersPerUnit:l.to_meter,units:u}))}}for(i=0;i<t;++i){const o=e[i],l=Nu(o);for(r=0;r<t;++r){const u=e[r],c=Nu(u);if(!Du(o,u))if(n.defs[o]===n.defs[u])Jf([l,c]);else{const d=n(o,u);Ux(l,c,Cp(l,c,d.forward),Cp(c,l,d.inverse))}}}}tn.defs("EPSG:32617","+proj=utm +zone=17 +datum=WGS84 +units=m +no_defs");_T(tn);const yT=({date:n})=>{const e=j.useRef(),t=j.useRef(null),[i,r]=j.useState(null),[o,l]=j.useState(null),[u,c]=j.useState(null),[d,g]=j.useState(null),[p,_]=j.useState(null),[v,x]=j.useState(!0),[M,w]=j.useState(null),[C,S]=j.useState(0),[L,I]=j.useState(""),[A,F]=j.useState(0),[U,z]=j.useState(""),[W,K]=j.useState(new Set),[te,ue]=j.useState(null),[de,ie]=j.useState(""),Ce="https://geep-451218.ue.r.appspot.com";j.useEffect(()=>{(async()=>{try{const[Z,X]=await Promise.all([fetch(`${Ce}/image?date=${n}`),fetch(`${Ce}/crowns?date=${n}`)]);if(!Z.ok||!X.ok)throw new Error("Data fetch failed");const[P,O]=await Promise.all([Z.json(),X.json()]);r(P),l(O);const ce=P.bands[0],ge=ce.crs_transform,[ye,we]=ce.dimensions,Re=ge[2],Ie=ge[5],Oe=ge[0],Be=ge[4],ti=[Re,Ie+we*Be,Re+ye*Oe,Ie],ns=new ZM({source:new rC({url:`${Ce}/render-image?date=${n}`,imageExtent:ti,projection:"EPSG:32617"})});c(ns),g(ti)}catch(Z){w(Z.message)}finally{x(!1)}})()},[n]),j.useEffect(()=>{if(!e.current||!i||!o)return;const G=new wM({features:new uC().readFeatures(o,{dataProjection:"EPSG:4326",featureProjection:"EPSG:32617"})}),Z=new BM({source:G,style:P=>{var ge;const O=`${P.get("GlobalID")}+${P.get("date")}`;let ce=((ge=P.get("style"))==null?void 0:ge.color)||"#FF0000";return W.has(O)&&(ce="#0000FF"),p&&P.get("GlobalID")===p.globalID&&P.get("date")===p.date&&(ce="#FFFF00"),new hr({stroke:new Jo({color:ce,width:2}),fill:new fa({color:"rgba(0,0,0,0)"})})}});if(ue(Z),t.current)t.current.setLayers([u,Z]);else{const P=new iM({target:e.current,layers:[u,Z],view:new Vn({projection:"EPSG:32617",center:[(d[0]+d[2])/2,(d[1]+d[3])/2],zoom:14,maxZoom:20})});P.getView().fit(d,{padding:[50,50,50,50]}),t.current=P}const X=P=>{var ce;const O=t.current.getFeaturesAtPixel(P.pixel)[0];_(O?{globalID:O.get("GlobalID"),latinName:O.get("latin"),date:O.get("date")}:null),Z&&!p&&((ce=te==null?void 0:te.getSource())==null||ce.refresh())};return t.current.on("click",X),()=>{t.current&&t.current.un("click",X)}},[i,o,n,W,p]),j.useEffect(()=>{S(0),I(null),F(0),z(""),ie("")},[p]);const ae=async G=>{if(G.preventDefault(),!p||C===null){ie("Please enter the leafing value");return}try{(await fetch(`${Ce}/observations`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({globalId:p.globalID,latinName:p.latinName,date:p.date,leafing:C,isFlowering:L,floweringIntensity:A,segmentation:U})})).ok?(ie("Observation submitted successfully!"),K(X=>new Set([...X,`${p.globalID}+${p.date}`])),te&&te.getSource().refresh(),_(null)):ie("Error submitting observation")}catch{ie("Network error - please try again")}setTimeout(()=>ie(""),3e3)},re=p&&le.jsxs("div",{style:{height:"100%",overflowY:"auto",backgroundColor:"white",padding:"1.5rem",borderLeft:"1px solid #e5e7eb"},children:[le.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"1rem"},children:"Feature Details"}),le.jsx("div",{style:{marginBottom:"1rem"},children:le.jsx("table",{style:{width:"100%"},children:le.jsxs("tbody",{children:[le.jsxs("tr",{children:[le.jsx("td",{style:{padding:"0.25rem 0"},children:le.jsx("strong",{children:"Global ID:"})}),le.jsx("td",{children:p.globalID})]}),le.jsxs("tr",{children:[le.jsx("td",{style:{padding:"0.25rem 0"},children:le.jsx("strong",{children:"Latin Name:"})}),le.jsx("td",{children:p.latinName})]}),le.jsxs("tr",{children:[le.jsx("td",{style:{padding:"0.25rem 0"},children:le.jsx("strong",{children:"Date:"})}),le.jsx("td",{children:p.date})]})]})})}),le.jsxs("form",{onSubmit:ae,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[le.jsx("div",{children:le.jsxs("label",{style:{display:"block",marginBottom:"0.5rem"},children:["Leafing Amount (0-10):",le.jsx("input",{type:"range",min:"0",max:"100",value:C,onChange:G=>S(parseInt(G.target.value)),style:{width:"100%",marginTop:"0.5rem"},required:!0}),le.jsx("div",{style:{textAlign:"center",marginTop:"0.25rem"},children:C===0?"None":C})]})}),le.jsxs("fieldset",{style:{border:"1px solid #e5e7eb",borderRadius:"4px",padding:"1rem",margin:"0"},children:[le.jsx("legend",{style:{padding:"0 0.5rem",fontSize:"0.875rem"},children:"Is Flowering? (Required)"}),le.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[le.jsxs("label",{style:{display:"inline-flex",alignItems:"center"},children:[le.jsx("input",{type:"radio",name:"flowering",value:"yes",checked:L==="yes",onChange:G=>{I(G.target.value),F(1)},required:!0,style:{marginRight:"0.5rem"}}),"Yes"]}),le.jsxs("label",{style:{display:"inline-flex",alignItems:"center"},children:[le.jsx("input",{type:"radio",name:"flowering",value:"no",checked:L==="no",onChange:G=>{I(G.target.value),F(0)},style:{marginRight:"0.5rem"}}),"No"]}),le.jsxs("label",{style:{display:"inline-flex",alignItems:"center"},children:[le.jsx("input",{type:"radio",name:"flowering",value:"maybe",checked:L==="maybe",onChange:G=>{I(G.target.value),F(2)},style:{marginRight:"0.5rem"}}),"Maybe"]})]})]}),L==="yes"&&le.jsx("div",{children:le.jsxs("label",{style:{display:"block",marginBottom:"0.5rem"},children:["Flowering Intensity (1-100):",le.jsx("input",{type:"range",min:"1",max:"100",value:A,onChange:G=>F(parseInt(G.target.value)),style:{width:"100%",marginTop:"0.5rem"},required:!0}),le.jsx("div",{style:{textAlign:"center",marginTop:"0.25rem"},children:A})]})}),le.jsx("div",{children:le.jsxs("label",{style:{display:"block",marginBottom:"0.5rem"},children:["Segmentation Quality:",le.jsxs("select",{value:U,onChange:G=>z(G.target.value),style:{width:"100%",padding:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"4px",marginTop:"0.5rem"},required:!0,children:[le.jsx("option",{value:"",disabled:!0,children:"Select one"}),le.jsx("option",{value:"good",children:"Good"}),le.jsx("option",{value:"okay",children:"Okay"}),le.jsx("option",{value:"bad",children:"Bad"})]})]})}),le.jsx("button",{type:"submit",style:{width:"100%",padding:"0.5rem 1rem",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginTop:"1rem"},children:"Submit Observation"})]}),de&&le.jsx("div",{style:{marginTop:"1rem",padding:"0.5rem",textAlign:"center",borderRadius:"4px",backgroundColor:de.includes("success")?"#f0fdf4":"#fef2f2",color:de.includes("success")?"#166534":"#dc2626"},children:de})]});return v?le.jsx("div",{className:"loading",children:"Loading data..."}):M?le.jsxs("div",{className:"error",children:["Error: ",M]}):le.jsxs("div",{style:{display:"flex",flexDirection:window.innerWidth<768?"column":"row",height:"100vh",border:"2px solid #e5e7eb",borderRadius:"8px",boxSizing:"border-box",overflow:"hidden"},children:[le.jsx("div",{style:{flex:1,width:p&&window.innerWidth>=768?"66.666667%":"100%",borderRight:window.innerWidth>=768?"2px solid #e5e7eb":"none",boxSizing:"border-box"},children:le.jsx("div",{ref:e,style:{width:"100%",height:"100%",border:"1px solid #d1d5db",borderRadius:"6px",boxSizing:"border-box"}})}),p&&le.jsx("div",{style:{width:window.innerWidth>=768?"33.333333%":"100%",maxWidth:"32rem",borderLeft:window.innerWidth>=768?"2px solid #e5e7eb":"none",borderTop:window.innerWidth<768?"2px solid #e5e7eb":"none",boxSizing:"border-box",backgroundColor:"white"},children:re})]})},vT=()=>{const n=["2018-04-04","2018-04-25","2018-05-23","2018-07-24","2018-08-27","2018-10-26","2018-11-26","2018-12-26","2019-01-28","2019-02-25","2019-03-25","2019-04-24","2019-05-31","2019-06-27","2019-07-24","2019-08-28","2019-09-23","2019-10-17","2019-11-28","2019-12-26","2020-01-24","2020-02-27","2020-05-27","2020-06-15","2020-08-01","2020-09-21","2020-10-26","2020-11-25","2020-12-22","2021-01-27","2021-02-25","2021-03-25","2021-04-29","2021-05-26","2021-07-02","2021-07-28","2021-08-25","2021-09-29","2021-10-27","2021-11-24","2021-12-28","2022-01-26","2022-02-24","2022-03-30","2022-04-27","2022-05-25","2022-06-29","2022-07-27","2022-08-24","2022-09-29","2022-10-27","2022-11-24","2022-12-28","2023-01-30","2023-02-07","2023-02-14","2023-02-22","2023-02-28","2023-03-07","2023-03-14","2023-03-21","2023-03-28","2023-04-04","2023-04-11","2023-04-18","2023-04-25","2023-05-02","2023-05-09","2023-05-16","2023-05-23","2023-05-30","2023-06-06","2023-06-13","2023-06-21","2023-06-27","2023-07-05","2023-07-11","2023-07-19","2023-07-26","2023-08-01","2023-08-08","2023-08-15","2023-09-05","2023-09-12","2023-09-19","2023-09-26","2023-10-03","2023-10-11","2023-10-17","2023-10-24","2023-10-31","2023-11-14","2023-11-27","2023-12-05","2023-12-12","2024-01-03","2024-01-09","2024-01-17","2024-01-25","2024-02-01","2024-02-08","2024-02-15","2024-02-21","2024-02-28","2024-03-06","2024-03-18"],[e,t]=j.useState(n[0]??""),i=r=>{t(r.target.value)};return le.jsxs("div",{style:{padding:"20px"},children:[le.jsx("h1",{style:{textAlign:"center"},children:"Forest Crown Visualization"}),le.jsxs("div",{style:{marginBottom:"20px",textAlign:"center"},children:[le.jsx("label",{htmlFor:"date-select",style:{marginRight:"10px"},children:"Select Date:"}),le.jsx("select",{id:"date-select",value:e,onChange:i,style:{padding:"8px",borderRadius:"4px",border:"1px solid #ccc",minWidth:"200px",textAlign:"center"},children:n.map(r=>le.jsx("option",{value:r,children:r},r))})]}),le.jsx(yT,{date:e,maxSize:3930})]})};function xT(){return le.jsx("div",{className:"App",children:le.jsx(vT,{})})}var lo={},P_;function ET(){if(P_)return lo;P_=1,Object.defineProperty(lo,"__esModule",{value:!0}),lo.parse=l,lo.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,v){const x=new o,M=_.length;if(M<2)return x;const w=(v==null?void 0:v.decode)||g;let C=0;do{const S=_.indexOf("=",C);if(S===-1)break;const L=_.indexOf(";",C),I=L===-1?M:L;if(S>I){C=_.lastIndexOf(";",S-1)+1;continue}const A=u(_,C,S),F=c(_,S,A),U=_.slice(A,F);if(x[U]===void 0){let z=u(_,S+1,I),W=c(_,I,z);const K=w(_.slice(z,W));x[U]=K}C=I+1}while(C<M);return x}function u(_,v,x){do{const M=_.charCodeAt(v);if(M!==32&&M!==9)return v}while(++v<x);return x}function c(_,v,x){for(;v>x;){const M=_.charCodeAt(--v);if(M!==32&&M!==9)return v+1}return x}function d(_,v,x){const M=(x==null?void 0:x.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const w=M(v);if(!e.test(w))throw new TypeError(`argument val is invalid: ${v}`);let C=_+"="+w;if(!x)return C;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);C+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);C+="; Domain="+x.domain}if(x.path){if(!i.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);C+="; Path="+x.path}if(x.expires){if(!p(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);C+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(C+="; HttpOnly"),x.secure&&(C+="; Secure"),x.partitioned&&(C+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return C}function g(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function p(_){return r.call(_)==="[object Date]"}return lo}ET();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var L_="popstate";function wT(n={}){function e(r,o){let{pathname:l="/",search:u="",hash:c=""}=ga(r.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),_d("",{pathname:l,search:u,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){let l=r.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let c=r.location.href,d=c.indexOf("#");u=d===-1?c:c.slice(0,d)}return u+"#"+(typeof o=="string"?o:Vo(o))}function i(r,o){bn(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return CT(e,t,i,n)}function ut(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function bn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MT(){return Math.random().toString(36).substring(2,10)}function A_(n,e){return{usr:n.state,key:n.key,idx:e}}function _d(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ga(e):e,state:t,key:e&&e.key||i||MT()}}function Vo({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ga(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function CT(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,l=r.history,u="POP",c=null,d=g();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function g(){return(l.state||{idx:null}).idx}function p(){u="POP";let w=g(),C=w==null?null:w-d;d=w,c&&c({action:u,location:M.location,delta:C})}function _(w,C){u="PUSH";let S=_d(M.location,w,C);t(S,w),d=g()+1;let L=A_(S,d),I=M.createHref(S);try{l.pushState(L,"",I)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;r.location.assign(I)}o&&c&&c({action:u,location:M.location,delta:1})}function v(w,C){u="REPLACE";let S=_d(M.location,w,C);t(S,w),d=g();let L=A_(S,d),I=M.createHref(S);l.replaceState(L,"",I),o&&c&&c({action:u,location:M.location,delta:0})}function x(w){let C=r.location.origin!=="null"?r.location.origin:r.location.href,S=typeof w=="string"?w:Vo(w);return S=S.replace(/ $/,"%20"),ut(C,`No window.location.(origin|href) available to create URL for href: ${S}`),new URL(S,C)}let M={get action(){return u},get location(){return n(r,l)},listen(w){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(L_,p),c=w,()=>{r.removeEventListener(L_,p),c=null}},createHref(w){return e(r,w)},createURL:x,encodeLocation(w){let C=x(w);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:_,replace:v,go(w){return l.go(w)}};return M}function C1(n,e,t="/"){return ST(n,e,t,!1)}function ST(n,e,t,i){let r=typeof e=="string"?ga(e):e,o=pr(r.pathname||"/",t);if(o==null)return null;let l=S1(n);RT(l);let u=null;for(let c=0;u==null&&c<l.length;++c){let d=bT(o);u=DT(l[c],d,i)}return u}function S1(n,e=[],t=[],i=""){let r=(o,l,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};c.relativePath.startsWith("/")&&(ut(c.relativePath.startsWith(i),`Absolute route path "${c.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(i.length));let d=Ei([i,c.relativePath]),g=t.concat(c);o.children&&o.children.length>0&&(ut(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),S1(o.children,e,g,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:OT(d,o.index),routesMeta:g})};return n.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))r(o,l);else for(let c of R1(o.path))r(o,l,c)}),e}function R1(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let l=R1(i.join("/")),u=[];return u.push(...l.map(c=>c===""?o:[o,c].join("/"))),r&&u.push(...l),u.map(c=>n.startsWith("/")&&c===""?"/":c)}function RT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:NT(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var IT=/^:[\w-]+$/,TT=3,PT=2,LT=1,AT=10,kT=-2,k_=n=>n==="*";function OT(n,e){let t=n.split("/"),i=t.length;return t.some(k_)&&(i+=kT),e&&(i+=PT),t.filter(r=>!k_(r)).reduce((r,o)=>r+(IT.test(o)?TT:o===""?LT:AT),i)}function NT(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function DT(n,e,t=!1){let{routesMeta:i}=n,r={},o="/",l=[];for(let u=0;u<i.length;++u){let c=i[u],d=u===i.length-1,g=o==="/"?e:e.slice(o.length)||"/",p=fh({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},g),_=c.route;if(!p&&d&&t&&!i[i.length-1].route.index&&(p=fh({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},g)),!p)return null;Object.assign(r,p.params),l.push({params:r,pathname:Ei([o,p.pathname]),pathnameBase:WT(Ei([o,p.pathnameBase])),route:_}),p.pathnameBase!=="/"&&(o=Ei([o,p.pathnameBase]))}return l}function fh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=FT(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((d,{paramName:g,isOptional:p},_)=>{if(g==="*"){let x=u[_]||"";l=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const v=u[_];return p&&!v?d[g]=void 0:d[g]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:l,pattern:n}}function FT(n,e=!1,t=!0){bn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,c)=>(i.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function bT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function pr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function zT(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?ga(n):n;return{pathname:t?t.startsWith("/")?t:GT(t,e):e,search:BT(i),hash:UT(r)}}function GT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Xf(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function I1(n){let e=jT(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function T1(n,e,t,i=!1){let r;typeof n=="string"?r=ga(n):(r={...n},ut(!r.pathname||!r.pathname.includes("?"),Xf("?","pathname","search",r)),ut(!r.pathname||!r.pathname.includes("#"),Xf("#","pathname","hash",r)),ut(!r.search||!r.search.includes("#"),Xf("#","search","hash",r)));let o=n===""||r.pathname==="",l=o?"/":r.pathname,u;if(l==null)u=t;else{let p=e.length-1;if(!i&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),p-=1;r.pathname=_.join("/")}u=p>=0?e[p]:"/"}let c=zT(r,u),d=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(d||g)&&(c.pathname+="/"),c}var Ei=n=>n.join("/").replace(/\/\/+/g,"/"),WT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),BT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,UT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function $T(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var P1=["POST","PUT","PATCH","DELETE"];new Set(P1);var VT=["GET",...P1];new Set(VT);var ma=j.createContext(null);ma.displayName="DataRouter";var Oh=j.createContext(null);Oh.displayName="DataRouterState";var L1=j.createContext({isTransitioning:!1});L1.displayName="ViewTransition";var XT=j.createContext(new Map);XT.displayName="Fetchers";var HT=j.createContext(null);HT.displayName="Await";var ei=j.createContext(null);ei.displayName="Navigation";var Nh=j.createContext(null);Nh.displayName="Location";var Ii=j.createContext({outlet:null,matches:[],isDataRoute:!1});Ii.displayName="Route";var _g=j.createContext(null);_g.displayName="RouteError";function YT(n,{relative:e}={}){ut(ol(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=j.useContext(ei),{hash:r,pathname:o,search:l}=ll(n,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:Ei([t,o])),i.createHref({pathname:u,search:l,hash:r})}function ol(){return j.useContext(Nh)!=null}function ts(){return ut(ol(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Nh).location}var A1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function k1(n){j.useContext(ei).static||j.useLayoutEffect(n)}function qT(){let{isDataRoute:n}=j.useContext(Ii);return n?lP():KT()}function KT(){ut(ol(),"useNavigate() may be used only in the context of a <Router> component.");let n=j.useContext(ma),{basename:e,navigator:t}=j.useContext(ei),{matches:i}=j.useContext(Ii),{pathname:r}=ts(),o=JSON.stringify(I1(i)),l=j.useRef(!1);return k1(()=>{l.current=!0}),j.useCallback((c,d={})=>{if(bn(l.current,A1),!l.current)return;if(typeof c=="number"){t.go(c);return}let g=T1(c,JSON.parse(o),r,d.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ei([e,g.pathname])),(d.replace?t.replace:t.push)(g,d.state,d)},[e,t,o,r,n])}j.createContext(null);function ll(n,{relative:e}={}){let{matches:t}=j.useContext(Ii),{pathname:i}=ts(),r=JSON.stringify(I1(t));return j.useMemo(()=>T1(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function ZT(n,e,t,i){ut(ol(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:o}=j.useContext(ei),{matches:l}=j.useContext(Ii),u=l[l.length-1],c=u?u.params:{},d=u?u.pathname:"/",g=u?u.pathnameBase:"/",p=u&&u.route;{let S=p&&p.path||"";O1(d,!p||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let _=ts(),v;v=_;let x=v.pathname||"/",M=x;if(g!=="/"){let S=g.replace(/^\//,"").split("/");M="/"+x.replace(/^\//,"").split("/").slice(S.length).join("/")}let w=!o&&t&&t.matches&&t.matches.length>0?t.matches:C1(n,{pathname:M});return bn(p||w!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),bn(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),nP(w&&w.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:Ei([g,r.encodeLocation?r.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?g:Ei([g,r.encodeLocation?r.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),l,t,i)}function QT(){let n=oP(),e=$T(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:o},"ErrorBoundary")," or"," ",j.createElement("code",{style:o},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),t?j.createElement("pre",{style:r},t):null,l)}var JT=j.createElement(QT,null),eP=class extends j.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?j.createElement(Ii.Provider,{value:this.props.routeContext},j.createElement(_g.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tP({routeContext:n,match:e,children:t}){let i=j.useContext(ma);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Ii.Provider,{value:n},t)}function nP(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,o=t==null?void 0:t.errors;if(o!=null){let c=r.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);ut(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,c+1))}let l=!1,u=-1;if(t)for(let c=0;c<r.length;c++){let d=r[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:g,errors:p}=t,_=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||_){l=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}return r.reduceRight((c,d,g)=>{let p,_=!1,v=null,x=null;t&&(p=o&&d.route.id?o[d.route.id]:void 0,v=d.route.errorElement||JT,l&&(u<0&&g===0?(O1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,x=null):u===g&&(_=!0,x=d.route.hydrateFallbackElement||null)));let M=e.concat(r.slice(0,g+1)),w=()=>{let C;return p?C=v:_?C=x:d.route.Component?C=j.createElement(d.route.Component,null):d.route.element?C=d.route.element:C=c,j.createElement(tP,{match:d,routeContext:{outlet:c,matches:M,isDataRoute:t!=null},children:C})};return t&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?j.createElement(eP,{location:t.location,revalidation:t.revalidation,component:v,error:p,children:w(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):w()},null)}function yg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iP(n){let e=j.useContext(ma);return ut(e,yg(n)),e}function rP(n){let e=j.useContext(Oh);return ut(e,yg(n)),e}function sP(n){let e=j.useContext(Ii);return ut(e,yg(n)),e}function vg(n){let e=sP(n),t=e.matches[e.matches.length-1];return ut(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function aP(){return vg("useRouteId")}function oP(){var i;let n=j.useContext(_g),e=rP("useRouteError"),t=vg("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function lP(){let{router:n}=iP("useNavigate"),e=vg("useNavigate"),t=j.useRef(!1);return k1(()=>{t.current=!0}),j.useCallback(async(r,o={})=>{bn(t.current,A1),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...o}))},[n,e])}var O_={};function O1(n,e,t){!e&&!O_[n]&&(O_[n]=!0,bn(!1,t))}j.memo(uP);function uP({routes:n,future:e,state:t}){return ZT(n,void 0,t,e)}function hP({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:o=!1}){ut(!ol(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:l,navigator:r,static:o,future:{}}),[l,r,o]);typeof t=="string"&&(t=ga(t));let{pathname:c="/",search:d="",hash:g="",state:p=null,key:_="default"}=t,v=j.useMemo(()=>{let x=pr(c,l);return x==null?null:{location:{pathname:x,search:d,hash:g,state:p,key:_},navigationType:i}},[l,c,d,g,p,_,i]);return bn(v!=null,`<Router basename="${l}"> is not able to match the URL "${c}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:j.createElement(ei.Provider,{value:u},j.createElement(Nh.Provider,{children:e,value:v}))}var ju="get",Wu="application/x-www-form-urlencoded";function Dh(n){return n!=null&&typeof n.tagName=="string"}function cP(n){return Dh(n)&&n.tagName.toLowerCase()==="button"}function fP(n){return Dh(n)&&n.tagName.toLowerCase()==="form"}function dP(n){return Dh(n)&&n.tagName.toLowerCase()==="input"}function gP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function mP(n,e){return n.button===0&&(!e||e==="_self")&&!gP(n)}var Ou=null;function pP(){if(Ou===null)try{new FormData(document.createElement("form"),0),Ou=!1}catch{Ou=!0}return Ou}var _P=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hf(n){return n!=null&&!_P.has(n)?(bn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wu}"`),null):n}function yP(n,e){let t,i,r,o,l;if(fP(n)){let u=n.getAttribute("action");i=u?pr(u,e):null,t=n.getAttribute("method")||ju,r=Hf(n.getAttribute("enctype"))||Wu,o=new FormData(n)}else if(cP(n)||dP(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||u.getAttribute("action");if(i=c?pr(c,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||ju,r=Hf(n.getAttribute("formenctype"))||Hf(u.getAttribute("enctype"))||Wu,o=new FormData(u,n),!pP()){let{name:d,type:g,value:p}=n;if(g==="image"){let _=d?`${d}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else d&&o.append(d,p)}}else{if(Dh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ju,i=null,r=Wu,l=n}return o&&r==="text/plain"&&(l=o,o=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:o,body:l}}function xg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function vP(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xP(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function EP(n,e,t){let i=await Promise.all(n.map(async r=>{let o=e.routes[r.route.id];if(o){let l=await vP(o,t);return l.links?l.links():[]}return[]}));return SP(i.flat(1).filter(xP).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function N_(n,e,t,i,r,o){let l=(c,d)=>t[d]?c.route.id!==t[d].route.id:!0,u=(c,d)=>{var g;return t[d].pathname!==c.pathname||((g=t[d].route.path)==null?void 0:g.endsWith("*"))&&t[d].params["*"]!==c.params["*"]};return o==="assets"?e.filter((c,d)=>l(c,d)||u(c,d)):o==="data"?e.filter((c,d)=>{var p;let g=i.routes[c.route.id];if(!g||!g.hasLoader)return!1;if(l(c,d)||u(c,d))return!0;if(c.route.shouldRevalidate){let _=c.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((p=t[0])==null?void 0:p.params)||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function wP(n,e){return MP(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let r=[i.module];return i.imports&&(r=r.concat(i.imports)),r}).flat(1))}function MP(n){return[...new Set(n)]}function CP(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function SP(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let o=JSON.stringify(CP(r));return t.has(o)||(t.add(o),i.push({key:o,link:r})),i},[])}function RP(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function IP(){let n=j.useContext(ma);return xg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function TP(){let n=j.useContext(Oh);return xg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Eg=j.createContext(void 0);Eg.displayName="FrameworkContext";function N1(){let n=j.useContext(Eg);return xg(n,"You must render this element inside a <HydratedRouter> element"),n}function PP(n,e){let t=j.useContext(Eg),[i,r]=j.useState(!1),[o,l]=j.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:d,onMouseLeave:g,onTouchStart:p}=e,_=j.useRef(null);j.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let M=C=>{C.forEach(S=>{l(S.isIntersecting)})},w=new IntersectionObserver(M,{threshold:.5});return _.current&&w.observe(_.current),()=>{w.disconnect()}}},[n]),j.useEffect(()=>{if(i){let M=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(M)}}},[i]);let v=()=>{r(!0)},x=()=>{r(!1),l(!1)};return t?n!=="intent"?[o,_,{}]:[o,_,{onFocus:uo(u,v),onBlur:uo(c,x),onMouseEnter:uo(d,v),onMouseLeave:uo(g,x),onTouchStart:uo(p,v)}]:[!1,_,{}]}function uo(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function LP({page:n,...e}){let{router:t}=IP(),i=j.useMemo(()=>C1(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?j.createElement(kP,{page:n,matches:i,...e}):null}function AP(n){let{manifest:e,routeModules:t}=N1(),[i,r]=j.useState([]);return j.useEffect(()=>{let o=!1;return EP(n,e,t).then(l=>{o||r(l)}),()=>{o=!0}},[n,e,t]),i}function kP({page:n,matches:e,...t}){let i=ts(),{manifest:r,routeModules:o}=N1(),{loaderData:l,matches:u}=TP(),c=j.useMemo(()=>N_(n,e,u,r,i,"data"),[n,e,u,r,i]),d=j.useMemo(()=>N_(n,e,u,r,i,"assets"),[n,e,u,r,i]),g=j.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let v=new Set,x=!1;if(e.forEach(w=>{var S;let C=r.routes[w.route.id];!C||!C.hasLoader||(!c.some(L=>L.route.id===w.route.id)&&w.route.id in l&&((S=o[w.route.id])!=null&&S.shouldRevalidate)||C.hasClientLoader?x=!0:v.add(w.route.id))}),v.size===0)return[];let M=RP(n);return x&&v.size>0&&M.searchParams.set("_routes",e.filter(w=>v.has(w.route.id)).map(w=>w.route.id).join(",")),[M.pathname+M.search]},[l,i,r,c,e,n,o]),p=j.useMemo(()=>wP(d,r),[d,r]),_=AP(d);return j.createElement(j.Fragment,null,g.map(v=>j.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...t})),p.map(v=>j.createElement("link",{key:v,rel:"modulepreload",href:v,...t})),_.map(({key:v,link:x})=>j.createElement("link",{key:v,...x})))}function OP(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var D1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{D1&&(window.__reactRouterVersion="7.1.5")}catch{}function NP({basename:n,children:e,window:t}){let i=j.useRef();i.current==null&&(i.current=wT({window:t,v5Compat:!0}));let r=i.current,[o,l]=j.useState({action:r.action,location:r.location}),u=j.useCallback(c=>{j.startTransition(()=>l(c))},[l]);return j.useLayoutEffect(()=>r.listen(u),[r,u]),j.createElement(hP,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:r})}var F1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,b1=j.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:o,replace:l,state:u,target:c,to:d,preventScrollReset:g,viewTransition:p,..._},v){let{basename:x}=j.useContext(ei),M=typeof d=="string"&&F1.test(d),w,C=!1;if(typeof d=="string"&&M&&(w=d,D1))try{let W=new URL(window.location.href),K=d.startsWith("//")?new URL(W.protocol+d):new URL(d),te=pr(K.pathname,x);K.origin===W.origin&&te!=null?d=te+K.search+K.hash:C=!0}catch{bn(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=YT(d,{relative:r}),[L,I,A]=PP(i,_),F=zP(d,{replace:l,state:u,target:c,preventScrollReset:g,relative:r,viewTransition:p});function U(W){e&&e(W),W.defaultPrevented||F(W)}let z=j.createElement("a",{..._,...A,href:w||S,onClick:C||o?e:U,ref:OP(v,I),target:c,"data-discover":!M&&t==="render"?"true":void 0});return L&&!M?j.createElement(j.Fragment,null,z,j.createElement(LP,{page:S})):z});b1.displayName="Link";var DP=j.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:o,to:l,viewTransition:u,children:c,...d},g){let p=ll(l,{relative:d.relative}),_=ts(),v=j.useContext(Oh),{navigator:x,basename:M}=j.useContext(ei),w=v!=null&&UP(p)&&u===!0,C=x.encodeLocation?x.encodeLocation(p).pathname:p.pathname,S=_.pathname,L=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(S=S.toLowerCase(),L=L?L.toLowerCase():null,C=C.toLowerCase()),L&&M&&(L=pr(L,M)||L);const I=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let A=S===C||!r&&S.startsWith(C)&&S.charAt(I)==="/",F=L!=null&&(L===C||!r&&L.startsWith(C)&&L.charAt(C.length)==="/"),U={isActive:A,isPending:F,isTransitioning:w},z=A?e:void 0,W;typeof i=="function"?W=i(U):W=[i,A?"active":null,F?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let K=typeof o=="function"?o(U):o;return j.createElement(b1,{...d,"aria-current":z,className:W,ref:g,style:K,to:l,viewTransition:u},typeof c=="function"?c(U):c)});DP.displayName="NavLink";var FP=j.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:o,method:l=ju,action:u,onSubmit:c,relative:d,preventScrollReset:g,viewTransition:p,..._},v)=>{let x=WP(),M=BP(u,{relative:d}),w=l.toLowerCase()==="get"?"get":"post",C=typeof u=="string"&&F1.test(u),S=L=>{if(c&&c(L),L.defaultPrevented)return;L.preventDefault();let I=L.nativeEvent.submitter,A=(I==null?void 0:I.getAttribute("formmethod"))||l;x(I||L.currentTarget,{fetcherKey:e,method:A,navigate:t,replace:r,state:o,relative:d,preventScrollReset:g,viewTransition:p})};return j.createElement("form",{ref:v,method:w,action:M,onSubmit:i?c:S,..._,"data-discover":!C&&n==="render"?"true":void 0})});FP.displayName="Form";function bP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z1(n){let e=j.useContext(ma);return ut(e,bP(n)),e}function zP(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:o,viewTransition:l}={}){let u=qT(),c=ts(),d=ll(n,{relative:o});return j.useCallback(g=>{if(mP(g,e)){g.preventDefault();let p=t!==void 0?t:Vo(c)===Vo(d);u(n,{replace:p,state:i,preventScrollReset:r,relative:o,viewTransition:l})}},[c,u,d,t,i,e,n,r,o,l])}var GP=0,jP=()=>`__${String(++GP)}__`;function WP(){let{router:n}=z1("useSubmit"),{basename:e}=j.useContext(ei),t=aP();return j.useCallback(async(i,r={})=>{let{action:o,method:l,encType:u,formData:c,body:d}=yP(i,e);if(r.navigate===!1){let g=r.fetcherKey||jP();await n.fetch(g,t,r.action||o,{preventScrollReset:r.preventScrollReset,formData:c,body:d,formMethod:r.method||l,formEncType:r.encType||u,flushSync:r.flushSync})}else await n.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:c,body:d,formMethod:r.method||l,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function BP(n,{relative:e}={}){let{basename:t}=j.useContext(ei),i=j.useContext(Ii);ut(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...ll(n||".",{relative:e})},l=ts();if(n==null){o.search=l.search;let u=new URLSearchParams(o.search),c=u.getAll("index");if(c.some(g=>g==="")){u.delete("index"),c.filter(p=>p).forEach(p=>u.append("index",p));let g=u.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Ei([t,o.pathname])),Vo(o)}function UP(n,e={}){let t=j.useContext(L1);ut(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=z1("useViewTransitionState"),r=ll(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=pr(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=pr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return fh(r.pathname,l)!=null||fh(r.pathname,o)!=null}new TextEncoder;B2.createRoot(document.getElementById("root")).render(le.jsx(j.StrictMode,{children:le.jsx(NP,{children:le.jsx(xT,{})})}))});export default $P();
